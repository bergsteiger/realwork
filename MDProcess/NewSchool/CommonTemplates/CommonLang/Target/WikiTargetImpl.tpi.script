////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// Модуль: "w:/MDProcess/CommonTemplates/CommonLang/Target/WikiTargetImpl.tpi"
// Генерация мета-шаблонов
// Generated from UML model, root element: <<MDACategory::Class>> MDProcess$Templates::CommonTemplates::CommonLang::Target::WikiTargetImpl
//
// Абстрактный стереотип реализующий генерацию целей сборки в wiki
//
//
// Все права принадлежат ООО НПП "Гарант-Сервис".
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//: WikiTargetImpl::Category
implementation @ <<WikiTargetImpl>>
//? Абстрактный стереотип реализующий генерацию целей сборки в wiki
//= Документация::MDAGenerator

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Функции стереотипа

//%f _st_space_key
: st_space_key OBJECT IN %S
//	MDP
 'MDP'


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Унаследованная реализация

// реализация абстрактного стереотипа Документация::MDAGenerator
// выводит описание элемента (операция, атрибут) в wiki
//%f _wiki_child_kind
; // st_space_key

: wiki_child_kind OBJECT IN %S
//#UC START# *4705CBD6003Efor47188B1503B9*
//#UC END# *4705CBD6003Efor47188B1503B9*
; // wiki_child_kind


// реализация абстрактного стереотипа Документация::MDAGenerator
// вывод описание авто-генерируемых методов в wiki
//%f _wiki_up_add_gen
: wiki_up_add_gen OBJECT IN %S
//#UC START# *470484D50138for47188B1503B9*
//#UC END# *470484D50138for47188B1503B9*
; // wiki_up_add_gen


// реализация абстрактного стереотипа Документация::MDAGenerator
// Генерация модели в MDKnow
//+ wiki
<<generator>> wiki OBJECT IN %S
//#UC START# *46E6D4BB0339for47188B1503B9*
//C /%SN:%SU
//O %SN
//	%f_wiki_header(%S)
 [%f] wiki_header %( %S )% 
//	[
 if NOT-EMPTY
 begin
  #13#10

//	{info}Включает реализацию требований:
  '{info}Включает реализацию требований:'
//	%f_clear_list(REQS)<%f_collect_req_i(%D)>\
  [%f] clear_list %( 'REQS' )% 
  INTEGER VAR l_Counter l_Counter := 0
  for %S%D
  begin
   OBJECT IN %D
   if true then
   begin
    [%f] collect_req_i %( %D )% 
    ++! l_Counter
   end // if
  end // for D
//	%f_sort_list(REQS,g)%f_unique_list(REQS)\
  [%f] sort_list %( 'REQS' %, 'g' )% [%f] unique_list %( 'REQS' )% 
//	<{}{%f_is_empty(REQS)=false}{W}[%f_pop_first_to_var(REQS,REQ)* %f_k_link(%{REQ})
  INTEGER VAR l_Counter l_Counter := 0
  while true
  begin
   if ( ( [%f] is_empty %( 'REQS' )% ) %==  false ) then
   begin
    if NOT-EMPTY
    begin
     [%f] pop_first_to_var %( 'REQS' %, 'REQ' )% '* '
     [%f] k_link %( ( get_global_var ( 'REQ' ) ) )% 
//	]>{info}]\
    end // if
    NOP

    ++! l_Counter
   end // if
   else
    break
  end // while
  '{info}' 
 end // if
 NOP
//	[{%SS!=VCMTestTarget&%SS!=TestTarget&%SS!=ExeTarget&%S#f_IsTarget()!=true}\
 if ( ( %S |S ) %!= 'VCMTestTarget' AND 
   ( ( %S |S ) %!= 'TestTarget'  ) AND 
   ( ( %S |S ) %!= 'ExeTarget'  ) AND 
   ( ( %S %?f IsTarget %( )% ) %!=  true  ) ) then
 begin
//	[
  if NOT-EMPTY
  begin
   #13#10

//	
   #13#10

//	{info}Состоит из модулей:
   '{info}Состоит из модулей:'
//	%f_link_all_dep(%S)
   [%f] link_all_dep %( %S )% 
//	{info}]\
   '{info}' 
  end // if
  NOP
//	[
  if NOT-EMPTY
  begin
   #13#10

//	%f_config_docs(%S)]\
   [%f] config_docs %( %S )% 
  end // if
  NOP
//	]\
 end // if
//	[{%mx=true&%Cx=true}
 if ( ( %m |x ) %==  true AND 
   ( ( %C |x ) %==  true  ) ) then
 begin
  #13#10

//	
  #13#10

//	Диаграмма пакета:
  'Диаграмма пакета:'
//	%f_dump_diagram(m){ShowDiagram:%mU.jpg}
  [%f] dump_diagram %( 'm' )% '{ShowDiagram:'
  %m |U '.jpg}'
//	]<%CX>
 end // if
 INTEGER VAR l_Counter l_Counter := 0
 for %S%C
 begin
  OBJECT IN %C
  if true then
  begin
   %C |X 
   ++! l_Counter
  end // if
 end // for C
//	%f_wiki_footer(%S)
 [%f] wiki_footer %( %S )% 
//#UC END# *46E6D4BB0339for47188B1503B9*
; // wiki



////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

end. // <<WikiTargetImpl>>

