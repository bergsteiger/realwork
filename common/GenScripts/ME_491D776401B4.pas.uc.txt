//#UC START# *479731C50290_491D776401B4_impl*
  UnmapViewOfFile(f_MappingAddress);
  CloseHandle(f_FileMapping);
  inherited;
//#UC END# *479731C50290_491D776401B4_impl*
//#UC START# *479731C50290_491D776401B4_var*
//#UC END# *479731C50290_491D776401B4_var*
//#UC START# *491D776401B4_ext:FileName
w:\quality\test\garant6x\AdapterTest\CoreObjects\atSharedBuffer.pas
//#UC END# *491D776401B4_ext:FileName
//#UC START# *491D78AD03E4_491D776401B4_impl*
  inherited Create;
  f_Size := aSize;
  // создаем отображение в файл подкачки
  f_FileMapping := CreateFileMapping(
    $FFFFFFFF, nil, PAGE_READWRITE OR SEC_COMMIT, 0, f_Size, PAnsiChar('{5D573166-D8D3-4419-97CE-83DDF40C9831}_' + aName)
  );
  isNewMapping := (GetLastError() = 0); // если бы уже существовало, то GetLastError возвратил бы ERROR_ALREADY_EXISTS
  if (f_FileMapping = 0) then
    Raise Exception.Create('Вызов CreateFileMapping не удался!');
  // теперь мапим в адресное пространство
  f_MappingAddress := MapViewOfFile(f_FileMapping, FILE_MAP_ALL_ACCESS, 0, 0, f_Size);
  if (f_MappingAddress = nil) then
    Raise Exception.Create('Вызов MapViewOfFile не удался!');
  if isNewMapping then
    FillChar(f_MappingAddress^, f_Size, 0);
//#UC END# *491D78AD03E4_491D776401B4_impl*
//#UC START# *491D78AD03E4_491D776401B4_var*
  var
    isNewMapping : boolean;
//#UC END# *491D78AD03E4_491D776401B4_var*
//#UC START# *491D881000F6_491D776401B4get_impl*
  Result := f_MappingAddress;
//#UC END# *491D881000F6_491D776401B4get_impl*
//#UC START# *491D881000F6_491D776401B4get_var*
//#UC END# *491D881000F6_491D776401B4get_var*
