//#UC START# *4A8AACAE0356_ext:FileName
w:\garant6x\implementation\Garant\GbaNemesis\View\TextWithComments.imp.pas
//#UC END# *4A8AACAE0356_ext:FileName
//#UC START# *4A8AACD503DC_4A8AACAE0356_impl*
 if (aControl.rControl <> nil) then
 begin
  theImageInfo.rImageList := vtMakeImageListWrapper(nsDocumentRes.CommentsImageList);
  if aControl.rControl.AsObject.IsKindOf(k2_typBitmapPara) then
  begin
   if (aControl.rFormatInfo <> nil) AND
      (aControl.rFormatInfo.ParentInfo <> nil) AND
      (aControl.rFormatInfo.ParentInfo.ParentInfo <> nil) then
   begin
    if aControl.rMetrics.IsTagCollapsed(aControl.rFormatInfo.ParentInfo.ParentInfo.Obj.AsObject) then
     theImageInfo.rFirstIndex := 3
    else
     theImageInfo.rFirstIndex := 2;
   end;//aControl.rFormatInfo <> nil
  end//aControl.rControl.IsKindOf(k2_typBitmap)
  else
   Case aControl.rControl.AsObject.IntA[k2_tiStyle] of
    ev_saTxtComment:
     theImageInfo.rFirstIndex := 0;
 (*   ev_saVersionInfo:
    begin
     theImageInfo.rImageList := vtMakeImageListWrapper(nsDocumentRes.DocumentItemsImageList);
     theImageInfo.rFirstIndex := 23{1};
     {$IfDef evNeedCollapsedVersionComments}
     if not aControl.QT(InevPara, l_Para) then
      Assert(false);
     if TextWithComments.View.IsObjectCollapsed[l_Para] then
      theImageInfo.rLastIndex := 3
     else
      theImageInfo.rLastIndex := 2;
     {$EndIf evNeedCollapsedVersionComments}
    end;//ev_saVersionInfo*)
    // - http://mdp.garant.ru/pages/viewpage.action?pageId=269085052
    ev_saChangesInfo:
    begin
     theImageInfo.rImageList := vtMakeImageListWrapper(dmStdRes.SmallImageList);
     theImageInfo.rFirstIndex := 206;
(*     theImageInfo.rImageList := vtMakeImageListWrapper(nsDocumentRes.DocumentItemsImageList);
     theImageInfo.rFirstIndex := 23;*)
     //theImageInfo.rFirstIndex := 1;
     theImageInfo.rLeftIndent := aControl.rControl.AsObject.IntA[k2_tiFirstIndent] div 2;
    end;//ev_saChangesInfo
    else
    begin
     theImageInfo.rImageList := nil;
     theImageInfo.rFirstIndex := -1;
    end;
   end;//Case aControl.rControl.IntA[k2_tiStyle]
 end;//aControl.rControl <> nil
//#UC END# *4A8AACD503DC_4A8AACAE0356_impl*
//#UC START# *4A8AACD503DC_4A8AACAE0356_var*
//#UC END# *4A8AACD503DC_4A8AACAE0356_var*
//#UC START# *4A8E8F2E0195_4A8AACAE0356_impl*
 inherited;
 with TextWithComments do
 begin
  TextSource.OnGetControlItemImg := Self.TextSourceGetControlItemImg;
 end;//with TextWithComments
//#UC END# *4A8E8F2E0195_4A8AACAE0356_impl*
//#UC START# *4A8E8F2E0195_4A8AACAE0356_var*
//#UC END# *4A8E8F2E0195_4A8AACAE0356_var*
