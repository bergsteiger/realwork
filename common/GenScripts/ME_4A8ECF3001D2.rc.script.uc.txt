//#UC START# *4A8ECF3001D2_ext:FileName
w:\garant6x\implementation\Garant\GbaNemesis\View\Search\PrimMonitorings_Module.rc.script
//#UC END# *4A8ECF3001D2_ext:FileName
//#UC START# *4A8ECF3001D2exports*
 *
//#UC END# *4A8ECF3001D2exports*
//#UC START# *4A8ECF3001D2impl*
USES
 axiom:моп
 axiom:оп
 axiom:vcm
 axiom:history
 axiom:control
 axiom:wait
 axiom:waited
;

PROCEDURE RunLegislationReviewSearch OBJECT IN aProc
 // - запускает поиск по КЗ ОИЗ
 vcm:Dispatcher:Lock
 TRY
  моп::ПРАЙМ_ПРАЙМ._Обзор_изменений_законодательства
  OBJECT VAR l_QC
  BOOLEAN VAR l_NotFound
  l_NotFound := false
  focused:control:push >>> l_QC
  l_QC IS class::TevQueryCardEditor ?ASSURE 'Фокус не в КЗ'
  aProc DO
  2 wait:Choice
  TRY
   Ok
   OnTest
  FINALLY
   TRY
    waited:? ?ASSURE 'Не дождались выбора'
    true >>> l_NotFound
   EXCEPT
    DROP
    false >>> l_NotFound
   END
   if l_NotFound then (
    оп::История_Назад
    OnTest
    history:DeleteForwardItem
   )
   else
    history:DeleteBackItem
  END
 FINALLY
  vcm:Dispatcher:Unlock
 END
; // RunLegislationReviewSearch'
//#UC END# *4A8ECF3001D2impl*
