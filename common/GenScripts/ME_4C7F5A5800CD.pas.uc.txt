//#UC START# *4BDAF7880236_4C7F5A5800CDexec_impl*
 aParams.CallControl;
//#UC END# *4BDAF7880236_4C7F5A5800CDexec_impl*
//#UC START# *4BDAF7880236_4C7F5A5800CDexec_var*
//#UC END# *4BDAF7880236_4C7F5A5800CDexec_var*
//#UC START# *4BDAF7880236_4C7F5A5800CDtest_impl*
 if not aParams.CallControl then
  aParams.Op.Flag[vcm_ofEnabled] := False;
//#UC END# *4BDAF7880236_4C7F5A5800CDtest_impl*
//#UC START# *4BDAF7880236_4C7F5A5800CDtest_var*
//#UC END# *4BDAF7880236_4C7F5A5800CDtest_var*
//#UC START# *4BDAF7A2005C_4C7F5A5800CDexec_impl*
 aParams.CallControl;
//#UC END# *4BDAF7A2005C_4C7F5A5800CDexec_impl*
//#UC START# *4BDAF7A2005C_4C7F5A5800CDexec_var*
//#UC END# *4BDAF7A2005C_4C7F5A5800CDexec_var*
//#UC START# *4BDAF7A2005C_4C7F5A5800CDtest_impl*
 if not aParams.CallControl then
  aParams.Op.Flag[vcm_ofEnabled] := False;
//#UC END# *4BDAF7A2005C_4C7F5A5800CDtest_impl*
//#UC START# *4BDAF7A2005C_4C7F5A5800CDtest_var*
//#UC END# *4BDAF7A2005C_4C7F5A5800CDtest_var*
//#UC START# *4BDAF7B803CF_4C7F5A5800CDexec_impl*
 aParams.CallControl;
//#UC END# *4BDAF7B803CF_4C7F5A5800CDexec_impl*
//#UC START# *4BDAF7B803CF_4C7F5A5800CDexec_var*
//#UC END# *4BDAF7B803CF_4C7F5A5800CDexec_var*
//#UC START# *4BDAF7B803CF_4C7F5A5800CDtest_impl*
 if not aParams.CallControl then
  aParams.Op.Flag[vcm_ofEnabled] := False;
//#UC END# *4BDAF7B803CF_4C7F5A5800CDtest_impl*
//#UC START# *4BDAF7B803CF_4C7F5A5800CDtest_var*
//#UC END# *4BDAF7B803CF_4C7F5A5800CDtest_var*
//#UC START# *4C52AA040095_4C7F5A5800CDexec_impl*
 ClearFilters;
//#UC END# *4C52AA040095_4C7F5A5800CDexec_impl*
//#UC START# *4C52AA040095_4C7F5A5800CDexec_var*
//#UC END# *4C52AA040095_4C7F5A5800CDexec_var*
//#UC START# *4C52AA040095_4C7F5A5800CDtest_impl*
 aParams.Op.Flag[vcm_ofEnabled] := (FiltersList.TreeView.Tree.SelectedCount > 0);
//#UC END# *4C52AA040095_4C7F5A5800CDtest_impl*
//#UC START# *4C52AA040095_4C7F5A5800CDtest_var*
//#UC END# *4C52AA040095_4C7F5A5800CDtest_var*
//#UC START# *4C7D0CC90052_4C7F5A5800CDexec_impl*
 with FiltersList do
 begin
  l_CurNode := CurrentCNode;
  try
   if Supports(l_CurNode, InsFilterNode, l_Node) and l_Node.CanModify then
   begin
    l_ConfirmationResult := Ask(qr_DeleteFilter, [l3CStr(l_CurNode)]);
    if l_ConfirmationResult then
    begin
     //ChangeActiveStatus(FiltersList, l_CurNode, False);  убрано. СМ: http://mdp.garant.ru/pages/viewpage.action?pageId=450293671
     l_CurNode := nil;
     l_Node.MarkToDelete;
    end;//l_ConfirmationResult
   end;
  finally
   l_CurNode := nil;
  end;//try..finally
 end;//with FiltersList
//#UC END# *4C7D0CC90052_4C7F5A5800CDexec_impl*
//#UC START# *4C7D0CC90052_4C7F5A5800CDexec_var*
var
 l_CurNode: Il3Node;
 l_ConfirmationResult: Boolean;
 l_Node: InsFilterNode;
//#UC END# *4C7D0CC90052_4C7F5A5800CDexec_var*
//#UC START# *4C7D0CC90052_4C7F5A5800CDtest_impl*
 Filter_Edit_Test(aParams);
//#UC END# *4C7D0CC90052_4C7F5A5800CDtest_impl*
//#UC START# *4C7D0CC90052_4C7F5A5800CDtest_var*
//#UC END# *4C7D0CC90052_4C7F5A5800CDtest_var*
//#UC START# *4C7F5A5800CD_ext:FileName
w:\garant6x\implementation\Garant\GbaNemesis\View\Filters\Forms\PrimFiltersOptions_Form.pas
//#UC END# *4C7F5A5800CD_ext:FileName
//#UC START# *4C7F5A5800CDimpl_uses*
//#UC END# *4C7F5A5800CDimpl_uses*
//#UC START# *4C7F5CBD0071_4C7F5A5800CDexec_impl*
 if Supports(FiltersList.TreeStruct, InsFiltersTree, l_Tree) then
  TdmStdRes.MakeNewFilter(l_Tree.FiltersType)
 else
  TdmStdRes.MakeNewFilter(bs_ltDocument);
//#UC END# *4C7F5CBD0071_4C7F5A5800CDexec_impl*
//#UC START# *4C7F5CBD0071_4C7F5A5800CDexec_var*
var
 l_Tree: InsFiltersTree;
//#UC END# *4C7F5CBD0071_4C7F5A5800CDexec_var*
//#UC START# *4C7F5CBD0071_4C7F5A5800CDtest_impl*
//#UC END# *4C7F5CBD0071_4C7F5A5800CDtest_impl*
//#UC START# *4C7F5CBD0071_4C7F5A5800CDtest_var*
//#UC END# *4C7F5CBD0071_4C7F5A5800CDtest_var*
//#UC START# *4C7F5CCB00B3_4C7F5A5800CDexec_impl*
 if (Aggregate <> nil) then
  if not op_Filterable_Refresh.Call(Aggregate) then
   if Ask(qr_EmptyListFiltersChanged) then
    ClearFilters;
//#UC END# *4C7F5CCB00B3_4C7F5A5800CDexec_impl*
//#UC START# *4C7F5CCB00B3_4C7F5A5800CDexec_var*
//#UC END# *4C7F5CCB00B3_4C7F5A5800CDexec_var*
//#UC START# *4C7F5CCB00B3_4C7F5A5800CDtest_impl*
 aParams.Op.Flag[vcm_ofEnabled] := (FiltersList.TreeView.Tree.SelectedCount > 0);
//#UC END# *4C7F5CCB00B3_4C7F5A5800CDtest_impl*
//#UC START# *4C7F5CCB00B3_4C7F5A5800CDtest_var*
//#UC END# *4C7F5CCB00B3_4C7F5A5800CDtest_var*
//#UC START# *4C7F5E030232_4C7F5A5800CDexec_impl*
 if (Filters <> nil) then
  l_Data := Filters.OpenFilter(FiltersList.GetCurrentNode)
 else
 if Supports(FiltersList.GetCurrentNode, IFilterFromQuery, l_Filter) then
  l_Data := TdeFilter.Make(l_Filter)
 else
  l_Data := nil;
 TdmStdRes.EditFilter(l_Data, aParams.ItemIndex);
//#UC END# *4C7F5E030232_4C7F5A5800CDexec_impl*
//#UC START# *4C7F5E030232_4C7F5A5800CDexec_var*
var
 l_Data   : IdeFilter;
 l_Filter : IFilterFromQuery;
//#UC END# *4C7F5E030232_4C7F5A5800CDexec_var*
//#UC START# *4C7F5E030232_4C7F5A5800CDtest_impl*
 with FiltersList.TreeView do
  if Tree.Root.HasChild then
   aParams.Op.Flag[vcm_ofEnabled] := (CurrentNode <> nil) and Supports(CurrentNode, InsFilterNode, l_Filter) and
    l_Filter.CanModify
  else
   aParams.Op.Flag[vcm_ofEnabled] := False;
//#UC END# *4C7F5E030232_4C7F5A5800CDtest_impl*
//#UC START# *4C7F5E030232_4C7F5A5800CDtest_var*
var
 l_Filter: InsFilterNode;
//#UC END# *4C7F5E030232_4C7F5A5800CDtest_var*
//#UC START# *4C7F5E7E01D6_4C7F5A5800CDexec_impl*
 if Supports(FiltersList.GetCurrentNode, InsFilterNode, l_Filter) then
  with l_Filter, FiltersList do
  begin
   Changing;
   try
    AutoApplied := not AutoApplied;
   finally
    Changed;
   end; 
  end;
//#UC END# *4C7F5E7E01D6_4C7F5A5800CDexec_impl*
//#UC START# *4C7F5E7E01D6_4C7F5A5800CDexec_var*
var
 l_Filter: InsFilterNode;
//#UC END# *4C7F5E7E01D6_4C7F5A5800CDexec_var*
//#UC START# *4C7F5E7E01D6_4C7F5A5800CDtest_impl*
 aParams.Op.Flag[vcm_ofChecked] := Supports(FiltersList.GetCurrentNode,
  InsFilterNode, l_Filter) and l_Filter.AutoApplied;
//#UC END# *4C7F5E7E01D6_4C7F5A5800CDtest_impl*
//#UC START# *4C7F5E7E01D6_4C7F5A5800CDtest_var*
var
 l_Filter: InsFilterNode;
//#UC END# *4C7F5E7E01D6_4C7F5A5800CDtest_var*
//#UC START# *4CB7004603CF_4C7F5A5800CDexec_impl*
 if Supports(FiltersList.GetCurrentNode, IFilterFromQuery, l_Filter) then
  TdmStdRes.RenameFilter(l_Filter);
//#UC END# *4CB7004603CF_4C7F5A5800CDexec_impl*
//#UC START# *4CB7004603CF_4C7F5A5800CDexec_var*
var
 l_Filter: IFilterFromQuery;
//#UC END# *4CB7004603CF_4C7F5A5800CDexec_var*
//#UC START# *4CB7004603CF_4C7F5A5800CDtest_impl*
 aParams.Op.Flag[vcm_ofEnabled] := Supports(FiltersList.GetCurrentNode, InsFilterNode, l_Filter) AND l_Filter.CanModify;
//#UC END# *4CB7004603CF_4C7F5A5800CDtest_impl*
//#UC START# *4CB7004603CF_4C7F5A5800CDtest_var*
var
 l_Filter : InsFilterNode;
//#UC END# *4CB7004603CF_4C7F5A5800CDtest_var*
//#UC START# *4DBA95ED03B7_4C7F5A5800CDexec_impl*
 ClearFilters;
//#UC END# *4DBA95ED03B7_4C7F5A5800CDexec_impl*
//#UC START# *4DBA95ED03B7_4C7F5A5800CDexec_var*
//#UC END# *4DBA95ED03B7_4C7F5A5800CDexec_var*
