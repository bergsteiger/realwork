//#UC START# *49521D8E0295_4C87C62302CFtest_impl*
 File_PrintPreview_Test(aParams);
 {$IFDEF Monitorings}
 if aParams.Op.Flag[vcm_ofEnabled] then
  if (afw.Application = nil) OR (afw.Application.PrintManager = nil) OR
     not afw.Application.PrintManager.CanPrint then
   aParams.Op.Flag[vcm_ofEnabled] := false;
 {$ENDIF Monitorings}
//#UC END# *49521D8E0295_4C87C62302CFtest_impl*
//#UC START# *49521D8E0295_4C87C62302CFtest_var*
//#UC END# *49521D8E0295_4C87C62302CFtest_var*
//#UC START# *49EDFA3701B0_4C87C62302CFtest_impl*
 if aParams.CallControl and aParams.Op.Flag[vcm_ofEnabled] then
 begin
  l_CustControl := evGetCustomControl(Editor.Selection.Cursor.MostInner.Obj^.AsObject);
  aParams.Op.Flag[vcm_ofEnabled] := Assigned(l_CustControl)
                                and l_CustControl.Visible
                                and (l_CustControl.ControlType in evEditControls);
  if Supports(l_CustControl, IevEditorControl, l_Control) then
   aParams.Op.Flag[vcm_ofEnabled] := aParams.Op.Flag[vcm_ofEnabled] and l_Control.Enabled;
 end;
//#UC END# *49EDFA3701B0_4C87C62302CFtest_impl*
//#UC START# *49EDFA3701B0_4C87C62302CFtest_var*
var
 l_CustControl: IevCustomEditorControl;
 l_Control: IevEditorControl;
//#UC END# *49EDFA3701B0_4C87C62302CFtest_var*
//#UC START# *49EDFCA2006D_4C87C62302CFtest_impl*
 if aParams.CallControl and aParams.Op.Flag[vcm_ofEnabled] then
 begin
  l_CustControl := evGetCustomControl(Editor.Selection.Cursor.MostInner.Obj^.AsObject);
  aParams.Op.Flag[vcm_ofEnabled] := Assigned(l_CustControl)
                                and l_CustControl.Visible
                                and (l_CustControl.ControlType in evEditControls);
  if Supports(l_CustControl, IevEditorControl, l_Control) then
   aParams.Op.Flag[vcm_ofEnabled] := aParams.Op.Flag[vcm_ofEnabled] and l_Control.Enabled;
 end;
//#UC END# *49EDFCA2006D_4C87C62302CFtest_impl*
//#UC START# *49EDFCA2006D_4C87C62302CFtest_var*
var
 l_CustControl: IevCustomEditorControl;
 l_Control: IevEditorControl;
//#UC END# *49EDFCA2006D_4C87C62302CFtest_var*
//#UC START# *49EDFCB100BC_4C87C62302CFtest_impl*
 if aParams.CallControl and aParams.Op.Flag[vcm_ofEnabled] then
 begin
  l_CustControl := evGetCustomControl(Editor.Selection.Cursor.MostInner.Obj^.AsObject);
  aParams.Op.Flag[vcm_ofEnabled] := Assigned(l_CustControl)
                                and l_CustControl.Visible
                                and (l_CustControl.ControlType in evEditControls);
  if Supports(l_CustControl, IevEditorControl, l_Control) then
   aParams.Op.Flag[vcm_ofEnabled] := aParams.Op.Flag[vcm_ofEnabled] and l_Control.Enabled;
 end;
//#UC END# *49EDFCB100BC_4C87C62302CFtest_impl*
//#UC START# *49EDFCB100BC_4C87C62302CFtest_var*
var
 l_CustControl: IevCustomEditorControl;
 l_Control: IevEditorControl;
//#UC END# *49EDFCB100BC_4C87C62302CFtest_var*
//#UC START# *4A7C18B20241_4C87C62302CFexec_impl*
 Editor.Canvas.DrawSpecial := not Editor.Canvas.DrawSpecial;
//#UC END# *4A7C18B20241_4C87C62302CFexec_impl*
//#UC START# *4A7C18B20241_4C87C62302CFexec_var*
//#UC END# *4A7C18B20241_4C87C62302CFexec_var*
//#UC START# *4A7C18B20241_4C87C62302CFtest_impl*
 aParams.Op.Flag[vcm_ofVisible] := DefDataAdapter.IsInternal;
 aParams.Op.Flag[vcm_ofChecked] := Editor.Canvas.DrawSpecial;
//#UC END# *4A7C18B20241_4C87C62302CFtest_impl*
//#UC START# *4A7C18B20241_4C87C62302CFtest_var*
//#UC END# *4A7C18B20241_4C87C62302CFtest_var*
//#UC START# *4C7D0C7B0185_4C87C62302CFtest_impl*
 if aParams.CallControl and aParams.Op.Flag[vcm_ofEnabled] then
 begin
  l_Control := evGetCustomControl(Editor.Selection.Cursor.MostInner.Obj^.AsObject);
  if (l_Control <> nil) and l_Control.Visible then
   aParams.Op.Flag[vcm_ofEnabled] := (l_Control.ControlType in evEditControls)
    and Supports(l_Control, IevEditorControlField, l_Field)
    and not l_Field.IsFieldEmpty;
 end;//if Assigned(f_MgrSearch) then
//#UC END# *4C7D0C7B0185_4C87C62302CFtest_impl*
//#UC START# *4C7D0C7B0185_4C87C62302CFtest_var*
var
 l_Control : IevCustomEditorControl;
 l_Field   : IevEditorControlField; 
//#UC END# *4C7D0C7B0185_4C87C62302CFtest_var*
//#UC START# *4C7D0CC90052_4C87C62302CFexec_impl*
 if Assigned(f_MgrSearch) then
  f_MgrSearch.DeleteValue(Editor.View);
//#UC END# *4C7D0CC90052_4C87C62302CFexec_impl*
//#UC START# *4C7D0CC90052_4C87C62302CFexec_var*
//#UC END# *4C7D0CC90052_4C87C62302CFexec_var*
//#UC START# *4C7D0CC90052_4C87C62302CFtest_impl*
 aParams.Op.Flag[vcm_ofEnabled] := False;
 if Assigned(f_MgrSearch) then
 begin
  l_Req := f_MgrSearch.GetCurrentReq;
  if l_Req <> nil then
   (* Атрибутов выбор диапазона дат *)
   if not lp_CheckDatePanel then
   (* Телефон *)
    if not lp_CheckPhonePanel then
    (* Панель строковый атрибут *)
     if not lp_CheckMemoPanel then
     (* Словарный атрибут *)
      lp_CheckPanel;
 end;//if Assigned(f_MgrSearch) then   
//#UC END# *4C7D0CC90052_4C87C62302CFtest_impl*
//#UC START# *4C7D0CC90052_4C87C62302CFtest_var*
var
 l_Req: IqaReq; 

 function lp_CheckPanel: Boolean;
 begin//lp_CheckPanel
  aParams.Op.Flag[vcm_ofEnabled] := (evIsFieldSet(f_MgrSearch.GetCurrentField, true) or
   (l_Req.EditorReq.FieldsCount > 1));
  Result := True;
 end;//lp_CheckPanel

 function lp_CheckDatePanel : Boolean;
 begin
  Result := Supports(l_Req, IqaDateReq);
  if Result then
   aParams.Op.Flag[vcm_ofEnabled] := evIsSomeFieldFilled(f_MgrSearch.GetCurrentField.Req, true);
 end;

 function lp_CheckPhonePanel : Boolean;
 var
  l_PhoneReq : IqaPhoneReq;
 begin
  Result := Supports(l_Req, IqaPhoneReq, l_PhoneReq);
  if Result then
   aParams.Op.Flag[vcm_ofEnabled] := not l3IsNil(l_PhoneReq.Code) or
    not l3IsNil(l_PhoneReq.Number);
 end;

 function lp_CheckMemoPanel : Boolean;
 var
  l_Button  : IevEditorControlButton;
 begin
  Result := l_Req.EditorReq.FirstField.ControlType in evSimpleEditors;
  if Result then
  begin
   l_Button := f_MgrSearch.GetCurrentField.FindButton(ev_btDelete);
   if (l_Button <> nil) then
    aParams.Op.Flag[vcm_ofEnabled] := l_Button.Visible
   else
    aParams.Op.Flag[vcm_ofEnabled] := not l_Req.EditorReq.FirstField.IsFieldEmpty;
  end;//Result
 end;

//#UC END# *4C7D0CC90052_4C87C62302CFtest_var*
