//#UC START# *479152500168_51612ED700B4_impl*
 if (Self <> nil) then
  InterlockedIncrement(f_RefCount);
 Result := Self;
//#UC END# *479152500168_51612ED700B4_impl*
//#UC START# *479152500168_51612ED700B4_var*
//#UC END# *479152500168_51612ED700B4_var*
//#UC START# *479731C50290_51612ED700B4_impl*
//#UC END# *479731C50290_51612ED700B4_impl*
//#UC START# *479731C50290_51612ED700B4_var*
//#UC END# *479731C50290_51612ED700B4_var*
//#UC START# *479F2AFB0397_51612ED700B4_impl*
 Cleanup;
//#UC END# *479F2AFB0397_51612ED700B4_impl*
//#UC START# *479F2AFB0397_51612ED700B4_var*
//#UC END# *479F2AFB0397_51612ED700B4_var*
//#UC START# *48077504027E_51612ED700B4_impl*
  if (InterlockedDecrement(f_RefCount) = 0) then
  begin
   Inc(f_RefCount);
   try
    try
     Release;
    finally
     inherited Destroy;
    end;//try..finally
   finally
    Dec(f_RefCount);
   end;{try..finally}
  end;//InterlockedDecrement(f_RefCount) = 0
//#UC END# *48077504027E_51612ED700B4_impl*
//#UC START# *48077504027E_51612ED700B4_var*
//#UC END# *48077504027E_51612ED700B4_var*
//#UC START# *49BFC98902FF_51612ED700B4_impl*
//#UC END# *49BFC98902FF_51612ED700B4_impl*
//#UC START# *49BFC98902FF_51612ED700B4_var*
//#UC END# *49BFC98902FF_51612ED700B4_var*
//#UC START# *516131510341_51612ED700B4_impl*
 Result := inherited NewInstance;
 _RefCounted_(Result).Use;
//#UC END# *516131510341_51612ED700B4_impl*
//#UC START# *516131510341_51612ED700B4_var*
//#UC END# *516131510341_51612ED700B4_var*
//#UC START# *5161317A0219_51612ED700B4_impl*
 if (f_RefCount = 0) then
  inherited FreeInstance;
//#UC END# *5161317A0219_51612ED700B4_impl*
//#UC START# *5161317A0219_51612ED700B4_var*
//#UC END# *5161317A0219_51612ED700B4_var*
//#UC START# *5161325E01CB_51612ED700B4_impl*
 if (Pointer(F) = Self) then
  Result := false
 else
 begin
  Result := true;
  TObject(F).Free;
  Pointer(F) := Self.Use;
 end;//Pointer(F) = V
//#UC END# *5161325E01CB_51612ED700B4_impl*
//#UC START# *5161325E01CB_51612ED700B4_var*
//#UC END# *5161325E01CB_51612ED700B4_var*
//#UC START# *51DAEFC6017B_51612ED700B4_impl*
 if (f_RefCount = 1) then
 begin
  inherited BeforeDestruction;
  try
   BeforeRelease;
  except
//   {$IfDef _UnknownNeedL3}
//   on E: Exception do l3System.Exception2Log(E);
//   {$Else  _UnknownNeedL3}
   raise;
//   {$EndIf _UnknownNeedL3}
  end;//try..except
  //f_RefCount = 1
 end;//f_RefCount = 1
//#UC END# *51DAEFC6017B_51612ED700B4_impl*
//#UC START# *51DAEFC6017B_51612ED700B4_var*
//#UC END# *51DAEFC6017B_51612ED700B4_var*
