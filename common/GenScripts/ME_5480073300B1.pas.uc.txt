//#UC START# *5480073300B1_ext:FileName
w:\common\components\rtl\Garant\L3\l3StopWatch.pas
//#UC END# *5480073300B1_ext:FileName
//#UC START# *5480073300B1impl_uses*
//#UC END# *5480073300B1impl_uses*
//#UC START# *5480080A006F*
  QueryPerformanceFrequency(g_Freq);
  g_StopSection := TCriticalSection.Create;
//#UC END# *5480080A006F*
//#UC START# *54800888018B_548007530030_impl*
  g_StopSection.Enter;
  try
    Inc(f_Start, aSource.f_Start);
    Inc(f_Count, aSource.f_Count);
    Inc(f_Total, aSource.f_Total);
  finally
    g_StopSection.Leave;
  end;
//#UC END# *54800888018B_548007530030_impl*
//#UC START# *54800888018B_548007530030_var*
//#UC END# *54800888018B_548007530030_var*
//#UC START# *548008B003AB_548007530030_impl*
  f_Start := 0;
  f_Count := 0;
  f_Total := 0;
//#UC END# *548008B003AB_548007530030_impl*
//#UC START# *548008B003AB_548007530030_var*
//#UC END# *548008B003AB_548007530030_var*
//#UC START# *548008C4036C_548007530030_impl*
  QueryPerformanceCounter(f_Start);
//#UC END# *548008C4036C_548007530030_impl*
//#UC START# *548008C4036C_548007530030_var*
//#UC END# *548008C4036C_548007530030_var*
//#UC START# *5480092E039D_548007530030_impl*
  QueryPerformanceCounter(l_Stop);
  Inc(f_Count, aCount);
  Inc(f_Total, l_Stop - f_Start);
//#UC END# *5480092E039D_548007530030_impl*
//#UC START# *5480092E039D_548007530030_var*
var
  l_Stop: int64;
//#UC END# *5480092E039D_548007530030_var*
//#UC START# *5480097D00D1_548007530030_impl*
  Result := (f_Total / g_Freq);
//#UC END# *5480097D00D1_548007530030_impl*
//#UC START# *5480097D00D1_548007530030_var*
//#UC END# *5480097D00D1_548007530030_var*
//#UC START# *548009B60076_548007530030_impl*
  if OpsCount > 0 then
   Result := Time / OpsCount
  else
   Result := 0;
//#UC END# *548009B60076_548007530030_impl*
//#UC START# *548009B60076_548007530030_var*
//#UC END# *548009B60076_548007530030_var*
//#UC START# *548009FB0066_548007530030_impl*
  Result := OpsCount / Time;
//#UC END# *548009FB0066_548007530030_impl*
//#UC START# *548009FB0066_548007530030_var*
//#UC END# *548009FB0066_548007530030_var*
//#UC START# *54800A2E03D8_548007530030_impl*
  Result := f_Count;
//#UC END# *54800A2E03D8_548007530030_impl*
//#UC START# *54800A2E03D8_548007530030_var*
//#UC END# *54800A2E03D8_548007530030_var*
//#UC START# *54800B1E0193*
  g_StopSection.Free;
//#UC END# *54800B1E0193*
