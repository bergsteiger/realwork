Библиотека ExprMake предназначена для автоматизации построения формул с помощью библиотеки ExprDraw.

Библиотека содержит класс TExprBuilder, который строит дерево выражения по строке, содержащей
выражение в текстовом виде. Подробно синтаксис исходного выражения с примерами разобран в программе
ExprGuide.

Класс TExprBuilder имеет две функции для построения выражений: BuildExpr и SafeBuildExpr. Обе эти
функции в качестве параметра принимают строку и возвращают указатель на корень построенного дерева.
Если выражение содержит ошибки, возникает исключение EIncorrectExpr. Если исключение возникло во
время работы функции BuildExpr, в памяти остаётся мусор от частично построенного дерева, поэтому
функцией BuildExpr можно пользоваться только для заведомо корректных строк. Функция SafeBuildExpr
сначала осуществляет прогонку алгоритма построения дерева вхолостую. На этом этапе дерево не строится,
но исключения при неверном синтаксисе возникают. И только если первый этап пройден успешно, функция
приступает к следующему этапу: построению дерева. Дерево, созданное в результате работы функций
BuildExpr и SafeBuidExpr, после использования надо освободить, вызвав Free.

Библиотека ExprMake также содержит глобальные функции BuildExpr и SafeBuildExpr. Они создают экземпляр
класса TExprBuilder, вызывают его одноимённую функцию, а затем освобождают созданный TExprBuilder.
Эти функции можно использовать, если нужно создать только одно дерево, в противном случае оптимальнее
создать вручную класс TExprBuilder, вызвать необходимое число раз BuildExpr или SafeBuildExpr, а затем
вручную его удалить.

Примеры создания выражений, рассмотренные в ExprDraw.txt, с использованием ExprMake можно переписать
так:

Пример 1.
                   c
Выражение вида a+b(-+1) (используется простая дробь).
                   d

Expr:=BuildExpr('a+b*(c/d+1)');


Пример 2.
Выражение "игрек равно корень третьей степени из икс минус 1"

Expr:=BuildExpr('y=Root(3,x-1)');


Пример 3.
Вырежение "игрек равно е в степени икс"

Expr:=BuildExpr('y=Pow(e,x)');


Пример 4.
Выражение "Косинус квадрат фи плюс синус квадрат фи равно единице"

Expr:=BuildExpr('cos(phi)^2+sin(phi)^2=1');


Пример 5
Билинейная форма

Expr:=BuildExpr('Summa(Summa(a_ij*x_i*x_j,j=1,n),i=1,n)');


Пример 6
Выражение "предел 1/х при х, стремящемся к 0, равен плюс-минус бесконечности"

Expr:=BuildExpr('lim(x->0,1/x)=+-Inf');


Пример 7
Производная произведения функций

Expr:=BuildExpr('(f(x)*g(x))`=f(x)`*g(x)+f(x)*g(x)`');