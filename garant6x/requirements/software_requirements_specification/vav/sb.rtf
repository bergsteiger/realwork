{\rtf1\ansi\deflang1049{\fonttbl{\f12\fnil\fcharset204\fprq0 Microsoft Sans Serif;}{\f16\fnil\fcharset204\fprq0 Times New Roman;}{\f21\fswiss\fcharset0\fprq2 Arial;}{\f45\fswiss\fcharset0\fprq2 Microsoft Sans Serif;}{\f52\fswiss\fcharset0\fprq2 Microsoft Sans Serif;}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;}{\stylesheet{\s0\snext0\f21\fs22\nowidctlpar\widctlpar Normal;}{\s1\sbasedon0\snext0\fs28\b\kerning28\keepn\sb240\sa60 Heading 1;}{\s2\sbasedon0\snext0\fs24\b\i\keepn\sb240\sa60 Heading 2;}{\s3\sbasedon0\snext0\fs22\b\keepn\sb240\sa60 Heading 3;}{\s4\sbasedon0\snext4\lang1049\li540\sl240\slmult0\keep\nowidctlpar\sa120 Body Text;}{\s5\sbasedon0\snext5\lang1049\fi540\qj Body Text Indent;}}{\info{\creatim\yr2001\mo10\dy24\hr18\min41\sec29}{\author alexey}}\margl1440\margr1440\widowctrl\plain\f16\fs24\pard\qj\f12\fs18\b\i Соглашения\\b0\i0\Прецеденты, не вошедшие в в. 6.0, в данном документе не описываются и не упоминаются. \\На настоящий момент не проконтролировано, что все требования участником отражены в модели прецедентов. Т.е. не просмотрен список требований на предмет полной трассируемости в прецеденты модели. А ведь надо бы?\\Названия команд, окон и прочих элементов, использованные в тексте, условны и подлежат переработке при создании окончательного варианта пользовательского интерфейса.\\\b\i Используемые выражения\\b0\i0\\i Экземпляр прецедента\i0  - последовательность событий из сценария прецедента, хронологически ограниченная началом и концом, описанными в сценарии. Любое событие вида "начало прецедента {\f45\lang1033 NNN}" порождает новый экземпляр прецедента.\\\\b\i Глобальные доп. условия\\b0\i0\\pard 1. Течение всякого основного потока, а также его подпотоков, на любом шаге может быть прервано по инициативе пользователя - если не сказано иное. Система либо возвращается в исходное состояние, либо управление передается родительскому потоку.\f45\\f12\\qj 2. В однопользовательской версии пользователю дается возможность использовать все возможности системы на уровне Продвинутого пользователя.\\i Примечание:\\i0 Не понимаю, что Демон имел в виду. К чему это?  И потом, с упразднением понятия продвинутого пользователя, данное требование теряет смысл или, как минимум, должно быть как-то модифицировано.\\3. Произвольное действие (просмотр, экспорт, печать, модификация атрибутов..) над произвольным объектом (отдельный документ, перечень документов, удовлетворяющих определенному критерию, встроенный объект..) конкретного КИБ для конкретного пользователя может быть в любой момент времени заблокировано разработчиками системы или ее администратором. \cf6 [Пользователь, не предпринимаяя специальных действий, должен видеть, какое действие над каким из объектов ему недоступно и по какой причине.] \cf10\{Подмножество объектов КИБ с ограничениями функциональности в предельных случаях может быть нулевым или составлять все содержимое базы, а также принимать промежуточные значения. Перечень недоступных действий также может быть произвольным.\}\cf0\\\i Примечание:\\i0 На мой взгляд, подобная неопределенность в объемах не позволит принять адекватные интерфейсные решения. На уровне требований к системе следует более точно сформулировать причины, по которым может быть недоступен объект. Выделение критериев недоступности позволит более точно определиться с перечнями недоступных операций и количеством ограниченно-функциональных объектов в каждой ситуации (демо-версия, разграничение прав, лицензионные ограничения) и надлежащим образом отобразить их в интерфейсе. Пример: Очевидно, что недоступность 95% документов списка в демо-версии базы следует иллюстрировать иначе, чем недоступность конкретного документа из-за ограничения прав доступа конкретного пользователя. Использование в обоих случаях скажем, серой подсветки приведет к дезориентации пользователя и не позволит ему наглядно увидеть причину недоступности. Опять же, возникают вопросы типа "возможно ли совмещение этих двух причин?.."  Другой пример: возможно, полное отключение ф-ии печати для всех объектов следует учесть как полное исключение соотв. кнопки и пункта меню, а о невозможности распечатки каждого тридцатого документа уведомлять всплывающим сообщением. Принять верное решение можно только зная упомянутые количественные значения.\\4. Все окна, при работе с которыми возможны задержки при выполнении какой-либо активности, должны иметь раздел в статусной строке, в котором система будет информировать пользователя о происходящих процессах.\\5. Следующие требования применимы ко всем прецедентам, где используется ввод контекста, за исключением "быстрого поиска".\\Синтаксис должен быть един и поддерживать{\lang1024  построени}е{\lang1024  сложных логических формул }с использованием шаблонов, логических условий {\lang1024 И, ИЛИ, КРОМЕ }и порядка следования искомых слов. Шаблоны могут содержать символы "?" и "*".\\Система должна хранить до 10 контекстов, использованных ранее, в т.ч. в предыдущих сеансах работы. История запросов едина для всех экземпляров данного прецедента. Система всегда автоматически подставляет последний использованный контекст в поле ввода и выделяет его так, чтобы пользователь мог легко удалить его целиком.\\Только при поиске в тексте: Синтаксис запросов должен позволять задать максимальное расстояние между любой парой слов и/или словосочетанием, измеряемое количеством слов. Пользователю должна быть также предоставлена возможность явно указать{\lang1024  }максимальное расстояние посредством выбора из списка \\li720\lang1024\- по всему {\lang1049 документу}, \- в {\lang1049 пределах }названи{\lang1049 я},\- в пределах {\lang1049 структурного элемента (синонимы: параграф, абзац)},\- в пределах предложения, \\li0\\lang1049 т.е.{\lang1024  }не прибегая к использованию синтаксических конструкций . Система не должна позволять использовать одновременно конструкцию и явный выбор. Приоритет при этом отдается введенному контексту - если использована конструкция, то выбор из списка становится недоступен.\\expnd4\expndtw20 Примечание. \expnd0\expndtw0 При поиске в списках документов, словарных атрибутов, навигаторе и т.п. максимальное растояниеи между словами всегда ограничено одним элементом списка.\\keepn\sb240\sa60\s2 6. Пользователь постоянно должен видеть, сколько глобальных фильтров действует в системе и какая часть документов отсечена этими фильтрами.\\pard\\fs16\page\b\i\fs18 Глоссарий\\qj\b0\\b 1. Настройки.\\b0\Конфигурация системы:\i0  Совокупность всех (!) настраиваемых параметров системы, включая ее поведение, оформление, свойства печати и т.д.\\\i Фиксированная (предопределенная) конфигурация:\i0  Именованная конфигурация, сформированная разработчиками системы, которую может пользователь может использовать, но не изменять или удалять. Примеры фиксированных конфигураций: "По умолчанию", "Минимальная", "Профессиональная" и т.п.\\\i Сохраненная конфигурация:\i0  Именованная конфигурация, сохраненная пользователем. Может быть модифицирована, удалена или сохранена под другим именем. Примеры: "Васина конфигурация", "Петина конфигурация" (при использовании локальной версии СПС в режиме автологона) или "Демонстрационая конфигурация" (используемая конкретным дилером при использовании им собственного сценария демонстрации выгодных сторон СПС потенциальному клиенту).\\\i Текущая конфигурация:\i0  Неименованная конфигурация, полученная в результате явной (в окне настроек) или неявной (перетаскивание тулбаров и т.п.) модификации одной из именованных конфигураций, которая была активной в момент модификации. Текущая конфигурация всегда является активной, восстанавливается системой при последующих запусках (если была активна при выходе), подлежит модификации и сохранению.\f45\lang1033\\f12\lang1049\\i Активная конфигурация:\i0  Конфигурация, параметры которой используются системой в данный момент времени. Активной конфигурацией может быть одна из фиксированных или сохраненных конфигураций (с именем), а также текущая конфигурация (без имени). Пользователь всегда может сделать активной любую именованную конфигурацию.\\\b\i 2. Документ.\b0\i0\\\i Встроенный объект:\i0  Файл в произвольном формате, хранящийся в базе, но не являющийся составной частью какого-либо документа. Документы могут ссылаться на встроенные объекты, позволяя экспортировать их в файлы, а также открывать и обрабатывать средствами самой системы или сторонних приложений. Некоторые типы встроенных объектов могут отображаться непосредственно в теле документов, не являясь, однако, их частью.\\\i Структурный элемент:\i0  Типизированная структурная единица документа, обрабатываемая как единое целое при форматировании документа. Является наименьшей адресуемой извне (закладки, др. документы или сторонние приложения) единицей документа. Может представлять собой абзац текста, встроенный (мультимедийный) объект, таблицу \lang1033\f45 etc. \\f12\lang1049\\i Логический блок:\i0  Именованный или нумерованный адресуемый элемент иерархии документа, объединяющий один или несколько логических блоков нижнего уровня и/или один или несколько структурных элементов. Логический блок может быть классифицирован по одному или нескольким словарям.\\\i Документ:\i0  Иерархическая структура, состоящая из логических блоков (документ/статья/параграф..), сопровожденная разработчиками базы набором атрибутов. В дальнейшем изложении выражение "документ" будет употребляться для обозначения л.б. верхнего уровня, представляющего документ целиком; тогда как выражение "логический блок" будет использоваться для обозначения л.б. всех остальных уровней. \Различные виды документов характеризуются обязательностью или опциональностью различаемых системой атрибутов, а также их значениями; в вырожденном случае документ может представлять собой один логический блок и иметь единственный атрибут. Примерами видов могут служить "юридический документ", "лекарственное средство", "фармакологическая фирма" и т.п.\\\i Гиперссылка (ссылка):\i0  Маркированная разработчиками область документа, сопровожденная указанием на объект, внутренний или внешний по отношению к системе. Воздействие на гиперссылку инициирует открытие указанного объекта средствами самой системы или с использоваием стороннего приложения. Маркировке подлежит любая сколь угодно малая структурная единица документа, в т.ч. являющаяся составной частью структурного элемента.\Примеры ссылок:\\li720 указатели на логические блоки или структурные элементы документов системы,\на объекты, сохраненные в папках (списки, запросы), \на встроенные объекты, \внешние {\f45\lang1033 URL (Email, Web).}\\li0\\i Фрагмент документа:\i0  Часть документа с произвольными границами.\\\i Экспорт:\i0  Сохранение указанного объекта в файл определенного формата.\\\i Экспортируемый объект: \i0  Элемент документа или БД, который может быть экспортирован системой. Экспортируемый объект характеризуется наличием внутреннего формата или возможностью конвертации в какой-либо формат. Примерами могут служить встроенные объекты (*.{\f45\lang1033 bmp, *.jpg, *.wav..}), внешние гиперссылки (формат {\f45\lang1033 URL}), {\f45\lang1033 inline-}таблицы (конвертируемые в файлы *.{\f45\lang1033 xls, *.csv). }Документ как целое также является экспортируемым объектом.\f45\lang1033\\\f12\i\lang1049 Справочная информация:\i0  Совокупность всех статических или динамически генерируемых на основе реквизитов документа (или логического блока) информационных объектов, содержащих разнообразную вспомогательную информацию о данном документе. Количество, наполнение и название справочных страниц к документу (блоку) определяются его типом. Примерами справочных страниц к документу могут служить:\\li720 список атрибутов\аннотация\справка к документу\список фармакологических фирм\СКР\\\li0\i Редакция логического блока (документа):\i0  Состояние блока (документа), актуальное на определенный интервал дат между изменениями, внесенными в документ уполномоченными органами. Орфографические правки, форматирование, юридическая обработка и т.п. изменения на ревизию документа не влияют. Присвоение блоку (документу) очередной редакции обязательно сопровождается ссылкой на изменяющий документ и, по желанию обработчиков, юридическими комментариями.\\\b\i 3. Поиск.\b0\i0\\\i Поисковый атрибут:\i0  Атрибут документа,  участвующий в построении запроса.\\\i Поисковый параметр:\i0  Выбираемый пользователем модификатор поисковой процедуры, оказывающий влияние на ход поиска и его результаты. Примером параметров поиска могут служить логические префиксы, присваиваемые атрибутам, а также точность поиска.\\\i Запрос:\i0  Совокупность значений (выбранных из списка или введенных пользователем) поисковых атрибутов и параметров.\\\i Фильтр:\i0   Запрос (предопределенный системой или созданный пользователем), используемый для исключения элементов списка, не удовлетворяющих условиям запроса. Применение фильтра эквивалентно автоматическому поиску по данному запросу в пределах фильтруемого списка.\\\i Локальный фильтр:\i0  Фильтр, действующий в пределах текущего списка.\\\i Глобальный фильтр:\i0  Фильтр, действующий на все объекты текущего КИБ (документы, словари..).\\\b\i 4. Список.\\b0\i0\\i Композитный документ:\i0  Документ, сформированный системой на основе списка и состоящий из адресуемых списком фрагментов.\\\i Сортировка:\i0  Ранжированная совокупность правил, по которым упорядочивается список элементов, а также собственно процедура упорядочивания. Каждое правило состоит из критерия сортировки, основанного на каком-либо атрибуте и порядка следования элементов (возрастание или убывание). Правила применяются в определенной очередности: по одному из них сортировка идет в первую очередь, по другому - во вторую и т.д. Сортировки бывают фиксированные (предопределенные системой) и настраиваемые пользователем.\\b\i Актеры\\keepn\sb240\sa60\s2\b0\i0 1. {\b Пользователь}. Конечный п{\lang1033 ользователь }системы\lang1033 .\\pard\qj\lang1049\\i Примечания.\i0  \1. "Продвинутый пользователь" из модели исключен. Вместо этого вводятся конфигурации "Минимальная", "Стандартная" и "Профессиональная", где первая и третья соответствуют легкому и продвинутому вариантам оболочки. Всякий пользователь имеет возможность переключиться в удобную ему конфигурацию.\\keepn\sb240\sa60\s2 2. {\b Администратор}. Сотрудник, управляющий регистрацией пользователей, групп и правами доступа, а также контролем и поддержой системы\lang1033 .\\lang1049 3. {\b Демонстратор-установщик.} Сотрудник, устанавливающий и обновляющий систему.\lang1033\\pard\qj\lang1049\4. {\b Разработчик.} \page\i\b Сценарии.\\keepn\sb240\sa60\s2 Прецедент "Открытие КИБ".\\pard\qj\b0\i0\\i Краткое описание:\i0  \Открытие требуемого КИБ с авторизацией подключения и последующим  выбором одного из поисково-навигационных инструментов СПС.\\\i Сценарий:\i0\1. Прецедент начинается, когда пользователь запускает приложение или инициирует открытие КИБ в явном виде. Возможны ситуации:\\\li850 а) Из  уже запущенного приложения  пользователь дает команду открытия КИБ. Выполнение прецедента продолжается с п. 2.\\б) Пользователь запускает систему с ранее выставленной ф-ей "автологон". \\li0\\li1701 - Введенные данные принадлежат {\f45\lang1033 ACL. }Прецедент продолжается с п. 2\\- Введенные данные НЕ принадлежат {\f45\lang1033 ACL. }Прецедент продолжается с п. 1.в.\\li0\\li850 в) При запуске система просит пользователя ввести регистрационные данные (при этом пользователь может дать команду "Использовать автологон") и проверяет их валидность. {\cf6 [Должны отображаться координаты администратора системы и порядок регистрации нового пользователя.]}\\li0\\li1701 - Введенные данные принадлежат {\f45\lang1033 ACL. }Если пользователь выставил отметку "Использовать автологон", то система запоминает введенные регистрационные данные и в профиле данной рабочей станции активизирует ф-ию "Автологон". В дальнейшем вход в систему с данной раб. станции выполняется автоматически, без отображения окна авторизации.\\Прецедент продолжается с п. 2\\- Введенные данные принадлежат {\f45\lang1033 ACL, }но такой пользователь уже работает в системе. Выдается соответствующее уведомление. {\cf6 [Приводятся координаты администратора и имя рабочей станции, с которой использован данный логин.]}\\- Введенные данные НЕ принадлежат {\f45\lang1033 ACL. }Если это третья неудачная попытка подряд, то на определенное время авторизация блокируется, пользователь получает уведомление.\\\li0\\sa240 2. Если указано в настройках, то один из КИБов открывается автоматически и прецедент \cf1 продолжается с п. 3. Иначе система отображает список всех установленных КИБов. КИБы, недоступные данному пользователю, должны быть заблокированы для открытия. Также система блокирует КИБы, число подключений к которым достигло предела, предусмотренного лицензионным соглашением. \cf6 [Обе эти группы должны быть выделены визуально. Для каждого ИБ в данном списке (полностью  или сокращенно) следует отобразить такую информацию, как 1) количество подключенных пользователей; 2) загруженность сервера данного КИБ; 3) скорость доступа к этому серверу - полный набор характеристик состояния сервера(-ов) будет известен позднее. (см. прим. 1). Те же сведения должны отображаться в окне информации о конкретном ИБ. ]\cf2\{В подавляющем большинстве случаев имеется только один КИБ; два и более КИБов встречаются крайне редко.\}\cf0\\sa0\\li850 а) Пользователь может просмотреть информацию о любом из установленных КИБов, независимо от его доступности и состояния, а также информацию о системе.\\б) Пользователь открывает один из доступных КИБов.\\li0\3. Система отображает основное меню и позволяет выбрать один из поисково-навигационных инструментов или автоматически запускает один из них в соответствии с настройками. (см. "Настройка личных параметров"). Прецедент завершается.\\\i Дополнительные условия:\i0\\1. Основное меню должно быть представлено в двух видах.\\li720 - Статическое представление - заранее предопределенная форма с набором вызовов функций системы.\- Динамическое представление - древовидный реестр объектов системы, который кроме заранее предопределенных разделов может содержать определяемые пользователем элементы.\\li0\2. Основное меню должно предоставлять пользователю возможность  быстрого  доступа к различным функциям системы, таким как:\\li720\- Правовая и экономическая информация (пользователь должен переходить в соответствующий раздел основного классификатора или специальный классификатор).\- Различные виды поиска.\- Информация об обновлении (списки документов).\- Информация медицинско-фармацевтической тематики.\- Справочная информация.\\li0\Состав этих функций может изменяться в разных версиях системы в зависимости от пожеланий заказчика.\\\i Вопросы\i0\\Сейчас Гарант, открывая КИБ, при включенной настройке "начинать работу с рабочего стола" открывает все окна, что были открыты на момент отключения от данного КИБ, восстанавливая содержимое окон, их положения и размеры. У Демона данный аспект поведения СПС нигде не отражен. \\Но тогда где сохранять состояние рабочего стола и перечень открытых КИБ (сколько вообще КИБ можно открыть одновременно? есть ли такое требование?)? Как часть активной (см. глоссарий) конфигурации? Ведь логично, что перейдя на другой ПК пользователь, помимо прочего, должен получать рабочий стол в том виде, как он его покинул в прошлом  сеансе работы.\\\\i Примечания\\i0\1. Если архитектура системы будет такова, что "сервер системы" и "сервер КИБ" будут логически или физически независимы, то потребуется ввести еще один граничный класс, называющийся, например "Окно информации о системе", а главному окну системы приписать ответственность "Показать информацию о системе". У Демона был одноименный прецедент, но я его исключил из-за "вырожденности" - весь поток событий в нем сводится к показу (и все!) одного диалога, причем информация на этом диалоге полностью дублирует ту, что отображается в окне информации о КИБ. Но, повторю, если же будет потребность (сейчас неочевидная) отобразить некую независимую ото всех КИБ информацию, то придется заводить еще один класс.\\\keepn\sb240\sa60\s2\b\i Прецедент "Управление папками"\\pard\qj\b0\i0\\i Краткое описание:\i0  \Модификация структуры папок и изменение атрибутов папок и их элементов.\\\i Сценарий:\i0\1. Прецедент начинается, когда пользователь инициирует появление окна управления папками. (Это может быть явный выбор команды управления папками или прецедент сохранения в папку и т.д.)\\2. В течение сеанса пользователь может модифицировать структуру и содержимое папок, в произвольном порядке выполняя одно или более действий:\\\li850 а) Создать новую папку с именем, уникальным в пределах данного уровня.\\б) Удалить существующую папку, включая ее содержимое.\\в) Переименовать папку (система отслеживает уникальность имени в пределах подуровня).\\г) Переместить папку,\\д) Удалить элемент(ы) папки,\\е) Переместить элемент(ы) из одной папки в другую в пределах текущего корневого раздела.\\ж) Добавить или отредактировать  комментарий к сохраненному объекту.\\\li0\cf6 [Для текущей папки система показывает количество всех дочерних элементов папки.]\cf0\\li850\\li0 При этом система позволяет выполнять операции удаления и перемещения над несколькими папками и/или элементами одновременно.\\3. В течение сеанса пользователь может производить навигацию по дереву папок, в произвольном порядке выполняя действия:\\\li850 а) Развернуть папку; отобразив все дочерние папки и элементы в их последнем состоянии (свернутом или{\f45\lang1033  }развернутом),\\б) Свернуть папку, спрятав дочерние папки и элементы всех уровней.\\в) Изменить текущую папку или элемент, переместив курсор.\\г) Переместиться к нужному элементу или папке посредством инструмента "быстрый поиск". <<{\f45\lang1033 extend}>> "Быстрый поиск".\\д) Переместиться к нужному элементу или папке посредством инструмента "контекстный поиск".<<{\f45\lang1033 extend}>> "Контекстный поиск в папках".\\е) Отфильтровать дерево по маске.\\li1440\emdash  Пользователь вводит контекст в поле ввода, размещенное непосредственно в окне управления папками;\\emdash  После каждой модификации маски система фильтрует дерево, отбрасывая не удовлетворяющие маске сохраненные элементы.\\emdash  Если в результате фильтрации текущий элемент перестает быть видимым, то текущим элементом становится его родительская папка.\\li850\ж) Изменить порядок сортировки.\\з) Просмотреть атрибуты текущего элемента. Система выводит значения атрибутов, позволяя их редактировать. {\cf6 [Перечень атрибутов см. в доп. требованиях.]}\\\li0 4. Прецедент завершается, когда пользователь закрывает окно управления папками или выполняет одну из команд расширяемого прецедента.\\f45\\f12\i Дополнительные условия:\i0\\\f52 1. \f12 Окно представляет древовидную иерархическую структуру, подобную файловой. По умолчанию для всякого нового пользователя система создает три корневых папки (запросы, списки, закладки), которые могут быть впоследствии модифицированы, удалены и т.д. пользователем. \\i Прим.\i0  При желании юристы смогут положить туда "предустановленные" запросы, закладки и т.д. - вроде нынешних фильтров, приезжающих с системой.\\Допускается размещение на одном уровне как ветвей (папок), так и листьев (элементов).\\Сосуществование на одном уровне папок и/или объектов с одинаковыми именами не разрешается. \\В окне управления папками всегда должен существовать один (и только один) текущий объект - элемент или папка.\\Для операций перемещения папок и элементов должен поддерживаться механизм "перетаскивания".\\Интерфейс и поведение окна управления папками должны быть приближены к характеристикам окна "Избранное" в MS Internet Explorer.\\Любой{\lang1033  объект может быть перемещен }в любой{\lang1033  раздел иерархии, }т.е.{\lang1033  }допускается сосуществование в одной папке разнотипных объектов{\lang1033  (запросы, списки, документы).}\\f45\2. \f12 Фильтрации по маске подлежат как элементы дерева, так и папки. При фильтрации система скрывает все пустые папки дерева (как те, которые были пусты изначально, так и те, которые не содержат подходящих по маске элементов); по окончании - восстанавливает. Наложенный фильтр действует только в течение данного экземпляра прецедента.\\f45\3. \f12 Должны поддерживаться следующие критерии сортировки: \\li720\а) По имени;\б) По дате последней модификации, что подразумевает любое из событий: "первоначальное создание" / "сохранение поверх" / "редактирование атрибутов". \\li0\Также должна быть возможность уточнить направление сортировки (возрастание/убывание).\\Критерием сортировки по умолчанию считается имя элемента (папки).\\В сортировке как папки, так и сохраненные в них элементы, участвуют равноправно.\\Система сохраняет выбор пользователя в текущей конфигурации и использует его в данном и последующих сеансах работы.\\f45\\f12\cf1 4. В зависимости от типа элемента система отображает следующие атрибуты (п. 3.з сценария):\\\li720 - Для списка: \\li1440 а) дату создания,\б) количество элементов\\li0\\li720 - Для закладки: \\li1440 а) дату установки; \б) название и редакцию документа (на момент установки закладки), в котором установлена закладка; \в) имя/номер логического блока или имя структурного элемента для закладки (если закладка установлена не на начало документа и объект имеет имя или номер) .\\li0\\li720 - Для запроса: \\li1440 а) дату создания,\б) тип запроса,\\li0\f45\cf0\\f12\cf1 Для всякого типа объекта система также отображает редактируемые название объекта и пользовательский комментарий.\\f45\cf0\\\f12\i Примечания; вопросы для размышления (А.В.)\\i0\Нет.\\\keepn\sb240\sa60\s2\b\i Прецедент "Сохранение в папку"\\pard\qj\b0\i0\\i Краткое описание:\i0  \Сохранение содержимого текущего окна в новую или существующую папку. Сохранению подлежит как объект (список, запрос), так и ссылка на объект (закладки).\\\i Сценарий:\i0\1. Пользователь требует запомнить в папке содержимое текущего окна, вызывая команду "Сохранить" (для списка или запроса) или "Установить закладку" (для документа).\\2. При сохранении списка:\\\li720 а) Пользователь дополнительно указывает, сохранить ли его по ссылке (как запрос, в результате которого список был построен) или по значению (как список документов). Данный выбор предоставляется только если сохраняемый список не претерпел изменений с момента его построения (удаление документов, логические операции). (см. прим. 1)\\б) При наличии в списке выделенных документов пользователь решает, сохранить ли только выделенные документы или список целиком. Этот выбор неактивен, если список сохраняется "как запрос".\\в) Если прецедент вызван для текущего документа списка, то система сохраняет его в раздел "Закладки", создавая ссылку на адресуемое списком место в документе.\\li0\3. Система открывает окно управления папками и позиционируется на папку (делая ее текущей), использованную в предыдущем вызове данного прецедента . (Альтернатива А0 - данный корневой раздел дерева пуст.) Кроме того, система предлагает имя, под которым можно сохранить объект. Если сохраняется запрос, ранее вынутый из папки для редактирования, то предлагаемое системой имя совпадает с исходным именем запроса. Для списка предлагается его краткое имя.\\4. В течение сеанса пользователь может модифицировать структуру и содержимое папок, а также выполнять навигацию по папкам, в произвольном порядке выполняя одно или более действий из сценария {\ul "Управление папками"}. \\5. В течение сеанса пользователь может изменить имя объекта, предложенное системой. Сохраняемый объект также может быть сопровожден поясняющим текстом - комментарием пользователя.\\6. Пользователь дает команду "Сохранить". Возможны альтернативы:\\\li850 а) Объекта с таким именем в текущей папке не существует. Объект сохраняется  под текущим именем.\\б) Такой объект в текущей папке уже есть. В зависимости от типа сохраняемого объекта пользователь выбирает:\\\li1440\emdash  (для запроса или документа) Замещение ранее сохраненного объекта новым или отказ от сохранения под текущим именем.\\\emdash  (для списка) Либо замещение старого списка, либо добавление нового списка к старому, либо отказ от сохранения списка под текущим именем.\\li0\7. Система автоматически закрывает окно управления папками, прецедент завершается.\\\i Альтернативные потоки:\\i0 А0 - данный корневой раздел дерева пуст. Текущей папкой считается сам корневой раздел.\\f45\\f12\i Дополнительные условия:\i0\\1. {\lang1033 Для сохраняемо}го{\lang1033  }объекта\lang1033  система должна автоматически запоминать:\\\li720\lang1049 а) для закладки\\li1440\emdash  {\lang1033 название документа (}при{\lang1033  отсутстви}и\lang1033  названия система формирует его автоматически на основе информации о документе);\\emdash  {\lang1049 название блока, на который устанавливается закладка;}\\emdash  редакцию {\lang1049 логического блока или документа}, {\lang1049 в который устанавливается закладка (в случае если это не текущая редакция объекта); }\\li0\\li720\lang1049 б) \lang1033 для списка - \\li1440\emdash  размер,\\emdash\lang1049  порядок сортировки,\\emdash  способ получения (в текстовом виде)\lang1033\\li0\\li720\lang1049 в) {\lang1033 для запроса - тип (}т.е. виды - один или несколько - документов, которые ищутся в запросе\lang1033 ).\\li0\Для всех объектов, помимо этого, запоминается {\lang1049 текущая дата (}дата со{\lang1049 хранения)}.\\lang1049\История изменений и прочие характеристики сохраняемых объектов НЕ запоминаются. Другими словами, после выбора из папки пользователь должен получить объект точно в том виде, что был на экране в момент сохранения, однако без какой-либо предистории (наложенные фильтры, отключенные комментарии и т.п. не учитываются) и, соответственно, без возможности отката. Соответственно теряются все особенности объекта, влияющие на ход других прецедентов и активностей.{\expnd-4\expndtw-20  }Например, развернутый изначально список, но сохраненный в свернутом виде, не может быть развернут после выбора из папки.\\lang1033\\f45\lang1049\\f12\i Примечания\f45\i0\\1. \f12 Настаиваю, чтобы выбор "по ссылке / по значению" пользователю не предлагался. Среднего пользователя (даже из числа "продвинутых") это введет в заблуждение  \emdash  не все поймут, что означает выражение "сохранить как запрос"; не все поймут, отчего этот выбор иногда есть, а иногда нет. К тому же, если пользователь действительно хочет сохранить исходный запрос, он всегда может перейти из списка в карточку запроса и сохранить ее как запрос. Это хорошо еще и тем, что явно визуалируется тип сохраняемого объекта (запрос) и заодно видны атрибуты сохраняемого запроса. \\Кроме того, появляется неочевидная связь между п.п. 2 а) и 2 б). Сохранение выделенных элементов тоже оказывается не всегда доступным, и это еще один способ вконец запутать пользователя..\\\keepn\sb240\sa60\s2\b\i Прецедент "Выбор из папки"\\pard\qj\b0\Краткое описание:\i0  \Выбор одного или более сохраненных ранее объектов с заданием логических префиксов.\\\i Сценарий:\i0\1. Пользователь дает команду "Выбрать из папки", указывая тип извлекаемого объекта: "Запрос", "Список", "Документ" или "Составной" ("Комбинация", "Объединение").\\\li850 а) Подпоток "Открытие единичного объекта" ("Запрос", "Список" или "Документ"). Выполняется в случае:\\\li1570 а1) явного вызова из главного окна системы, \ИЛИ\а2) вызова из диалога фильтрации списка, \ИЛИ\а3) вызова из окна навигационно-поискового инструмента.\\li850\\li1570\emdash  Система открывает окно управления папками в том режиме отображения, в котором оно было покинуто пользователем в прошлый раз. Окно всегда открывается в неотфильтрованном виде.\\\emdash  При желании пользователь изменяет набор отображаемых элементов. Можно переключаться между двумя режимами:\\li2290 - Отображение всех сохраненных элементов \ИЛИ\- Отображение объектов только того типа, который может быть возвращен вызывающему прецеденту. Так, при вызове данного прецедента из окна поиска в этом режиме будут отображаться только сохраненные ранее запросы. Если в этом режиме текущий элемент перестает быть видимым, то текущим элементом становится его родительская папка.\\li1570\\emdash  Пользователь выделяет нужный элемент,  делая его текущим. Система автоматически помечает его логическим префиксом "ИЛИ". Система позволяет выделить один (и только один) элемент из всей иерархии:\\li2290\Если выделен документ или список, то система проверяет наличие в базе указанного документа или всех компонентов списка, и в случае их отсутствия выдает  уведомление. ( - см. прим.2).\\Если выделен запрос, то пользователь может выбрать либо показ запроса (отображение КЗ с заполненными полями), либо исполнение запроса (построение списка).\\li850\б) Подпоток: "Открытие нескольких объектов" ("Составной"). Выполняется в случае явного вызова из главного окна системы.\\\li1570\emdash  Система открывает окно управления папками и отображает все корневые разделы папок в свернутом виде. Рядом с корневыми разделами система также отображает перечень всех открытых в настоящий момент списков, позволяя выделять их наряду с сохраненными элементами (но не удалять, перемещать или редактировать). {\cf6 [Виртуальные элементы элементы папок должны отличаться от статических.]} {\cf12 (Количество одновременно открытых списков обычно не превышает пяти.)}\\\emdash  Пользователь выделяет логическими префиксами произвольное количество элементов, выбирая их изо всех разделов (см. прим.1).\\\emdash  При выделении каждого сохраненного элемента система строит соответствующий список и проверяет его на полноту ( - см. прим.2). При проверке используются критерии:\\li2290\- Для ссылки на документ (закладки): наличие документа в текущей базе данных.\\- Для списка: наличие всех компонентов списка\\- Для запроса: ненулевая длина результирующего списка. \\li1570\В случае неудачи система выдает уведомление.\\\emdash  При желании пользователь предваряет выделенные элементы логическими условиями.\\\li0 2. В течение сеанса пользователь может модифицировать структуру и содержимое папок, а также выполнять навигацию по папкам, в произвольном порядке выполняя одно или более действий из сценария {\ul "Управление папками"}.\\3. Пользователь дает команду "Выбрать". Возможны варианты:\\\li720 а) Пользователем выбран показ единичного запроса. Система отображает окно соответствующей КЗ, заполняет поля атрибутами запроса и передает (или возвращает  - если выбор запроса был инициирован из КЗ) ему управление.\\б) Пользователем выбрана единичная ссылка на документ. Если при вызове прецедента какое-либо из окон было активно, то система уточняет, в текущее или в новое окно следует загрузить документ и выполняет загрузку, позиционируясь на тот структурный элемент, на который закладка была установлена.\\в) Пользователем выбрана единичная ссылка на список. Если он был сохранен как форма представления композитного документа, то система загружает список и предлагает пользователю сформировать требуемый документ.\\г) Во всех остальных случаях система генерирует результирующий список. При длине списка ({\f45\lang1033 M)} меньшей, чем фиксированное {\f45\lang1033 N, }в зависимости от настроек (см. прим. 4):\\li0\\li1440\emdash  Система открывает {\f45\lang1033 M }новых окон и загружает в них документы списка.\\\emdash  Если при вызове прецедента какое-либо из окон было активно, то система уточняет, в текущее или в новое окно следует загрузить список и выполняет загрузку.\\\li0 Прецедент завершен.\\f45\lang1033\\f12\i\lang1049 Дополнительные условия:\i0\1. \lang1033 Интерфейс системы должен позволять непосредственно инициировать извлечение одного из четырех типов объектов посредством  вызова соотв. ф-ии из командном меню и т.п.: "Запрос", "Список", "Закладка" или "Составной".\\2. \lang1049 Система должна отображать линейный список (список операндов) из отмеченных элементов, показывая, какими логическими условиями они связаны. Должна быть возможность удалить элемент из этого списка, что автоматически снимает соответствующую отметку в дереве. \\3. Элементы, убранные с{\f45\lang1033  } экрана в рез-те фильтрации по маске, из списка выбранных операндов не исключаются.\\4. Переключение в режим "Показывать объекты только подходящего типа"  (напр, "Показать только закладки") фильтрует дерево папок, скрывая папки, не содержащие ниже по иерархии ни одного объекта указанного типа. \\Папки, не содержащие ни одного элемента (любого типа), показываются только в режиме "Показывать все объекты".\\Система запоминает выбранный режим и использует его в этом и в последующих сеансах работы, сохраняя выбор как часть пользовательской конфигурации.\\f45\lang1033\\\\f12\i\lang1049 Примечания; вопросы для размышления (А.В.)\\i0 1. Не рассмотрена ситуация составного выбора, в которой есть элемент(ы), помеченные КРОМЕ, но нет ни одного элемента, помеченного ИЛИ. - Это относится к случаю, когда мы выделяем элементы именно логическими префиксами (так, как это сейчас сделано в Гаранте). Возможен другой, менее красивый вариант, когда все элементы выделяются одинаково, но затем [во внешнем контроле] между операндами расставлются логические связки, и при этом система следит, чтобы хотя бы один операнд был без всяких префиксов, т.е. выбирался по ИЛИ. Но как это сделать? И так ли это надо делать? Короче, тут надо подумать, потому что от этого зависит интерфесное решение.\\2. Очевидно непродуманным выглядит извлечение объектов "на лету", по мере их выделения (см. Демон, прецедент 4.7, диаграмма, [для каждого выделенного элемента]..). Проверка наличия в базе всех объектов, соответствующих выделенным элементам, дело, конечно, хорошее, но.. Дело в том, что а) выделение объекта по логике никак не должно инициировать процедуру поиска - интерфейсно выделение элемента должно работать только как выделение, а не выкидывать сообщения, являющиеся рез-м поиска (мол, "не найдено.." - а кто вообще просил искать?!) и б) выполнение запросов или формирование больших списков может занимать очень большое время. Т.о. проверять наличие объектов в базе можно только по явной просьбе пользователя.\\3. В каком документе должны быть зафиксированы правила интерпретации логических операторов? Типа пересечения ссылки на документ и списка документов? Не откладывать же их до постановки ТЗ.. Ведь от поведения программы может зависеть и сторибординг, и интерфейсные решения, т.е. к проектировщику нужно точно знать как будет развиваться прецедент чтобы интерфейсно обеспечить "прозрачное", дружественное, предсказуемое поведение программы.\\4. Возможно, для этой настройки следует предусмотреть нижнюю границу: при количестве документов в списке = 1 система должна выдавать уведомление и открывать этот единственный документ автоматически, минуя построение списка.\\5. Закрывать или нет окно управления папками по завершении прецедента? Если все же закрывать, то стоит предусмотреть запоминание "текущего" состояния окна.\\6. Не стоит ли предусмотреть экспорт объектов непосредственно из данного окошка?\\\\b\i\lang1024 Прецедент "{\lang1049 История навигации}"\\b0\lang1049\Краткое описание: \i0 Перемещение к произвольному объекту, загружавшемуся в активное окно.\\\i Сценарий:\i0\1. Пользователь требует перейти к одному из двух соседних объектов в истории навигации.\1а. Пользователь выбирает из списка любой объект истории, кроме текущего.\\2. Система загружает указанный объект в том состоянии, в котором он был покинут пользователем.\\\i Альтернативные потоки:\\i0 Нет.\\\i Дополнительные условия:\i0\\1. В историю навигации автоматически попадают следующие загружавшиеся в окно объекты: навигатор, список, документ, КЗ всех типов.\\2. Если пользователь, находясь в промежуточном объекте истории, инициировал загрузку в текущее окно любого объекта любым способом, кроме перемещения по истории навигации, то{\f45\lang1033  }система отбрасывает всю "правую" часть истории и делает загруженным в окно объект последней записью в истории. (Даже если это тот же объект, что и в прошлой истории навигации).\\3. Если текущий объект является первым, последним или единственным в истории навигации, то система делает неактивными соответствующие инструменты перехода по истории.\\\i Примечания; вопросы для размышления (А.В.)\\i0\Нет.\\\keepn\sb240\sa60\s2\b\i Прецедент "Настройка системы"\\pard\qj\b0\Краткое описание:\i0  \Конфигурирование поведения и внешнего вида системы пользователем для максимального удовлетворения его индивидуальных потребностей и вкусов.\\\i Триггер:\i0  \Пользователь вызывает команду "Настройка". Команда может быть дана вне рамок другого прецедента или же в контексте работы в одном из прецедентов "Печать", "Работа с документом" и т.д.\\\i Сценарий:\i0  \1. Пользователь вызывает команду "Настройка". Система отображает структурированный по группам список настраиваемых параметров, показывая название (если есть) активной конфигурации и соответствующие ей значения параметров.\\2. Если система обнаруживает, что данный прецедент был вызван из другого прецедента, то одну из групп она делает активной (в зависимости от контекста вызвавшего прецедента). Например, при вызове из прецедента "Печать", активной становится одноименная группа настроек.\\3. Пользователь переходит от одной группы настроек к другой.\\4. Пользователь редактирует значения настраиваемых параметров. Если активная конфигурация имеет имя (т.е. является одной из фиксированных (предопределенных) или сохраненных пользователем), то при первом редактировании конфигурации система делает ее текущей (неименованной).\\5. Пользователь требует показать, как будет выглядеть система при настройках активной конфигурации. Система, не сохраняя настроек, изменяет внешний вид всех открытых объектов с соответствии с текущими настройками.\\6. Если текущий вид системы получен в результате предварительного просмотра (шаг 5), то система позволяет восстановить ее исходный вид. При восстановлении внешний вид системы приводится в соответствие с тем, что был на момент начала прецедента.\\7. Пользователь требует сохранить текущую конфигурацию. Система предлагает имя, под которым ее можно сохранить. При желании пользователь изменяет предложенное системой имя и инициирует сохранение под указанным именем. Возможны варианты:\\\li720 а) Сохраненная конфигурация с таким именем уже существует. Система запрашивает подтверждение.\\б) Существует фиксированная конфигурация с таким именем, или данное имя закреплено за автосохраняемой конфигурацией. Система сообщает о недопустимости данного действия и предлагает указать другое имя.\\в) Конфигураций с указанным именем не существует. Система сохраняет конфигурацию и отображает ее <новое> имя.\\li0\8. Пользователь может удалить одну из сохраненных им ранее конфигураций. Если он удаляет активную в данный момент конфигурацию, то новой активной конфигурацией становится конфигурация "по умолчанию".\\9. Система позволяет сменить активную конфигурацию. Если активной является несохраненная (текущая) конфигурация, то система выдает уведомление и предлагает сохранить ее под каким-либо именем. Если пользователь отказывается, то настройки текущей конфигурации пропадают.\\li720\\li0 10. Пользователь повторяет шаги 3..9 произвольное число раз в любой последовательности.\\11. Пользователь требует задействовать указанную конфигурацию или отказывается от внесенных изменений. В случае отказа система делает активной исходную конфигурацию (ту, что была активна в начале сеанса), причем если исходная конфигурация в течение сеанса была модифицирована и сохранена под тем же именем, то система активизирует сохраненный вариант конфигурации (- см. прим. 2).\\li1440\\li0 12. Система закрывает окно настроек и применяет настройки активной конфигурации, приводя внешний вид всех открытых объектов в соответствие со внесенными изменениями. Система использует активную конфигурацию в текущем и последующих сеансах работы вплоть до последующего вызова данного прецедента.\\\i Альтернативные потоки:\\i0 Нет.\\\i Дополнительные условия:\i0\1. В сетевой версии система должна хранить пользовательские конфигурации централизовано, т.е. пользователь должен иметь к ним доступ независимо от рабочей станции, с которой он вошел в систему.\\1.1. Настройки текущей (неименованной) конфигурации автоматически сохраняются между сеансами работы с системой.\\2. К фиксированным (предопределенным) конфигурациям относятся:\\а) "По умолчанию" (или "Стандартная")\\б) "Минимальная"\\в) "Профессиональная" \\Детализация функциональности и оформления этих конфигураций является предметом уточнения на более поздних этапах разработки. При фиксации настроек каждой конфигурации необходимо соблюсти соответствие между предоставляемыми возможностями и оформлением системы (отображаемые кнопки тулбары, их раскладка и т.п.).\\\lang1033 3. Все доступные настройки разбиваются на группы:\\а) "Поведение системы"\б) "Оформление системы"\в) "Оформление документа"\г) "Параметры печати"\\4. Состав групп:\\а) "Поведение системы":\\- Язык отображения документов и их атрибутов (по умолчанию русский);\- Параметры автоматической сортировки списков (вид сортировки и размер списка, при котором запрашивается подтверждение);\- {\lang1049 Представление списка по умолчанию: краткое или развернутое (все точки входа).}\- Автоматический показ предупреждений к документу;\- Показ утративших силу фрагментов;\- Элемент системы, с которого начинается ее работа ({\lang1049 КЗ, осн.меню, навигатор});\- {\lang1049 Использование} "Автологона"; {\lang1049 Отключение этой ф-ии инициирует принудительный показ окна авторизации при следующем запуске системы.}\- Иерархический классификатор для навигации по умолчанию;\- Автоматическое построение списка при достижении нижнего уровня классификатора при навигации;\- Предложение создавать новый список при логических операциях;\- Возможность полномасштабного поиска по контексту в КЗ;\- Предварительное формирование {\lang1049 КЗ }при поиске по соответствию;\- \lang1049 Автоматическое открытие КИБ при логоне;\\li720 - Выбор автооткрываемого КИБ: последний рабочий КИБ, фиксированный КИБ.\\li1440 - Название "фиксированного КИБ", автооткрываемого при логоне.\\li0\lang1033 а) Возможность построения списка при выделении нескольких закладок, \б) Максимальное количество одновременно выделенных закладок для открытия в новом окне;\- Настройка альтернативных словарей для различных атрибутов (либо явно указывается словарь, либо устанавливается - запоминать последний выбранный).\- \lang1049 Максимально допустимый размер композитного документа, который может быть создан системой по явному требованию или при печати и экспорте.\\lang1033\б) "Оформление системы"\\- {\lang1049 П}ереключение между русским и английским языками интерфейса\- {\lang1049 Ш}рифт, используемый в меню и цветовая палитра окон\- {\lang1049 О}тображаемые панели инструментов, их состав и расположение\- {\lang1049 Видимость текстового курсора в тексте документа и справочных окон (по умолчанию отображение включено). При отключенном курсоре выделение фрагмента текста с помощью клавиатуры всегда стартует от верхней видимой на экране строки (поведение а-ля Гарант 5.х).}\\в) "Оформление документа"\\- настройки шрифта относятся: гарнитура (фонт), размер, цвет и цвет фона, а также стиль (bold, italic, underline).\-  видимость стиля. Стиль может иметь атрибут "скрытый". Части текста имеющие "скрытый" стиль могут быть отключены во время просмотра текста документа.\- выравнивание, отступы сверху и снизу\\г) "Параметры печати"\\- {\lang1049 О}формление страниц: границы печати (отступы), размеры, текст и способы выравнивания заголовка и колонтитулов.\- {\lang1049 Р}ежим печати: настраивается область печати (все страницы, только четные, только нечетные, диапазон); устанавливается количество копий; возможен выбор "печать в файл"\- {\lang1049 Д}ля каждого типа объектов может быть задан режим печати его атрибутов. Т.е. создан шаблон, по которому будет печататься этот текст объекта и связанные с ним атрибуты.\\5. Все перечни, приведенные в данном тексте, не является окончательным и подлежат уточнению на дальнейших стадиях разработки.\\\lang1049 6. Во время течения данного прецедента вызов других прецедентов  должен быть заблокирован.\\lang1033\\lang1049 7. Должна быть возможность изменять управлять отображением тулбаров, их составом, видом (большие/малые значки, подписи) непосредственно из главного окна программы. Должен поддерживаться {\f45\lang1033 drag&drop }и все остальные ф-ии, являющиеся стандартом для инструментальных панелей. \\8. Если настройки системы были изменены неявно, т.е. без вызова окна настроек, то система автоматически присваивает полученной конфигурации статус текущей.\\9. В главном окне программы всегда должно отображаться название активной конфигурации.\\\\i Вопросы для размышления\i0\\Видимо, есть смысл ввести некий "профиль рабочей станции" - те настройки, которые оказывают воздействие не на данного конкретного пользователя, а на общее поведение системы на рабочей станции. Так, ф-ия "автологон" относится не к профилю пользователя, а ко всей системе (хотя выставляет ее кто-то из пользователей).\\\\i Примечания (А.В.)\\i0\Интересно отметить, что виндовое окно свойств десктопа (закладка {\f45\lang1033 Appearance}) ведет себя так: после модификации и сохранении пользовательской конфигурации, бывшей активной на момент вызова прецедента, и последующем нажатии {\f45\lang1033 Cancel }она считает текущей именно исходнуюю конфигурацию, но использует ее {\i со старыми, несохраненными параметрами}. Т.е. винда действительно сохраняет изменения в самой конфигурации, показывает ее в настройках как активную, но при этом вовсе не учитывает уже сохраненных изменений. А что будет после, скажем, перезагрузки, я даже не знаю - учтется сохраненный вариант или вылезет фантом-нежить? Считая это очевидным ляпом, я предлагаю использовать именно сохраненный вариант конфигурации.\\Использование термина "текущая конфигурация" вовсе не предполагает, что она должна называться именно так. Возможно, лучшим вариантом ее названия будет просто пустое поле - так, как это сделано в винде в настройках десктопа.\\Не понимаю, что означают следующие настройки:\\lang1033\{- Предварительное формирование карточки запроса при поиске по соответствию;\а) Возможность построения списка при выделении нескольких закладок, \б) Максимальное количество одновременно выделенных закладок для открытия в новом окне;\}\\lang1049\Среди настроек стиля документа есть некая "видимость стиля" (см. документацию к г. классу "Окно настроек"). На самом деле это отключение показа комментариев. Я бы отнес это к группе Поведение системы..\\Кто и когда должен продумать \\li720\emdash  списки настраиваемых параметров, \\emdash  проконтролировать их полноту/непротиворечивость/связность (например, включение параметрического поиска должно быть как-то связано с отображением соответствующих инструментов/тулбаров, что тоже является настраиваемым параметром - должны ли они быть зависимыми или нет?), \\emdash  описать воздействие на течение прецедентов (скажем, у Демона есть настройка "автопоказ предупреждений у документу", но нигде сказано, как и когда система учитывает этот выбор), \\emdash  представление настроек (произвольное значение, произвольное значение из интервала, выбор из предопределнного списка и т.д.)? \\li0 Вероятно, это должен сделать я по завершении описания всех прецедентов?  К сожалению, у Демона есть ответы далеко не на все из заданных выше вопросов и не для всех настроек.\\Кто и когда должен расписать настройки фиксированных конфигураций? Возможно, это прерогатива УМ или юристов?\\\lang1033\\keepn\sb240\sa60\s2\b\i\lang1049 Прецедент "Экспорт в файл"\\pard\qj\b0\Краткое описание:\i0  Сохранение указаннного объекта в файл.\\\i Триггер:\i0  Пользователь указывает объект и вызывает для него команду "Экспорт в файл".\\\i Сценарий:\i0  \1. Пользователь указывает объект и вызывает для него команду "Экспорт в файл". Система отображает окно экспорта объекта.\\2. Система анализирует, для какого объекта была вызвана команда экспорта и предлагает уточнить: \\\li720 а) <Команда вызвана для всего активного окна, содержащего документ, список документов или раздел рубрикатора.>\\li0\\li1440\emdash  <При наличии выделенных частей> {\f45\lang1033 C}ледует ли экспортировать только выделенные части сохраняемого объекта или весь объект целиком. К{\lang1033\f45  }выделенным частям относятся фрагменты документа или выделенные документы в составе списка.\\\emdash  <Только для списка> Ограничиться экспортом  заголовков или экспортировать композитный документ. <<{\lang1033\f45 extend}>> "Построение композитного документа".\\\emdash  <Только при сохранении текста(-ов) документа(-ов)> Сохранять ли только документ или документ вместе со встроенными в него объектами.\\\emdash  Формат, в котором следует сохранить объект. Пользователь может выбрать другой формат из числа поддерживаемых системой. {\cf10\{В данном случае система будет поддерживать не менее трех форматов.\}}\\li0\\li720 Для всех параметров система автоматически предлагает выбор, использованный пользователем в предыдущей операции экспорта.\\li0\\li720 б) <Команда вызвана для экспортируемого объекта (посредством, например, его контекстного меню).>\\li1440\\emdash  Если возможно сохранение элемента только в одном формате, то система отображает его пользователю, но не позволяет выбрать другой. Если возможна конвертация в другие форматы, то пользователь получает возможность выбора. {\cf10\{Большая часть экспортируемых объектов подлежит сохранению в единственном (собственном) формате.\}}\\li0\3. Пользователь задает каталог и имя файла, в который будет сохранен объект. Система автоматически предлагает пользователю каталог, использованный им в предыдущей операции экспорта и автоматически генерирует имя файла. Система позволяет видеть размер сохраняемого файла, а также создавать/удалять/перемещать каталоги, изменять имя сохраняемого файла {\f45\lang1033 etc.. }- другими словами, выполнять все операции, стандартные для диалога сохранения.\\4. Пользователь подтверждает свой выбор. Система выполняет сохранение и закрывает окно экспорта. (Альтернатива А0 - системе не удалось выполнить сохранение). Прецедент завершен.\\\i Альтернативные потоки:\\i0 1. Альтернатива А0 - системе не удалось выполнить сохранение. Система сообщает пользователю о причинах неудачи и передает управление п.2.\\i\Дополнительные условия:\i0\1. Система должна поддерживать следующие форматы для экспорта активного окна: "Документ {\f45\lang1033 MS-Word}", "{\f45\lang1033 HTML-}страница", "Текстовый документ".\\2. При экспорте списка в режиме "вместе с  текстами документов" система экспортирует только адресованные списком логические блоки документов.\\3. К экспортируемым объектам принадлежат:\\li720\а) Все встроенные объекты. Формат сохранения - собственный формат объекта.\б) Таблица. Формат сохранения - Документ {\f45\lang1033 Ms-Excel.}\в) Внешняя гиперссылка. Формат сохранения - {\f45\lang1033 Internet Shortcat.}\\\li0 Данный перечень подлежит уточнению и расширению на дальнейших стадиях разработки.\\4. Контекстный вызов команды экспорта должен быть предусмотрен для всех встроенных объектов системы.\\\i Примечания; вопросы для размышления (А.В.)\\i0 1. Я бы выкинул из Демонова прецедента выбор "только документ или документ плюс встроенные в него объекты". Выбор должен делаться автоматически, в зависимости от возможностей формата.\\2. Хотел было вставить доп. требование: \cf15 "Если у системы возникают затруднения при оценке размера сохраняемого объекта, то размер может не отображаться."\cf1  - однако передумал. Если сразу продумать формат хранения, то даже если предстоит сохранение списка вместе с текстами и встроенными объектами, ничто не мешает подсчитать суммарный размер документов и лог. блоков или получить их как атрибуты объекта БД, приписанные им при обработке или компиляции. \cf0\\\keepn\sb240\sa60\s2\b\i Прецедент "Вызов внешнего приложения"\\pard\qj\b0\Краткое описание:\i0  Интеграция с приложениями сторонних производителей: вызов внешнего приложения с передачей ему данных и указаний по их обработке.\\\i Триггер:\i0  Пользователь требует обработать указанный объект во внешнем приложении.\\\i Сценарий:\i0  \1. Пользователь указывает объект и требует выполнить его обработку внешними средствами. Система отображает список инструментов из числа установленных на данном ПК и операций, доступных для объекта данного типа с использованием имеющихся инструментов.\\2. Пользователь вызывает нужную операцию. Система ищет экземпляр соответствующего приложения среди запущенных, при необходимости запуская новый экзепляр. После этого система передает ему данные, команды по их обработке и передает приложению фокус ввода. \\3. Если требуется, система ожидает от внешнего приложения сообщения о результате выполнения переданных команд,  обрабатывает его и выводит уведомление. Прецедент завершен.\\\i Альтернативные потоки:\\i0 Нет.\\f45\lang1033\\f12\i\lang1049 Дополнительные условия:\i0\1. Список поддерживаемых приложений и операций:\\\li720 а) \f45\lang1033 MS-Word: \\li1440\emdash  \f12\lang1049 загрузить документ;\\f45\lang1033\emdash  {\f12\lang1049 загрузить документ }MS-Word\f12\lang1049 ;\\emdash  загрузить список;\\emdash  загрузить раздел рубрикатора ;\\li720 б) \f45\lang1033 MS-Excel:\\li1440\emdash  \f12\lang1049 загрузить таблицу;\\f45\lang1033\emdash  {\f12\lang1049 загрузить таблицу }MS-Excel;\lang1049\f12\\li720 в) \f45\lang1033 MS IE:\\li1440\emdash  {\f12\lang1049 перейти по }URL\f12\lang1049\\li0\f45\lang1033\\f12\lang1049 Данный перечень подлежит уточнению и расширению на дальнейших стадиях разработки.\\f45\lang1033\\f12\i\lang1049 Примечания; вопросы для размышления (А.В.)\\i0 1. Может, список в требовании 1 следует строить "от объекта", а не "от приложения"? Но для начала следовало бы полностью сформулировать список приложений, с которыми будет интегрироваться 6.0 и выполняемых ими функций. У меня такого списка нет..\\\keepn\sb240\sa60\s2\b\i Прецедент "Просмотр документа"\\pard\qj\b0\Краткое описание:\i0  Открытие и просмотр документа, получение справочной информации\\i\Триггер:\i0  Пользователь инициирует переход к документу.\\\i Сценарий:\i0  \1. Пользователь инициирует переход к документу. В зависимости от контекста система либо открывает новое окно, либо загружает указанный документ в текущее окно.\\2. Система определяет тип документа и отображает вкладки, содержащие справочную информацию для документа данного типа. {\cf6 [По оформлению окна пользователь должен различать, какой тип документа в него загружен.]} {\cf10\{Количество справочных вкладок для документов разных типов может варьироваться в пределах 1..5\}}\\3. Система проверяет содержит ли открываемая ссылка (закладка) указание конкретной редакции логического блока или документа. Если да, то открываемый документ {\ul целиком} загружается в той редакции, на которую указывает ссылка. \\Если редакция ссылки не указана, но адресуемый ей логический блок или документ в текущей редакции отсутствуют, то система загружает последнюю редакцию документа, содержащую адресуемый ссылкой объект.\\В обоих случаях система сообщает пользователю номер загружаемой редакции и причину, по которой используется именно эта редакция. Во всех остальных случаях документ открывается в редакции, актуальной на текущий момент времени, сообщение не выдается.\\Система устанавливает курсор-указатель на начало логического блока или структурного элемента, на который указывала ссылка, и делает строку с курсором первой видимой на экране строкой текста.\\4. Если к документу в открываемой редакции имеется предупреждение и в настройках разрешен их показ, система отображает текст предупреждения. \cf6 [Пользователь не может перейти к следующему шагу, не прочитав текст предупреждения. Следует подчеркнуть, к какой именно редакции документа относится предупреждение. При дальнейшей работе с открытой редакцией предупреждение всегда должно быть в поле зрения пользователя.] \cf10\{Предупреждения имеют менее 5% документов системы. По два и более различных предупреждения имеет крайне незначительная доля документов. Характерная длина предупреждения - 50..90 символов.\}\cf0\\5. Система анализирует, каким способом была получена ссылка на документ. Если документ найден в результате параметрического поиска с участием контекста, то система инициирует начало прецедента "Поиск контекста в теле документа" (<<{\f45\lang1033 extend}>>), отображая окно поиска и заполняя поле искомого контекста. Пользователь может:\\li720\\li1440 а) Выполнить поиск. Система ведет поиск только по тем логическим блокам, которые удовлетворяют остальным условиям параметрического поиска. {\cf6 [Пользователь должен видеть, что поиск идет не по всему документу, а только по одному или нескольким блокам, и по каким именно.]} {\cf10\{Результаты параметрического поиска с использованием класса, типа или ситуации почти всегда представляют собой ссылки на отдельные логические блоки, а не на документ целиком.\}}\\li720\\li1440 б) Отказаться от поиска.\\li720\\li0 6. В тексте документа пользователь может:\\\li720 а{\f45\lang1033 ) }Выделить один или несколько фрагментов текста (возможно, совпадающих с одним или несколькими логическими блоками) \\li1440 ИЛИ\\li720 б) Выделить один (и только один) логический блок \\li1440 ИЛИ\\li720 в) Выделить документ целиком \\li1440 ИЛИ\\li720 г) Не производить никаких выделений.\\Последние две ситуации рассматриваются системой как эквивалентные.\\li0\\cf6 [Пользователь должен различать два типа выделения: выделение логического блока как единого целого и выделение произвольных фрагментов.]\cf0\\7. Пользователь может переключаться между текстом документа и вкладками со справочной информацией. Наличие выделенного блока может изменять содержимое и доступность некоторых вкладок. \cf6 [Находясь на вкладках, пользователь должен видеть, к чему относится справочная{\f45\lang1033  }информация - к выделенному блоку или к документу целиком. Следует также отображать, к какому именно блоку (номер, название) относится информация.]\cf0\\8. В тексте документа пользователь может в произвольном порядке выполнять следующие действия:\\\li720 а) Изменять представление документа. \\\li1440\emdash  Включать и отключать показ юридических комментариев в тексте текущего документа. {\cf12 (Отключение комментариев выполняется редко, главным образом перед печатью или экспортом документа.)}\\\emdash  Изменять язык отображения текста. Система автоматически синхронизирует язык отображения справочной информации с языком отображения текста.\\cf6 [Пользователь должен видеть, на каких языках доступен документ. Следует выделить язык, на котором документ был опубликован официально.] \cf10\{Процент документов в многоязычном представлении тяготеет к нулю в стандартных русскоязычных ИБ и может составлять 100% в ИБ типа "Зак-во России на английском языке". Промежуточных вариантов на сегодняшний день не существует.\} \cf12 (Параллельное полноценное использование документа на двух языках востребовано крайне малым процентом пользователей, которые, однако, представляют {\f45\lang1033 VIP-}часть клиентов компании.)\cf0\\\emdash  Перестраивать указанный{\f45\lang1033  }логический блок (в т.ч. документ целиком), имеющий более чем одну редакцию, на определенную дату. <<{\f45\lang1033 extend}>> "Получение редакции". {\cf6 [Пользователь должен видеть, какие логические блоки имеют более одной редакции, а также количество редакций.]}\\\li720 б) Производить поиск.\\li0\\li1440\emdash  Выполнять поиск контекста в теле документа. <<{\f45\lang1033 extend}>>\"Поиск контекста в теле документа".\\При наличии выделенного фрагмента (-ов) или блока система уточняет, выполнять ли поиск только в выделенной области или во всем документе.\\\emdash  Выполнять поиск толкования указанного слова. Пользователь указывает интересующее его слово и просит показать его толкование. Возможны варианты: \\\li2160 - Толкование слова найдено. Система открывает новое окно, содержащее текст толкования.\\- Толкование НЕ найдено. Система выдает сообщение и предлагает просмотреть список имеющихся в базе терминов. Если пользователь соглашается, то система открывает окно поиска толкований и устанавливает курсор на термин, наиболее близкий к указанному. <<{\f45\lang1033 extend}>> "Поиск толкования".\\li1440\\emdash  Выполнять поиск блоков, аналогичных указанному. Система производит поиск сначала в пределах текущего документа, затем по всей базе. <<{\f45\lang1033 extend}>> "Поиск по соответствию".\\\emdash  Выполнять навигацию по закладкам, установленным в теле документа. Система позволяет перейти к следующей (после курсора) закладке, к предыдущей закладке, а также к любой закладке из числа установленных.\\li0\\li720 в) Обращаться к гиперссылкам. \cf6 [После первого использования клавиатуры пользователь должен видеть "активную" ссылку, т.е. ту, которая будет открыта при нажатии клавиши перехода. Пользователь должен различать гиперссылки разных типов (автоматически порождающие новое окно, запускающие сторонние приложения и т.п.). Для встроенных объектов система должна пиктограммой отображать тип адресуемого объекта.] \cf10\{Подавляющая часть гиперссылок инициирует междокументные переходы; на все остальные типы ссылок, вместе взятые, приходится менее 10%.\}\cf0\\\li1440\emdash  Выполнять переходы внутри документа. При этом система создает соответствующие записи в истории навигации.\\\emdash  Инициировать переход к другому объекту (документ, список). Текущий прецедент завершается.\\\emdash  Инициировать открытие любого адресуемого объекта в новом окне. При этом для встроенных объектов система открывает новое окно автоматически.\\\emdash  Инициировать открытие объекта сторонним приложением. Система запускает приложение и передает ему соответствующие данные. <<{\lang1033\f45 extend}>> \"Вызов внешнего приложения". \\\li720 г) Экспортировать и печатать.\\\li1440\emdash  Копировать текст в буфер обмена.\\\emdash  Печатать текст. <<{\f45\lang1033 extend}>> "Печать".\\li720\\li1440\emdash  Экспортировать текст. <<{\f45\lang1033 extend}>> "Экспорт в файл".\\При наличии выделенного фрагмента (-ов) или блока система уточняет, выполнять ли вышеперечисленные операции только для выделения (по умолчанию) или для документа целиком.\\li720\\li1440\emdash  Экспортировать объекты (см. глоссарий, "Экспортируемые объекты"). <<{\f45\lang1033 extend}>> "Экспорт в файл".\\Если данные операции вызываются для документа целиком, а документ или его часть отображаются в неактуальной редакции, то система выдает предупреждение и предлагает выбор:\\li2160\- Отменить операцию \ИЛИ\- Выполнить операцию для документа в его текущем представлении \ИЛИ\- Выполнить операцию для актуальной редакции документа.\\\li1440 Выбор последнего пункта приводит к автоматической актуализации документа (с изменением его представления на экране).\\При этом история ревизий, отображающаяся на экране, никакого влияния на течение прецедента не оказывает.\\\li720 д) Управлять закладками. Пользователь перемещает курсор-указатель на нужный структурный элемент и получает следующие возможности:\\\li1440\emdash  Установить закладку. <<{\f45\lang1033 extend}>> "Сохранение в папку".\\\emdash  Просмотреть атрибуты закладки. {\cf6 [Система должна показать название закладки, пользовательские комментарии и положение закладки в структуре папок.]}\\\emdash  Модифицировать атрибуты закладки. Система отображает окно управления папками и передает ему управление. <<{\f45\lang1033 extend}>> "Управление папками".\\\emdash  Удалить закладку.\\Если документ был сформирован на основе списка и представляет собой набор извлечений, то при попытке установить закладку на какое-либо извлечение система сообщает, что закладка будет указываеть не на данную страницу, а на соответствующий логический блок в оригинальном документе базы данных. Кроме того, сообщается о возможности сохранить текущую страницу как исходный список, на основе которого страница будет автоматически восстановлена при выборе из папки.\\Пользователю предоставляется выбор:\\\li2160\emdash  Поставить закладку на документ БД \ИЛИ\\emdash  Сохранить исходный список\ИЛИ\\emdash  Не устанавливать закладку\ИЛИ\\emdash  Экспортировать документ\\li1440\\li0 9. Прецедент завершается, когда пользователь закрывает окно с документом, переходит в нем по гиперссылке или загружает в окно другой объект (выбирая его, например, из папки).\\\i Альтернативные потоки:\\i0\Нет.\\\i Дополнительные условия:\i0\\1. Документ и сопровождающие его страницы со справочной информацией должны быть представлены в виде набора закладок, первая из которых содержит собственно текст документа, а остальные - справочную информацию к нему. Могут существовать справочные страницы следующих видов:\\li720\а) Полнотекстовые реквизиты (ПР). Текстовый фрагмент, являющийся одним из реквизитов документа. Пример: аннотация.\\б) Список реквизитов (СР). Перечень тех реквизитов документа, которые может видеть пользователь СПС. Документы разных типов характеризуются различными наборами отображаемых реквизитов.\\в) Справка (СПР). Страница, динамически генерируемая из реквизитов текущего документа на основе фиксированного шаблона.\\г) Списки (СПС). Списки документов, связанных различными отношениями с текущим документом. Это могут быть СКР, списки лекарственных средств или фармакологических фирм. \\\\li0 Для содержимого справочных вкладок (за исключением списков) система должна поддерживать те же операции, что описаны для текста документа в разделах 8 в) и 8 г), а также выполнять поиск контекста и поиск толкования. \\Для справочных списков система должна блокировать удаление документов из списка и логические операции. Операции, не связанные с модификацией списка (сортировка, фильтрация) и проч. должны быть доступны.\\Все гипертекстовые переходы (включая открытие документов списка) из справочных вкладок выполняются с принудительным открытием нового окна.\\Ниже перечисляются справочные страницы, отображаемые  для различных типов документов. Данный список может изменяться и расширяться на дальнейших этапах разработки.\\\li720 а) Юридический документ:\\li1440\\emdash  Аннотация к документу (ПР)\\emdash  Справка к документу (СПР)\\emdash  Реквизиты документа (СР)\\emdash  Список респондентов (СПС)\\emdash  Список корреспондентов (СПС)\\\li720 б) Логический блок юридического документа.\\\li1440\emdash  Реквизиты блока (СР)\\emdash  Список респондентов к блоку (СПС)\\emdash  Список корреспондентов к блоку (СПС)\\li720\в) Лекарственное средство:\\\li1440\emdash  Реквизиты документа (СР)\\emdash  Список респондентов (СПС)\\emdash  Список корреспондентов (СПС)\\emdash  Список фирм, связанных с данным ЛС (СПС)\\li720\г) Фармакологическая фирма:\\li1440\\emdash  Реквизиты документа (СР)\\emdash  Список респондентов (СПС)\\emdash  Список корреспондентов (СПС)\\emdash  Список фирм, связанных с данной ФФ (СПС)\\li0\\li720 д) Толкование термина:\\\li1440 Справочных страниц нет.\\\li720 е) Композитный документ (документ, сформированный из адресуемых списком логических блоков):\\li1440\\emdash  Исходный список, на основе которого сформирован документ (СПС).\\li0\\f45\lang1033 2. \f12\lang1049 Должно существовать два представления СКР: линейный неструктурированный список и иерархическая структура разделов, классифицирующие КР по признакам вида "Изменяющие", "Отменяющие" и т.п.\\f45\lang1033\3. \f12\lang1049 В начале прецедента показ юридических комментариев включен всегда.\\4. Пользователю должны быть предоставлены два вида курсора: \\\li720 а) Текстовый, используемый для выделения фрагментов текста; видимость текстового курсора определяется настройками.\б) Курсор-указатель (далее - просто курсор) для позиционирования на структурный элемент, на который устанавливается (удаляется, модифицируется) закладка.\\f45\lang1033\\li0\f12\lang1049 При смене позиции курсора-указателя система перемещает текстовый курсор на первый символ строки с указателем. \f45\lang1033\\li720\\li0 5. \f12\lang1049 Система должна отображать те позиции в документе, на которые установлены закладки.\\f45\lang1033\6. {\f12\lang1049 Для отображения текста документа изначально (по умолчанию) используется} \f12\lang1049 тот же язык, что и для отображения интерфейса.\\7. Система должна отображать границы печатных страниц, а также номер страницы, на которой расположен текстовый курсор.\\f45\lang1033\\f12\lang1049 8. При открытии документа нормальной ("актуальной") редакцией считается та, которая соответствует дате, на которую в данный момент перестроена база. Нормальная редакция не выделяется цветом и т.п. При этом пользователь имеет возможность переключаться на любую из доступных редакций - как на прошлые, так и будущие.\f45\lang1033\\\f12\i\lang1049 Примечания (А.В.)\\i0\1. Считаю, что запись переходов внутри документа в историю навигации - решение неразумное. Все же мы делаем не гипертекстовый браузер в чистом виде..\\2. Списки отображаемых реквизитов здесь не приводятся. Сейчас они попросту неизвестны.\\\keepn\sb240\sa60\s2\b\i Прецедент "Поиск контекста в теле документа"\\pard\qj\b0\Краткое описание:\i0  Поиск контекста на текущей странице.\\i\Предусловие:{\i0  Активно окно, содержащее текст документа или страницу со справочной информацией (за исключением списков).}\\i0\\i Триггер:\i0  Пользователь вызывает процедеру поиска в явном виде и система отображает окно поиска, либо система автоматически открывает окно поиска при входе в документ, найденный в результате параметрического поиска с использованием контекста.\\\i Сценарий:\i0  \1. Система отображает окно поиска. В случае явного вызова система предлагает последний запрос, использованный в текущем сеансе работы. В случае автоматического открытия окна система автоматически подставляет контекст, использованный в параметрическом поиске.\\2. Пользователь может выполнять следующие операции:\\\li720 а) Редактировать текущий запрос.\\б) Выбрать один из использованных ранее запросов.\\в) Ввести новый запрос.\\\li0 3. Пользователь может дополнительно указать:\\\li720 а) Область поиска: выделенный фрагмент (по умолчанию) или документ целиком. Данный выбор предоставляется только если при вызове прецедента существовала выделенная область.\\б) Направление поиска: вверх или вниз (по умолчанию).\\в) Точку отсчета: начало/конец документа или текущее положение курсора (по умолчанию).\\г) Чувствительность к регистру (по умолчанию регистр безразличен). {\cf12 (Данный селектор используется исчезающе редко.)}\\\li0 4. Пользователь требует приступить к поиску. Система не позволяет инициировать начало поиска, если текущий запрос пуст, маска задана некорректно ("*") или использованы недопустимые символы. В случае корректного запроса система запоминает его в истории использованных запросов и начинает поиск: {\cf6 [Система должна визуально сигнализировать об ошибках при вводе контекста. Спецсимволы типа логических операторов должны иметь шрифтовое или цветовое выделение.]} {\cf10\{Искомый контекст обычно состоит из одного-двух (реже - трех) слов. Суммарная длина введенного контекста обычно не превышает 15..25 символов.\}}\\li720\а) Вхождение найдено: система перемещает курсор на найденный контекст и подсвечивает слова из запроса. При этом система располагает окно поиска так, чтобы не перекрывалось ни одно из подсвеченных слов. Пользователь решает: \\\li1440\emdash  Завершить прецедент или\\\emdash  Продолжить поиск с теми же условиями или \\\emdash  Модифицировать условия. \\li720\б) Вхождение НЕ найдено. Возможны варианты:\\\li1440\emdash  Документ был просмотрен целиком. Система сообщает, что вхождений не найдено и позволяет уточнить запрос (п.2).\\\emdash  Документ был просмотрен частично (от курсора до одной из границ документа; только выделенный фрагмент..). Система сообщает, что в просмотренной области вхождений не найдено и предлагает продолжить поиск в оставшейся части документа или уточнить запрос.\\\li0 5. Прецедент завершается, когда пользователь закрывает окно поиска.\\\\i Альтернативные потоки:\\i0\Нет.\\\i Дополнительные условия:\i0\\1. Система должна хранить до 10 запросов, использованных ранее, в т.ч. в предыдущих сеансах работы. История запросов едина для всех экземпляров данного прецедента. \\2. Поиск ведется только по видимым (отображаемым на экране) в настоящий момент редакциям логических блоков. Текст, расположенный в невидимых редакциях, игнорируется.\\3. См. глобальное требование 5.\\\i Примечания (А.В.)\\i0\1. Непонятно, зачем возможность использования формализованного запроса должна _разрешаться_ настройками. По-моему, все просто: использовал синтаксис сложного запроса - значит, знаешь что это такое и хочешь его применить; не использовал - значит, не знаешь и не хочешь. Это что, защита от случайного использования хитрых префиксов? Можно ведь ввести такой синтаксис, который не будет пересекаться с обычным контекстом. Например, вряд ли кто-то будет искать _слова_ типа "|", "&", "-" или "+". А для русскоязычных документов {\f45\lang1033 AND }и{\f45\lang1033  OR }также не будут являться контекстом.\\Прим.: С одобрения  Крылова эту настройку я убрал..\\2. Я вынес задание "области поиска" из синтаксиса формализованного запроса в отдельный селектор, воздействующий на ВСЕ слова запроса, по следующим причинам:\\li720 а) Так сейчас сделано в Гаранте; \б) Сомнительно, что интервалы, задаваемые между искомыми словами или словосочетаниями, будут различными. Обычно бывает востребовано условие, чтобы ВСЕ найденные слова находились на расстоянии "не более чем.." друг от друга. А вот более изощренные конфигурации типа "чтоб эти два слова были в пределах абзаца, а третье обязательно присутствовало где-то в той же статье" практического смысла почти не имеют.\\li0\Прим. Крылов согласен.\\3. Мне кажется, что регистрочувствительный поиск стоит либо выкинуть совсем, либо, убрав переключатель, ввести соглашение (подобно всем интернетовским поисковым машинам): если контекст введен в нижнем регистре, то поиск ведется без учета оного, но если есть хотя бы один символ в верхнем регистре, то указанный регистр при поиске строго соблюдается.\\Прим. Крылов НЕ согласен, так что регистр я сохранил. Но баба-яга против.\\\keepn\sb240\sa60\s2\b\i Прецедент "Получение редакции"\\pard\qj\b0\Краткое описание:\i0  Просмотр указанной редакции или истории изменений логического блока (документа).\\i\Предусловие:{\i0  }\\i0 Нет.\\\i Триггер:\i0  \Пользователь требует перестроить логический блок (документ) на указанную дату или отобразить историю его изменений, начиная с указанной даты.\\\i Сценарий:\i0  \1. Пользователь выбирает редакцию из списка доступных для данного логического блока (документа) и требует показать выбранную редакцию или отобразить историю изменений блока, начиная с выбранной редакции. (Альтернатива А0 - база данных перестроена на дату, отличную от текущей.) \cf6 [Пользователь должен видеть, какие логические блоки имеют более одной редакции, а также количество редакций. Для выбора редакции документа как целого должен использоваться отдельный управляющий элемент, несхожий с переключателями у логических блоков.] \cf10\{Количество редакций отдельных _документов_ может достигать сотни и более (УК, УПК); однако, в среднем по базе количество ревизий (для изменявшихся документов) составляет 2..3 ревизии на документ. Логические _блоки_ нижних уровней (статьи) также имеют в среднем по 2..3 редакции; лишь в исключительных случаях это число может достигать десятка.\}\cf0\\2. Пользователь может дополнительно потребовать показать выбранную редакцию (историю изменений) в новом окне.\\3. Система перестраивает выбранный блок / документ, выполняя перестройку в текущем или в новом окне. При открытии нового окна система делает начало перестроенного блока первой строкой на экране и устанавливает на нее курсор. {\cf6 [Внешний вид блока / документа в неактуальной редакции должен отличаться от стандартного. Кроме того, по виду окна (цвет, название, отметки..) пользователь должен видеть, что окно содержит неактуальную редакцию блока / документа. При этом окно с историей ревизий может не отличаться от обычного.]}\\4. Прецедент для перестроенного блока/документа завершается, когда пользователь:\\\li720 а) Возвращает блок или документ целиком в актуальное состояние или просит скрыть историю ревизий. {\cf6 [Пользователь должен видеть, как эти операции можно сделать _быстро_.]}\\б) Инициирует вызов данного прецедента для другого блока в том же окне.\\li0\\i Альтернативные потоки:\i0  \\А0 - База данных перестроена на дату, отличную от текущей. Пользователь дополнительно уточняет, что использовать в качестве верхней даты для хронологии изменений: дату, на которую перестроена база или текущую дату (т.е. показать полную хронологию).\\\i Дополнительные условия:\i0\\1. Минимальная единица, могущая иметь редакцию - логический блок. Список доступных редакций логического блока верхнего уровня является объединением списков дочерних блоков (т.о. для документа пользователь должен видеть перечень всех имеющихся редакций). Перестройка родительского блока влечет за собой каскадную перестройку всех дочерних.\\2. История изменений (ревизий) блока или документа для какой-либо даты формируется следующим образом. Для каждого изменения, начиная с указанной даты, для каждого измененного/вставленного/удаленного структурного элемента система отображает состояние элемента на исходную дату и его{\f45\lang1033  }состояния после вносимых правок; каждое измененное представление документа сопровождается ссылкой на изменяющий документ и юридическими комментариями (если есть). Для отображения характера правок система использует шрифтовое и цветовое выделение изменяемых фрагментов.\\\expnd4\expndtw20 Пример. Хронология ревизий статьи 362 начиная с редакции 1961 года.\\\fi97\li97\ri97\fs16\i\cf12\expnd0\expndtw0 Текст статьи 362 УПК РСФСР в редакции от 27 октября 1960 г. Статья в настоящей редакции действовала с 1 января 1961 г. по 13 июня 1971 г.\i0\cf0\fs18\\pard\\fi485\li1649\qj\fs16\b\cf9 Статья 362.\b0\cf1  Освобождение от отбывания наказания по болезни\cf0\fs18\\li0\fs16\cf1 В случае, когда лицо, осужденное к лишению свободы, во время отбывания наказания заболело хронической душевной или иной тяжкой болезнью, препятствующей отбыванию наказания, суд по представлению администрации исправительно-трудового учреждения на основании заключения врачебной комиссии вправе вынести определение об его освобождении от дальнейшего отбывания наказания.\При освобождении от дальнейшего отбывания наказания осужденного, заболевшего хронической душевной болезнью, суд вправе применить принудительные меры медицинского характера или передать его на попечение органов здравоохранения.\cf0\fs18\\fi0\\pard\\fi97\li97\ri97\qj\fs16\i\cf12 Текст статьи 362 УПК РСФСР в редакции {\i0\cf11\ul Указа} Президиума ВС РСФСР от 28 мая 1971 г. Статья в настоящей редакции действовала с 14 июня 1971 г. по 2 июля 1992 г.\i0\cf0\fs18\\pard\\fi485\li1649\qj\fs16\b\cf9 Статья 362.\b0\cf1  Освобождение от отбывания наказания по болезни\cf0\fs18\\li0\fs16\cf1 В случае, когда осужденный во время отбывания наказания заболел хронической душевной или иной тяжкой болезнью, препятствующей отбыванию наказания, суд по представлению начальника органа, ведающего исполнением наказания, на основании заключения врачебной комиссии вправе вынести определение об его освобождении от дальнейшего отбывания наказания.\\strike При освобождении от дальнейшего отбывания наказания осужденного, заболевшего хронической душевной болезнью, суд вправе применить принудительные меры медицинского характера или передать его на попечение органов здравоохранения.\strike0\\fs18\cf0\\pard\\fs16\i\cf12 Текст статьи 362 УПК РСФСР в актуальной редакции.\\fs18\i0\cf0\\fi485\li1649\qj\fs16\b\cf9 Статья 362.\b0\cf1  Освобождение от отбывания наказания по болезни\cf0\fs18\\li0\fs16\cf1 В случае, когда осужденный во время отбывания наказания заболел хронической душевной или иной тяжкой болезнью, препятствующей отбыванию наказания, судья по представлению начальника органа, ведающего исполнением наказания, на основании заключения врачебной комиссии вправе вынести постановление об его освобождении от дальнейшего отбывания наказания.\\i При решении вопроса об освобождении от дальнейшего отбывания наказания лиц, заболевших тяжкой болезнью, кроме лиц, заболевших душевной болезнью, суд учитывает тяжесть совершенного преступления, личность осужденного и другие обстоятельства.\i0\\fi0\fs18\cf0\\expnd4\expndtw20 Конец примера.\\expnd0\expndtw0\В данном примере перечеркнутым шрифтом отображен исключенный абзац, а наклонным - добавленный. Пример имеет условный характер и никак не связан с реальным текстом УПК.\\3. Под редакцией блока или документа понимается его вид на конкретную дату, без каких-либо комментариев, связанных с правками.\\4. В тексте описания используется выражение "перестроить на указанную дату" и "редакция документа". Однако, система должна уметь оперировать со всеми нижеперечисленными параметрами:\\\li720 а) Определенная дата (произвольная, но не меньше даты нулевой ревизии).\а) Дата изменения (совпадает с датой изменяющего документа).\б) Интервал дат (даты "соседних" ревизий).\в) Номер редакции (порядковый номер ревизии документа).\г) {\lang1033\f45 ID }изменяющего документа (название, дата, номер, орган).\\li0\Другими словами, в списке выбора редакций может использоваться любой из этих синонимичных (эквивалентных) параметров.\\f45\lang1033\5. \f12\lang1049 Если документ был подключен в систему не в первой, а в одной из более поздних редакций, то список доступных редакций начинается не с первой редакции, а с редакции подключения. \\6. Ситуации с отсутствием в базе одной или более промежуточных (не первой и не последней) редакций документа рассматриваются как ошибки юробработки и должны блокироваться на этапе компиляции, т.е. никак не должны обрабатываться программной оболочкой.\\(Прим.: 5 и 6 - это решения юротдела, сформулированные мне Светой Авдиевич).\lang1033\f45\\\\f12\i\lang1049 Примечания; вопросы для размышления (А.В.)\\i0\1. Прецедентик, в общем, так себе вышел. Его вполне можно скрестить с "просмотром документа". Но я подумал, что слишком уж тут много доп. сведений - лучше описать их отдельно..\\2. Я смешал якобы "альтернативные" способы выбора редакции, использованные в демоническом ;-) описании. Не вижу разницы между указанием конкретной даты и номером (датой) ревизии. И потом - какое там может быть дерево редакций? Обычный линейный список..\\\\keepn\sb240\sa60\s2\b\i Прецедент "Печать"\\pard\qj\b0\Краткое описание:\i0  Печать объекта из активного окна.\\i\Предусловие: \i0  Активно окно, содержащее документ, справочную информацию к нему, список или раздел навигатора.\\\i Триггер:\i0  Пользователь дает команду "Печать".\\\i Сценарий:\i0  \1. Пользователь дает команду "Печать". Система открывает окно управления печатью.\\2. Пользователь выбирает:\\\li720 а) Принтер, на который следует распечатать документ. Выбор предоставляется только если в системе установлено более одного принтера.\\б) По желанию пользователь настраивает свойства принтера.\\в) Диапазон печати:\\li1440\\emdash  Весь объект.\\\emdash  Текущая страница.\\\emdash  Интервал страниц. По умолчанию в качестве верхнего значения система подставляет страницу с наибольшим номером.\\\emdash  Выделенная область. Этот пункт активен по умолчанию, если в объекте имеются выделенные фрагменты.\\\li720 г) Масштаб печати.\\li0\3. В зависимости от типа распечатываемого объекта пользователь выбирает:\\\li720 а) Для документа:\\\li1440\emdash  Печатать только текст документа или текст и справочную информацию к документу. Во втором случае пользователь может также указать, какие именно справочные страницы должны быть распечатаны вместе с документом. Система запоминает эти страницы и использует их по умолчанию в текущем и последующих сеансах работы.\\li720\б) Для списка:\\\li1440\emdash  Печатать только заголовки или композитный документ, построенный на основе списка. <<{\f45\lang1033 extend}>> "Построение композитного списка".\\li720\\li0 4. Пользователь может вызвать окно настроек. Система делает активной группу настроек "Печать", позволяя, однако, переходить к другим группам. <<{\f45\lang1033 extend}>> "Настройка системы".\\5. Пользователь может вызвать окно предварительного просмотра результатов печати.\\6. Пользователь подтверждает параметры печати и требует распечатать объект. Система оценивает количество страниц, которое потребуется для распечатки и если оно превышает {\f45\lang1033 N, }выдает предупреждение. С согласия пользователя система выполняет печать.\\\i Дополнительные условия:\i0\\1. \lang1033 При наличии вложенных названий фрагментов они тоже печатаются с сохранением иерархии за счет начальных отступов.\\f45\\f12\i\lang1049 Примечания; вопросы для размышления (А.В.)\\i0\1. Доп. условие {\f45\lang1033 N1 }взято "из Демона". Я его не понимаю..\\2. Я не перечисляю изменений по сравнению с демоновой моделью - они и так видны..\\3. Насчет масштаба печати - поскольку документ уже поделен на страницы, непонятно, как изменение масштаба печати должно сказаться на этом делении. К тому же, если указан интервал страниц, а потом выбран масштаб <>100%, то становится неясным, что именно должно попасть на принтер. Поэтому масштабирование предлагается сделать кратным. Т.е., например 1, 2 или 4 страницы на лист.\\\keepn\sb240\sa60\s2\b\i Прецедент "Просмотр списка"\\pard\qj\b0\Краткое описание:\i0  Открытие и просмотр списка, основные манипуляции над ним.\\i\Триггер:\i0  Пользователь переходит к списку по ссылке, получает его в результате поиска или извлекает из папок.\\\i Сценарий:\i0  \1. В зависимости от условий перехода система либо загружает список в активное окно, либо открывает новое. Список может быть получен в разных состояниях:\\\li720 а) Сортированный (например, получен из папки, в которую был сохранен в сортированном состоянии). Система загружает список, не выполняя никаких дополнительных действий.\\б) Несортированный. Прежде чем выполнить сортировку, система сравнивает размер списка с числом, указанным в настройках и проверяет, разрешают ли настройки запрашивать подтверждение. \\\li1440\emdash  Если разрешения нет или размер списка меньше критического, система выполняет сортировку автоматически, используя критерий, указанный в настройках.\\\emdash  При совпадении обоих условий система запрашивает подверждение, позволяя при этом изменить критерий сортировки. С согласия пользователя система выполняет процедуру.\\\li720 В любой момент времени пользователь может прервать процесс сортировки. Система выводит несортированный список.\\li1440\\li0 2. Система \\li720 - формирует краткое название списка, уникальное среди других списков, открытых в данный момент;\- выводит список на экран, отображая\cf1  способ, которым он был получен (см. доп. требования);\- \cf0 делает текущим первый элемент списка.\\li0\3. Система анализирует, каким способом была получен список. Если он строится в результате параметрического поиска с участием контекста в названии документа, то система инициирует начало прецедента "Поиск контекста в списке" (<<{\f45\lang1033 extend}>>), отображая окно поиска и заполняя поле искомого контекста. \\4. Система позволяет пользователю изменять текущий элемент и выделять один или более элементов списка, в т.ч. все элементы списка.\ \cf6 [Пользователь должен видеть общее количество документов в списке, количество выделенных документов, количество фильтров, действующие на список (глобальные и локальные) и текущий порядок сортировки (вместе с ее направлением). Кроме того, пользователь должен видеть, сколько документов соответствует неотфильтрованному списку, сколько - списку с участием глобальных фильтров и сколько - списку с участием локальных фильтров.\Для текущего документа пользователь должен видеть его порядковый номер в списке и расширенную информацию об этом документе, описанную в доп. требованиях к прецеденту. Пользователь должен четко видеть, какой именно элемент является текущим, даже если он выделен (в Гаранте 5.х разницу увидеть почти нельзя).]\cf0\\cf12 (Предполагаемое суммарное{\f45\lang1033  }количество наложенных фильтров будет не более 2..3.)\cf0\\\5. Пользователь может выполнять в списке следующие операции.\\\li720 а) Изменять представление списка.\\\li1440\emdash  Сворачивать и разворачивать ссылки. Если в списке нет ни одного "разворачиваемого" документа (например, список был изначально получен в кратком, свернутом виде), система делает недоступными обе эти операции. {\cf10\{Чаще всего списки получаются в развернутом виде.\}}\\\emdash  Удалять документы из списка. Пользователь дает команду "Удалить"; система, в зависимости от наличия выделения, выполняет:\\li2160 - Выделения нет. Система удаляет текущий элемент.\- Есть один или несколько выделенных элементов. Система предоставляет выбор: \\li2880\Удалить все выделенные элементы\ИЛИ\Удалить все невыделенные элементы\ИЛИ\Отказаться от удаления\\li1440\Система не позволяет оставить список пустым, т.е. не содержащим ни одного документа.\\\emdash  Сортировать список. Система показывает пользователю перечень критериев сортировки, делая неактивными критерии, недоступные в данном контексте (зависит от типа документов и от способа получения списка). \cf6 [Пользователь должен различать сортировки, предопределенные системой, и сортировки, созданные им самим.]\cf10\{Система поддерживает около 5 фиксированных критериев сортировки плюс два направления (возрастание/убывание), а также неограниченное количество "настраиваемых сортировок".\}\cf0\\Пользователь выбирает желаемый порядок сортировки, система выполняет процедуру. В любой момент времени пользователь может прервать процесс сортировки. Система возвращает список в исходное состояние.\ {\cf6 [Пользователь должен видеть индикатор, отображающий ход процесса.]} \cf10\{Время сортировки коротких списков (<~ 200) исчезающе мало (считанные секунды). Время, требуемое на сортировку больших списков ~ 1000..10000 на среднем ПК, характеризуется несколькими минутами (порядка десяти). Сортировка всех документов КИБ на маломощных ПК может потребовать нескольких часов.\}\cf12 (Самая типичная ситуация, с которой начинается данный прецедент - получение списка документов в результате ППР. Размеры получаемых при этом списков обычно находятся в пределах от нескольких единиц до нескольких сотен.)\cf0\\\emdash  Фильтровать список. <<{\f45\lang1033 extend}>> "Фильтрация списка".\\\emdash  Выполнять над списком логические операции. <<{\f45\lang1033 extend}>> "Логические операции".\\\li720 После первой же операции, модифицирующей список (удаление, фильтрация, логич. операции), система показывает индикатор \cf1 "модифицированности" списка. {\cf6 [Пользователь должен понять, что текущее наполнение списка отличается от исходного. Возможно, следует убирать с экрана строку, показывающую как был получен список (или делать ее неактивной).]}\\cf0\а1) Пользователь может также изменять представление списка, последовательно отменяя или возвращая действие следующих активностей из п.а): сворачивание/разворачивание, удаление, фильтрация, сортировка, логические операции. Помимо последовательной навигации пользователю предоставляется полный перечень состояний, в которых список находился в течение прецедента с возможностью перейти к любому из них. При изменении "промежуточного" списка состоянии система делает его последним в перечне состояний, к которым возврат еще возможен.\\При переводе списка в исходное состояние индикатор его \cf1 "модифицированности" исчезает.\\cf0\б) Экспортировать, печатать и сохранять список.\\\li1440\emdash  Экспортировать список. <<{\f45\lang1033 extend}>> "Экспорт в файл".\\\emdash  Распечатывать список.<<{\f45\lang1033 extend}>> "Печать".\\\emdash  Копировать список в буфер обмена.\\\emdash  Сохранять список в папку. См. <<{\f45\lang1033 extend}>> "Сохранение в папку".\\f45\\li720\f12 в) Переходить к документам.\\\li1440\emdash  Открывать документы в текущем или в новом окне\\\emdash  Использовать режим синхронного просмотра. См. <<{\f45\lang1033 extend}>> "Синхронный просмотр".\\\emdash  Строить композитный документ. Пользователь указывает, строить документ в текущем или в новом окне; система формирует документ и загружает его в указанное окно. См. <<{\f45\lang1033 extend}>> "Построение композитного документа".\\li720\г) Искать контекст.\\\li1440\emdash  Производить поиск контекста. См. <<{\f45\lang1033 extend}>> "Поиск контекста в списке".\\li0\\li1440\emdash  Перемещаться к нужному элементу посредством инструмента "быстрый поиск". <<{\f45\lang1033 extend}>> "Быстрый поиск".\\li0\Если нет выделения, то операция относится либо ко всему списку, либо к текущему элементу.\\6. Прецедент завершается, когда пользователь закрывает окно со списком, переходит в нем к одному из элементов списка или загружает в окно другой объект (выбирая его, например, из папки).\\\i Дополнительные условия:\i0\\1. Должны поддерживаться следующие предопределенные системой критерии сортировки:\\\li720 а) "По юр.силе"\б) "По дате издания"\в) "По дате последнего изменения"\г) "По алфавиту"\д) "По релевантности"\\\li0 Наряду с критерием система позволяет указать направление: по возрастанию или по убыванию.\\Следует подчернуть условность этих названий, т.к. каждый из критериев подразумевает не одно, а совокупность правил, по которым выполняется упорядочивание списка. Например, выполнение сортировки "По юр. силе" может подразумевать такую активность системы:\\li720 - выполняется упорядочение собственно по атрибуту "юр. сила"\- элементы списка, не имеющие данного атрибута, помещаются в определенный сегмент списка - например, в конец.\- в каждом из сегментов (сортированного и несортированного) независимо выполняется под-сортировка по дате издания.\- элементы, не имеющие этого атрибута, группируются  в отдельные под-сегменты списка.\- сегменты независимо сортируются по алфавиту.\\\li0 См. п. 2. доп. условий.\\1.а. Сортировка по релевантности доступна только для списков, полученных поиском по соответствию и не подвергавшимся модификации (по наполнению).\\1.б. Если все элементы списка не имеют одного из атрибутов сортировки, то соответствующий ему критерий становится недоступным.\\2. Правила сортировки по вышеприведенным критериям должны быть сформулированы представителями юр.отдела, возможно, на более поздних этапах. Следует оговорить приоритеты сортировки (порядок следования элементов с одинаковыми значениями основного параметра сортировки) и правила обработки разнородных списков (например, следует ли автоматически группировать юр. документы и лекарственные средства, после чего выполнять сортировку в пределах групп).\\3. Расширенная информация, отображаемая (по умолчанию) для текущего элемента списка, по типам.\\\li720 а) Юридический документ:\\li1440\дата издания, \дата последней ревизии,\юр. сила\\\li720 б) Лек. средство\\в) Фармакологическая фирма\\г) Толкование термина\\д) Встроенный объект\\li1440 тип\размер файла\f45\lang1033\\\li0\f12\lang1049 Списки подлежат дальнейшему уточнению.\\4. Система должна показывать пользователю способ, которым был получен оригинальный, немодифицированный список. Возможны ситуации:\\\li720 а) Список получен в результате поиска. Должны отображаться тип поиска (по реквизитам, по ситуации). Для тех видов поиска, где количество задаваемых параметров невелико, должны также отображаться их значения. \\expnd4\expndtw20 Пример.\expnd0\expndtw0  Так, для интеллектуального поиска следует показать строку запроса, а для ППС - выбранную ситуацию.\\б) Список получен в результате перехода по навигатору. Система показывает путь, пройденный пользователем в навигаторе.\\в) Список получен в результате выбора из папки. Система показывает, откуда список был выбран. Если список выбран как логическая комбинация нескольких объектов, система также отображает этот факт (сам запрос можно не показывать).\\г) Пользователь перешел на список по ссылке из документа. Система отображает название ссылки.\\li0\Перечни отображаемых атрибутов могут быть уточнены на дальнейших этапах.\\f45\lang1033\\f12\lang1049 5. Система должна отображать границы печатных страниц, а также номер страницы, на которой расположен текущий элемент списка.\\6. В списке сортировок пользователь должна иметь возможность вызова окна редактирования созданных им "настраиваемых" сортировок. Пользователь должен иметь возможность создавать новые, редактировать и удалять существующие сортировки. Под сортировкой понимается ранжированная совокупность правил, по которым упорядочивается список элементов. Каждое правило состоит из \\li720 а) критерия сортировки, основанного на каком-либо атрибуте, поддерживаемом системой;\б) порядка следования элементов (возрастание или убывание).\\li0\Пользователь указывает, в какой очередности применяются эти правила: по какому из них сортировка идет в первую очередь, по какому - во вторую и т.д.\\Все пользовательские сортировки должны автоматически сохраняться между сеансами работы данного пользователя, являясь частью пользовательского профиля (конфигурации).\\f45\lang1033\7. \f12\lang1049 В окне со списком должно отображаться краткое название списка. \\\f45\lang1033\\f12\i\lang1049 Примечания (А.В.)\\i0\Я убрал из Демонова описания "одновременное открытие нескольких документов" - по причине неочевидной востребованности оного. <Крылов согласен - А.В.>\\\keepn\sb240\sa60\s2\b\i Прецедент "Построение композитного документа"\\pard\qj\b0\Краткое описание:\i0  Формирование системой документа, состоящего из адресуемых списком логических блоков или документов. Описанные активности выделены в отдельный прецедент, поскольку без модификаций используются несколькими расширяемыми прецедентами. Данный прецедент почти полностью выполняется системой, без участия пользователя.\\i\Триггер:\i0  Пользователь - явно или косвенно - требует сформировать композитный документ. Косвенный вызов возможен из прецедентов "Печать" и "Экспорт в файл", прямой - из "Просмотра списка".\\\i Сценарий:\i0  \1. Пользователь требует сформировать композитный документ. При вызове прецедента пользователь указывает, какие объекты должны попасть в результирующий текст:\\\li720 - Аннотации к документам и адресуемые списком логические блоки;\ИЛИ\- Аннотации к документам и адресуемые списком документы (целиком);\ИЛИ\- Только адресуемые списком логические блоки, без аннотаций;\ИЛИ\- Только адресуемые списком документы (целиком), без аннотаций.\\\li0 2. Система оценивает объем суммарного документа, и сравнивает его со значением, указанным в настройках. \\\li720 а) Если оценка оказывается больше критического значения, то система блокирует операцию и сообщает пользователю о причине невыполнимости операции с заданными требованиями, а также предлагает просмотреть раздел справочного руководства с рекомендациями по разрешению ситуации.\\б) Если оценка ниже допустимого предела, то система разрешает ее выполнение вызвавшему прецеденту.\\\li0 В обоих случаях управление передается вызвавшему прецеденту.\\\i Дополнительные условия:\i0\\1. Примерный формат документа, генерируемого на основе извлечений:\ \\li720 а) Название документа. Отображается в заголовке окна; используется при экспорте, сохранении в папку и т.п.\\б) Заголовок (шапка) {\cf6 [Описать способ, каким была получена эта страница и исходный список.]}\\в) Оглавление, состоящее из ссылок на нижеследующие извлечения.\\г) Список извлечений.\\li1440\f45\lang1033 while not EOF \{\lang1049\f12\Документ <Название документа>, раздел <Название/номер извлечения>.\<Аннотация к документу> (опционально).\<Текст блока или документа>.\Разделитель.\\f45\lang1033\}\\\li0\f12\lang1049 Название извлечения и название документа являются гиперссылками на соответствующие объекты базы и приводят к загрузке полноценного документа. Если гиперссылка указывала на структурный элемент, то приводится название блока, в котором расположен этот элемент, и содержимое элемента.\\f45\lang1033\2. \f12\lang1049 К композитному документу с небольшими поправками применимы все активности, описанные в прецеденте "Просмотр документа". Ограничения связаны с нежелательностью хранить на сервере пользовательские объекты больших размеров, а также возможной утратой актуальности физически сохраненными фрагментами. Приводимые здесь поправки дублируются в тексте упомянутого прецедента.\\\li720\emdash  Установка закладки. При попытке установить закладку на извлечение, система сообщает, что закладка будет указываеть не на данную страницу, а на соответствующий логический блок в оригинальном документе базы данных. Кроме того, сообщается о возможности сохранить текущую страницу как исходный список, на основе которого композитный документ будет автоматически восстановлен при выборе из папки.\\Пользователю предоставляется выбор:\\\li1440\emdash  Поставить закладку на документ БД, \ИЛИ\\emdash  Сохранить исходный список,\ИЛИ\\emdash  Не устанавливать закладку,\ИЛИ\\emdash  Экспортировать композитный документ,\\li0\\f45\lang1033\\f12\i\lang1049 Примечания (А.В.)\\i0\1. У Демона есть требование: "Система позволяет выполнять данную операцию только если все элементы списка адресуют логические блоки или структурные элементы, но не документы целиком".  Однако то, что при выполнении этого условия мы позволяем выливать полнотекстовые документы, выглядит нелогичным. К чему тогда процитированное ограничение? Достаточно по умолчанию предлагать опцию "только фрагменты". \\Прим. <С крыловского позволения эту строчку я изъял. Сейчас ее нет.>\\\keepn\sb240\sa60\s2\b\i Прецедент "Синхронный просмотр"\\pard\qj\b0\Краткое описание:\i0  Навигация по списку с одновременным просмотром текущего элемента списка.\\i\Предусловие:\i0  Активно окно со списком.\\\i Триггер:\i0  Пользователь \\\\i Сценарий:\i0  \\1. Пользователь включает режим синхронного просмотра. Система изменяет размер и положение окна со списком, открывает новое окно (граничащее с окном списка), загружает в него текущий документ и переводит переключатель режима в инвертированное состояние. Пользователь может:\\\li720 а) Изменять текущий элемент списка. Система загружает текущий элемент в окно документа.\\б) Переключаться между окнами списка и документа и упорядочивать окна произвольным образом (перемещать их, максимизировать, минимизировать..).\\в) Выполнять в окне документа любые действия, не приводящие к завершению прецедента "Просмотр документа": \ \\li0\2. Прецедент завершается в случаях, когда пользователь:\\\li720 а) Изменяет состояние переключателя (явное завершение). Система закрывает окно документа автоматически.\\б) Завершает прецедент "Просмотр документа":\\li1440\\emdash  закрывает окно документа вручную, или\\\emdash  загружает в окно документа другой объект, выполняя такие действия как навигация или выбор из папки.\\li720\В случаях б) и в) система автоматически переводит переключатель в исходное состояние и, если размер и положение окна со списком не были изменены в течение сеанса, возвращает им исходные значения.\\li0\\i Дополнительные условия:\i0\\1. Размеры и положения окон при синхронном просмотре определяются следующим образом. Если на момент вызова прецедента окно со списком занимало по высоте менее половины родительского окна и находилось в верхней его части, то окно с документом открывается впритык к нижней границе списка, а по ширине и по высоте совпадает с ним. Во всех остальных случаях окно списка и окно документа делят всю площадь родительского окна пополам (по вертикали).\\\f45\lang1033\\f12\i\lang1049 Примечания; вопросы для размышления (А.В.)\\i0\Пока нет.\\\keepn\sb240\sa60\s2\b\i Прецедент "Поиск контекста в списке"\\pard\qj\b0\Краткое описание:\i0  Поиск контекста в списке документов.\\i\Предусловие:{\i0  Активно окно со списком.}\\i0\\i Триггер:\i0  Пользователь вызывает процедеру поиска в явном виде и система отображает окно поиска, либо система автоматически открывает окно поиска при построении списка, полученного в результате поиска "в названии документа".\\\i Сценарий:\i0  \1. Система отображает окно поиска. В случае явного вызова система предлагает последний запрос, использованный в текущем сеансе работы. В случае автоматического открытия окна система автоматически подставляет контекст, использованный в параметрическом поиске. {\cf6 [Окно поиска должно быть максимально похожим на окно, используемое в прецеденте "Поиск контекста в теле документа". В крайнем случае приемлем вызов того же окна, но с неактивными выборами области поиска и т.п.]}\\2. Пользователь может выполнять следующие операции:\\\li720 а) Редактировать текущий запрос.\\б) Выбрать один из использованных ранее запросов.\\в) Ввести новый запрос.\\\li0 3. Пользователь может дополнительно указать:\\\li720 а) Направление поиска: вверх или вниз (по умолчанию).\\б) Точку отсчета: от начала/конца списка или от текущего элемента (по умолчанию).\\в) Область поиска: выделенные документы (по умолчанию) или список целиком. Данный выбор предоставляется только если при вызове прецедента существовала выделенная область.\\\li0 4. Пользователь требует приступить к поиску. Система не позволяет инициировать начало поиска, если текущий запрос пуст, маска задана некорректно ("*") или использованы недопустимые символы. В случае корректного запроса система запоминает его в истории использованных запросов и начинает поиск. {\cf6 [Система должна визуально сигнализировать об ошибках при вводе контекста. Спецсимволы типа логических операторов должны иметь шрифтовое или цветовое выделение.]} {\cf10\{Искомый контекст обычно состоит из одного-двух (реже - трех) слов. Суммарная длина введенного контекста обычно не превышает 15..25 символов.\}}\\li720\а) Вхождение найдено: система делает текущим элемент, в котором был найден введенный контекст и подсвечивает слова из запроса. При этом система располагает окно поиска так, чтобы не закрывать название текущего элемента. Пользователь решает: \\\li1440\emdash  Завершить прецедент или\\\emdash  Продолжить поиск с теми же условиями или \\\emdash  Модифицировать условия. \\li720\б) Вхождение НЕ найдено. Возможны варианты:\\\li1440\emdash  Список был просмотрен целиком. Система сообщает, что вхождений не найдено и позволяет уточнить запрос (п.2).\\\emdash  Список был просмотрен частично (от текущего элемента до одной из границ списка; только выделенные элементы..). Система сообщает, что в просмотренной области вхождений не найдено и предлагает продолжить поиск в оставшейся части списка или уточнить запрос.\\\li0 5. Прецедент завершается, когда пользователь закрывает окно поиска.\\\i Дополнительные условия:\i0\\1. Все заданные в запросе слова  должны располагаться в пределах названия одного документа.\\2. Система должна хранить до 10 запросов, использованных ранее, в т.ч. в предыдущих сеансах работы. История запросов едина для всех экземпляров данного прецедента. \\3. См. глобальное требование 5.\\\i Примечания; вопросы для размышления (А.В.)\\i0\1. Сомневаюсь в необходимости п. 3.в)\\\keepn\sb240\sa60\s2\b\i Прецедент "Фильтрация списка"\\pard\qj\b0\Краткое описание:\i0  Управление фильтрами, применяемыми к текущему списку.\\i\Предусловие:\i0  Активно окно со списком.\\\i Сценарий:\i0  \1. Пользователь требует изменить условия фильтрации списка.\\li720\1.1. Система отображает окно управления папками, показывая только элементы типа "запрос". {\f45\lang1033 <<extend>> "}Выбор из папки{\lang1033\f45 ". }Система делает недоступными те запросы, которые уже используются в качестве глобальных фильтров. {\cf6 [Следует показать, что эти запросы служат глобальными фильтрами.]}\\1.2. Пользователь отмечает или разотмечает один или более запросов. Система автоматически предваряет отмеченные запросы логическим "И", не позволяя пользователю изменить это условие. В линейном списке операндов текущий список служит первым операндом, который пользователь исключить из списка не может. {\cf12 (Одновременный выбор более чем двух фильтров маловероятен.)}\\1.3. Пользователь требует применить выбранные фильтры. Система применяет отмеченные фильтры и выводит результирующий список. (Альтернатива А0 - Получен нулевой список.)\\li0\1б. Пользователь требует отменить все фильтры, наложенные на список. Система запрашивает подтверждение и выполняет требование пользователя, выводя неотфильтрованный список.\\\i Альтернативные потоки:\\i0 1. А0 - Получен нулевой список. Система сообщает об этом пользователю и позволяет продолжить выбор фильтров.\\\i Дополнительные условия:\i0\1. Если фильтр, наложенный на список, был удален вне рамок данного прецедента, то система сохраняет действие удаленного фильтра, не позволяя, однако, его отменить. Другими словами, исключенные удаленным фильтром документы списка не отображаются и вернуть их обратно невозможно - в перечне наложенных на список фильтров удаленный фильтр отсутствует.\\2. Если наложенный на список фильтр подвергся изменению, то система сохраняет действие прежней модификации фильтра вплоть до последующего вызова данного прецедента.\\f45\lang1033\\f12\i\lang1049 Примечания; вопросы для размышления (А.В.)\\i0\1. Доп. условие 1) соответствует нынешнему поведению Гаранта. Условие 2) выдумано мной.\\2. Не следует ли предусмотреть расширение, которое позволит удалять наложенные фильтры поодиночке, без вызова окна уравления папками? Например, из какого нибудь постоянно болтающегося списка?\\\keepn\sb240\sa60\s2\b\i Прецедент "Логические операции"\\pard\qj\b0\Краткое описание:\i0   Логические операции над списком.\\i\Предусловие:\i0  Активно окно со списком.\\\i Сценарий:\i0  \1. Пользователь вызывает одну из логических операций.\\li720\1.1. Система отображает окно управления папками, показывая все сохраненные элементы (списки, запросы, документы), а также все открытые в настоящий момент списки документов, за исключением текущего.  Система открывает раздел "документы", позволяя, однако, переходить в другие корневые разделы. Все остальные операции с папками при этом разрешены. {\lang1033\f45 <<extend>> "}Выбор из папки\lang1033\f45 ". \cf6 [{\f12\lang1049 По виду окна пользователь должен понимать, что на прецедент "Выбор из папки" наложены ограничения, связанные со спецификой описываемого прецедента. Заголовок окно, например, может называться "Вычесть из..", а линейный список операндов - визуально разделен на неизменяемый список-уменьшаемое и перечень вычитаемых списков.}]\cf0\lang1049\f12\\1.2. Пользователь отмечает в папках один или более элементов. Система автоматически:\\li1440 - предваряет выбранные элементы логическим префиксом, зависящим от вида операции, не позволяя пользователю изменять этот префикс \И\- добавляет выбранные элементы в список операндов.\В линейном списке операндов активный список служит первым операндом, который пользователь не может исключить из списка. {\cf6 [Первый неизменяемый операнд должен выделяться среди других операндов списка.]}\\li720\1.3. Пользователь требует выполнить операцию. Система выполняет  процедуру и выводит результирующий список. (Альтернатива А0 - Получен нулевой список.)\\li0\\i Альтернативные потоки:\\i0 1. А0 - Получен нулевой список. Система сообщает об этом пользователю и позволяет модифицировать список операндов.\\\i Дополнительные условия:\i0\1. Система должна поддерживать следующие логические операции:\\li720\а) Объединение списков ("Объединить с.."); \tab - префикс "ИЛИ"\б) Пересечение списков ("Пересечь с.."); \tab\tab - префикс "И"\в) Вычитание списков ("Вычесть.."); \tab\tab - префикс "КРОМЕ"\\li0\После названий операций указаны логические операторы, которыми система автоматически сопровождает отмечаемые элементы.\\\i Примечания; вопросы для размышления (А.В.)\\i0 1. Я написал, что пользователь может скрещивать списки не только со списками и запросами, но и с документами. Формально - правильно. И единообразно. Но теперь вот сомневаюсь.\\\keepn\sb240\sa60\s2\b\i Прецедент "Параметрический поиск"\\pard\qj\b0\Краткое описание:\i0  Составление запроса из произвольной комбинации поисковых атрибутов и построение списка по запросу.\\\i Цель:\i0  Формирование списка документов, по значению атрибутов удовлетворяющих заданным критериям.\\\i Сценарий:\i0  \\1. Пользователь выбирает вид искомых документов:\\li720 1.1. Система предлагает выбрать один или более видов документа.\1.2. Пользователь совершает выбор.\\cf6 [Вид "юр. документ" должен доминировать в списке выбора и/или являться выбором по умолчанию.]\cf10\{Система будет поддерживать от 4-х и более видов документов.\}\cf12 (Можно предположить, что наиболее часто выбираемым будет вид "юр. документ". Чаще всего предметом параметрического поиска будет один-единственный вид документа, много реже - 2 или 3.)\cf0\1.3. Система формирует поисковое окно на основе поисковых атрибутов, поддерживаемых данным видом документа, и отображает его. (Альтернатива А0 - Выбрано более одного вида документов.)\\\li0 2. Пользователь вводит и редактирует запрос, задавая значения атрибутов. \\li720 2.1. Пользователь вводит, изменяет или обнуляет значения отдельных атрибутов, вводя их вручную или выбирая из списка, а также указывает параметры поиска. При выборе словарных атрибутов выполняется одноименный прецедент <<{\f45\lang1033 extend}>> "Выбор словарных атрибутов". Система позволяет при этом очистить поисковое окно целиком, обнулив все атрибуты одновременно и присвоив параметрам значения "по умолчанию".\2.1а. Пользователь расставляет перед атрибутами логические префиксы, с которыми они будут участвовать в запросе. {\cf6 [Префикс "ИЛИ" должен быть выделен, являясь префиксом по умолчанию.]} {\cf10\{Системой поддерживается три логических префикса.\}}\2.2. При включенной ф-ии "Автоподсчет" система исполняет запрос после любой модификации атрибутов и логических префиксов, и отображает количество найденных документов.\\li0\2а. Пользователь выбирает один из ранее сохраненных запросов:<<{\f45\lang1033 extend}>> Выбор из папки.\\li720 2а.1. Пользователь дает команду "Выбрать сохраненный запрос".\2а.2. Система выводит окно управления папками, делая доступными только те запросы, у которых виды искомых документов идентичны текущим.\2а.3. Пользователь выбирает запрос.\2а.4. Система заполняет поля КЗ значениями, сохраненными в запросе.\\li0\2б. Пользователь сохраняет текущий запрос: <<{\f45\lang1033 extend}>> "Сохранение в папку".\\li720 2б.1. Пользователь требует сохранить текущий запрос.\2б.2. Система выводит окно управления папками, делая доступным только корневой раздел "Запросы".\2б.3. Пользователь сохраняет запрос.\\li0\2в. Пользователь настраивает режим ввода.\\li720 2в.1. Пользователь включает или выключает функцию "Автоподсчет".\2в.1. Система запоминает выбор пользователя как часть его сохраняемой конфигурации и использует этот выбор в текущем и последующих сеансах работы.\\li0\3. Пользователь требует исполнить запрос.\\li720 3.1. Пользователь дает команду "Искать". \3.1а. Система выясняет, было ли в момент вызова прецедента активно окно со списком. Если да, то пользователь выбирает между "Искать в базе" или "Искать в текущем списке". {\cf6 [Второй выбор должен быть выделен, являясь выбором "по умолчанию".]}\\3.2. Система исполняет запрос.\3.2а. Система исполняет запрос, сообщая пользователю количество найденных документов. Пользователь совершает выбор: \\li1440 Построить список. Система строит результирующий список; прецедент завершается.\ИЛИ\Уточнить запрос. Управление передается п.2.\ИЛИ\Прервать поиск. Прецедент завершается.\\li720 (Альтернатива А1 - Включена ф-ия "Автоподсчет".)\\3.3. Система строит результирующий список; прецедент завершается. (Альтернатива А2 - Документов не найдено.)\\\li0\\i Альтернативные потоки:\\i0\А0 - Выбрано более одного вида документов. \\li720\1.3. Система выявляет атрибуты, являющиеся пересечением множеств атрибутов выбранных видов.\1.4. Система отображает поисковое окно с объединенным множеством атрибутов. \cf6 [Следующие подмножества должны быть визуально разделены: а) подмножество пересечения атрибутов; б) для каждого вида искомых документов - атрибуты, специфичные для этого вида. Каждое подмножество должно быть аннотировано.] \cf10\{Количество поисковых атрибутов для документов разных видов характеризуется разбросом от 1..2 (для толкования) до 10..20 для юр. документа.\}\cf0\\li0\А1 - Включена ф-ия "Автоподсчет".\\li720 3.2а. Система исполняет запрос и передает управление п. 3.3.\\li0\А2 - Документов не найдено.\\li720 3.3. Система уведомляет пользователя и предлагает выбор:\\li1440 - Уточнить запрос. Управление передается п.2.\ИЛИ\- Прекратить поиск. Прецедент завершается.\\li720\\li0\i Дополнительные условия:\i0\\1. Система всегда загружает результирующий список в текущее окно.\\2\cf1 . Должны поддерживаться три логических префикса: ИЛИ, И, КРОМЕ.\\3. Префиксы могут воздействовать только на поисковые атрибуты. К параметрам поиска (напр., к точности поиска) префиксы не применяются.\\\cf0 4. Система должна поддерживать следующие типы поисковых атрибутов и требования к ним:\\\li720\sl240\slmult0\keep\nowidctlpar\s4 а) \lang1024 Дата.\\nowidctlpar\widctlpar - Пользователь может указывать для поиска интервал дат.\- {\lang1049 Ввод даты} долж{\lang1049 е}н быть возмож{\lang1049 е}н {\lang1049 как }с клавиатуры, {\lang1049 так и }из календаря.\- {\lang1049 Допускается ввод} как двухсимвольно{\lang1049 го}, так и четырехсимвольно{\lang1049 го }обозначени{\lang1049 я года}.\- {\lang1049 Система не должна позволять ввести некорректную дату.}\\\lang1049 б) Номер.\- \lang1024 Должен быть сформирован список существующих значений поля с возможностью его сокращения при начале ввода цифр.\- {\lang1049 Ввод номера} может осуществляться с клавиатуры или выбираться из списка. При этом пользователь может сразу выбрать несколько номеров и использовать wildcards для поиска по маске.\- Пользователь не должен иметь возможность ввести отсутствующий в базе номер.\\\lang1049 в) Контекст.\См. глобальное доп. требование 5.\lang1024\\lang1049\г) Словарные (множественные) атрибуты.\- При редактировании КЗ пользователь должен иметь возможность просмотреть и/или исключить из поиска выбранные значения данного атрибута БЕЗ вызова окна со словарем, т.е. не выполняя прецедент "Выбор словарных атрибутов". {\cf12 (Пользователь обычно выбирает вручную не более пяти значений словарного атрибута. Исключения: а) пользователь выбирает значения не вручную, а используя функцию контекстного поиска "Отметить все"; б) словарь ключевых слов, из которого могут одновременно выбираться десятки значений)}\\li0\lang1024\5. \lang1049 Система не позволяет переходить к выбору значений тех атрибутов, для которых этот список значений пуст вследствие действия глобальных фильтров.\\lang1024\6. \lang1049 Списки поисковых атрибутов, поддерживаемых документами в зависимости от их вида, приводятся ниже.\\7. При поиске из базы выбираются только те элементы, атрибуты и текст которых имели указанные значения на ту дату, на которую в настоящий момент перестроена база данных. Это требование относится также ко всем прецедентам-наследникам.\\\<>\\\expnd4\expndtw20 (Прим. А.В.\expnd0\expndtw0   Атрибуты пока неизвестны.. :( Нехорошо это.. Как же морду-то рисовать?!..)\lang1024\\\pard\qj\i\lang1049 Примечания; вопросы для размышления (А.В.)\\i0\\emdash  Я убрал демонову активность "система обобщает название атрибутов", т.е. подбирает общее название для одинаковых по смыслу, но разноименных атрибутов у документов разных видов. На мой взгляд, названия атрибутов у разных документов должны быть одинаковыми, т.е. изначально надо сделать разумный выбор универсального названия. Иначе - дикая путаница пользователю и морока нам.\\\emdash  Опять же, при поиске нескольких видов документов  убран выбор "искать по объединению или по пересечению атрибутов ". У меня - иначе. Всегда показывается объединение атрибутов.\\\emdash  Наверное, помнить последние использованные запросы все же нужно - пусть даже они не были сохранены в папках. Правда, возникают сложности (как скрещивать значения одинаковых атрибутов, использованные в запросах разных типов?).. Но расписывать это долго :(\\\emdash  Вероятно, при включении "автоподсчета" следует предупреждать пользователя о возможном замедлении работы системы.\\\emdash  Не уверен, что доп. требования к типам атрибутов прописаны достаточно детально. Я \\\\keepn\sb240\sa60\s2\b\i Прецедент "Типизированный поиск"\\pard\qj\b0\Краткое описание:\i0  Составление запроса из предопределенной, именованной комбинации поисковых атрибутов.\\\i Сценарий:\i0  \\1. Пользователь вызывает один из типизированных поисков. Система отображает предопределнную для данного типа поиска карточку запроса и передает управление п.2 прецедента "Параметрический поиск".\\\i Дополнительные условия:\i0\\1. Система должна поддерживать следующие типы поисков. В скобках указываются искомые виды документов; после названия перечисляются поисковые атрибуты, используемые в данном типе поиска.\\а) ППР (юр. док)\\li720 - все поисковые атрибуты данного вида документа.\\li0\б) ППС (юр. док, лек. ср-во, фарм. фирма, толкование)\\li720 - словарь ключевых слов.\\li0\в) ПЛС (лек. ср-во)\\li720 - все поисковые атрибуты данного вида документа.\\li0\г) ПФФ (фарм. фирма)\\li720 - все поисковые атрибуты данного вида документа.\\li0\д) ПТ (толкование)\\li720 - все поисковые атрибуты данного вида документа.\\li0\е) Интеллектуальный (синоним - "быстрый" или "простой") поиск (юр. док, лек. ср-во, фарм. фирма, толкование)\\li720\Номер\Дата\Контекст\\\li0\i Примечания; вопросы для размышления (А.В.)\\i0\1. Пока нет.\\\keepn\sb240\sa60\s2\b\i Прецедент "Выбор словарных атрибутов"\\pard\qj\b0\Краткое описание:\i0  Просмотр списка и выбор нужных значений для поиска.\\\i Цель:\i0  Найти в списке и выбрать одно или несколько значений словарного атрибута.\\i\Сценарий:\i0  \\1. Пользователь переходит к редактированию словарного атрибута. Система отображает окно выбора и загружает в него список значений данного атрибута.\\2. Пользователь выбирает интересующие его значения.\\li720\2.1. Пользователь выполняет навигацию по списку, сворачивая или разворачивая папки.\\2.2. Пользователь изменяет положение курсора, устанавливая его на папку или на элемент списка.\2.2а. Пользователь перемещает курсор посредством инструмента "контекстный поиск".<<{\f45\lang1033 extend}>> "Контекстный поиск в словаре".\2.2б. Пользователь перемещается к нужному элементу посредством инструмента "быстрый поиск". <<{\f45\lang1033 extend}>> "Быстрый поиск".\2.3. Пользователь вручную отмечает или разотмечает одну или несколько папок или элементов или устанавливает перед ними логические префиксы.\2.3а. Пользователь отмечает интересующие его значения с помощью инструмента "контекстный поиск". <<{\f45\lang1033 extend}>> "Контекстный поиск в словаре".\2.3б. Пользователь разотмечает все элементы одновременно.\\li1440\\li0 2а. Пользователь фильтрует словарь запросом. <<{\f45\lang1033 extend}>> "Фильтрация словаря".\\2б. Пользователь фильтрует словарь по маске.\\li720 2б.1. Пользователь вводит контекст в поле ввода, размещенное непосредственно в окне словаря.\2б.2. После каждой модификации маски система фильтрует словарь, отбрасывая не удовлетворяющие маске значения.\\li0\2в. Пользователь переходит к альтернативному словарю, выбирая его из списка доступных. Система автоматически отмечает элементы нового словаря в соответствии с текущими отметками старого. {\cf6 [В момент выбора пользователь должен видеть описание словарей.]} {\cf10\{В настоящее время альтернативные словари существуют для классов в кол-ве 1..2 шт.\}}\\3. Пользователь подтверждает выбор.\\li720 3.1. Пользователь подтверждает выбор. (Альтернатива А1 - Пользователь не выбрал ни одного элемента или папки.)\3.2. Система закрывает окно.\3.3. Система заполняет поле в КЗ значениями, выбранными из словаря. Прецедент завершен.\\li0\\i Альтернативные потоки:\\i0\А1 - Пользователь не выбрал ни одного элемента или папки. Система автоматически отмечает текущий элемент/папку логическим префиксом "по умолчанию".\\\i Дополнительные условия:\i0\\1. Поддерживаемые логические префиксы: ИЛИ, И, КРОМЕ.\\2. Пользователь может выставить префикс в явном виде или неявно, отметив элемент стандартным способом (щелчок мышью, пробел). Во втором случае система автоматически выставляет префикс ИЛИ.\\f45\lang1033\3. \f12\lang1049 Отметки-префиксы наследуются родительской папки всеми вложенными в нее папками и элементами; система расставляяет и снимает наследуемые префиксы автоматически. {\cf6 [С другой стороны, если родительская папка никак не отмечена, пользователь должен видеть, есть ли внутри нее отмеченные элементы, сколько их и как именно они отмечены.]}\\f45\lang1033\4. \f12\lang1049 Пользователь должен иметь возможность быстро свернуть и развернуть все ветви дерева.\\5. При загрузке словаря система проверяет, не был ли данный словарь отфильтрован в течение данного сеанса работы с КЗ, и не изменился ли с тех пор запрос-фильтр. Если нет, то система отображает словарь в отфильтрованном виде.\\\lang1024 6. \lang1049 Для п.2б.\\li720 - Если текущий элемент подвергся фильтрации, то система переводит курсор на первый видимый элемент словаря.\- Если все подветви какой-либо ветви подверглись фильтрации, то вся ветвь становится неотображаемой.\- При фильтрации система автоматически выполняет "схлопывание" одинарных цепочек (если такие появляются), т.е. исключает все подветви, которые являются единственными потомками их родителей.\\li0\7. Маска, используемая в п.2б, автоматически сбрасывается по завершении прецедента. Всякий новый вызов словаря происходит с пустой маской.\\\lang1033 8. \lang1049 Система должна отображать линейный список (список операндов) из отмеченных элементов, показывая, какими логическими условиями они связаны. Должна быть возможность удалить элемент из этого списка, что автоматически снимает соответствующую отметку в дереве. \\9. Элементы, убранные с{\f45\lang1033  } экрана в рез-те фильтрации по маске, из списка выбранных операндов не исключаются.\\\i Примечания; вопросы для размышления (А.В.)\\i0\Нет.\\\keepn\sb240\sa60\s2\b\i Прецедент "Фильтрация словаря"\\pard\qj\b0\Краткое описание: \i0  Вычисление множества значений словарного атрибута, ортогональных уже введенным значениям других атрибутов запроса.\\\i Цель:\i0  Получить список значений, которые не могут быть использованы в текущем запросе.\\\i Предусловие:\i0  Активно окно со словарем.\\\i Сценарий:\i0  \\1. Пользователь включает режим показа значений словаря, несовместимых с текущим запросом.\\li720 1.1. Система выполняет фильтрацию.\\li0\1а. Пользователь включает режим показа значений словаря, несовместимых с текущим запросом и с одним из ранее сохраненных запросов.\\li720 1а.1. Система отображает окно управления папками, делая доступным выбор единичного сохраненного запроса. <<{\f45\lang1033 extend}>> "Выбор из папки".\1а.2. Пользователь выбирает запрос.\1а.3. Система выполняет фильтрацию для выбранного и для текущего запросов одновременно. {\cf6 [Пользователь должен видеть, что были использованы оба запроса, а также, какой именно сохраненный запрос был выбран.]}\\li0\1б. Пользователь отключает режим фильтрации.\\2. Система визуально выделяет ортогональные фильтрам элементы и папки словаря, позволяя, однако, использовать их в запросе. {\cf6 [По виду папки пользователь должен понимать, какая часть ее дочерних объектов была отфильтрована: ни один, часть или все объекты.]}\\\i Дополнительные условия:\i0\\1. При условии, что фильтрация по текущему запросу будет выполняться системой достаточно быстро, процедура фильтрации должна запускаться автоматически, т.е. пользователь сразу при входе в словарь должен видеть несовместимые значения атрибута.\\2. Выделение несовместимых элементов происходит только в окне выбора словарного атрибута. В КЗ такие элементы, если они были выбраны, должны отображаться наравне с остальными.\\\i Примечания; вопросы для размышления (А.В.)\\i0\Нет.\\\keepn\sb240\sa60\s2\b\i Прецедент "Контекстный поиск в словаре"\\pard\qj\b0\Краткое описание: \i0  Контекстный поиск, фильтрация и автовыделение подходящих элементов в словаре.\\\i Предусловие:\i0  Активно окно со словарем.\\\i Сценарий:\i0  \\1. Пользователь вызывает функцию поиска.\\li720 1.1. Система отображает окно поиска.\1.2. Пользователь вводит контекст.\1.2а. Пользователь выбирает один из ранее использованных контекстов.\1.2б. Пользователь задает условия проведения поиска.\1.3. Пользователь редактирует контекст.\\li0\2. Пользователь требует начать поиск.\\li720 2.1. Система устанавливает курсор на первый подходящий элемент, удовлетворяющий условиям. (Альтернатива А0 - Подходящих элементов нет).\2.2. Пользователь может выполнить одно из действий:\\li1440 2.2.1 Отметить текущий элемент логическим префиксом.\2.2.2. Изменить контекст или условия поиска.\2.2.3. Потребовать найти следующий подходящий элемент. (Альтернатива А0 - Подходящих элементов больше нет).\2.2.4. Прервать процедуру поиска, завершив прецедент.\\li0\2а. Пользователь указывает логический префикс и требует отметить один или все элементы словаря, удовлетворяющие условиям.\\li720 2а.1. Система выделяет все подходящие элементы и переходит в состояние редактирования контекста. (Альтернатива А0 - Подходящих элементов <больше> нет).\\li0\\i Альтернативные потоки:\\i0\А0 - Подходящих элементов нет. \\li720 Система сообщает о неудаче. Возможны варианты:\\li1440 - Дерево просмотрено частично. Система выдает сообщение и предлагает продолжить процедуру в оставшейся части. С согласия пользователя поиск продолжается.\-Дерево просмотрено целиком. Система выдает сообщение.\\li720 Система переходит в состояние редактирования запроса.\\li0\\i Дополнительные условия:\i0\\1. "1.2а. Пользователь выбирает один из ранее использованных контекстов." - Для каждого словарного атрибута история контекстов хранится независимо. Система должна хранить до 10 контекстов, использованных ранее, в т.ч. в предыдущих сеансах работы. История запросов едина для всех экземпляров данного прецедента, т.е. контексты, введенные в одной КЗ, одновременно видны в других карточках. Исключением является окно управления папками, где ведется отдельная история, не смешиваемая с историей поиска словарных атрибутов.\\2. См. глобальное требование 5.\\3. К "условиям проведения поиска" относятся: \\li720\keep\nowidctlpar\s4 а){\lang1024  Зона поиска (по всему }словарю\lang1024 , по текущей ветви, по текущей ветви с вложенными).\\nowidctlpar\widctlpar\lang1049 б){\lang1024  }П\lang1024 оложение контекста в названии элемента (в начале, в конце, любое).\\pard\li720\qj\lang1049 в)\lang1024  Направление (с начала или с конца списка, вверх или вниз от текущего элемента).\\\li0\lang1049 4. Окно поиска должно быть модальным, но не блокирующим операции (навигация,  выделение) в окне словаря. \\5. Операция "2.2.1 Отметить любой элемент логическим префиксом" должна быть доступна непосредственно из окна поиска, т.е. в нем должны быть элементы управления, позволяющие выделять элементы без перехода в окно словаря.\\\keepn\sb240\sa60\s2\b\i Прецедент "Контекстный поиск в папках"\\pard\qj\b0\Краткое описание: \i0  Контекстный поиск элементов и папок дерева.\\\i Предусловие:\i0  Активно окно управления папками.\\\i Сценарий:\i0  \\1. Пользователь требует найти контекст.\\li720 1.1. Система отображает окно поиска.\1.2. Пользователь вводит контекст.\1.2а. Пользователь выбирает один из ранее использованных контекстов.\1.2б. Пользователь задает условия проведения поиска.\1.3. Пользователь редактирует контекст.\\li0\2. Пользователь требует начать поиск.\\li720 2.1. Система устанавливает курсор на первый подходящий элемент (папку), удовлетворяющий условиям. (Альтернатива А0 - Подходящих элементов нет).\2.2. Пользователь может выполнить одно из действий:\\li1440 2.2.1. Изменить контекст или условия поиска.\2.2.2. Потребовать найти следующий подходящий элемент (папку). (Альтернатива А0 - Подходящих элементов больше нет).\2.2.3. Прервать процедуру поиска, завершив прецедент.\\li0\\i Альтернативные потоки:\\i0\А0 - Подходящих элементов нет. \\li720 Система сообщает о неудаче. Возможны варианты:\\li1440 - Дерево просмотрено частично. Система выдает уведомление и предлагает продолжить процедуру в оставшейся части. С согласия пользователя поиск продолжается.\- Дерево просмотрено целиком. Система выдает уведомление.\\li720 Система переходит в состояние редактирования запроса.\\li0\\i Дополнительные условия:\i0\\1. См. глобальное требование 5.\\2. К "условиям проведения поиска" относятся: \\li720\keep\nowidctlpar\s4 а){\lang1024  Зона поиска (по всему }дереву\lang1024 , по текущей ветви, по текущей ветви с вложенными).\\nowidctlpar\widctlpar\lang1049 б){\lang1024  }П\lang1024 оложение контекста в названии элемента (в начале, в конце, любое).\\pard\li720\qj\lang1049 в)\lang1024  Направление (с начала или с конца списка, вверх или вниз от текущего элемента);\\lang1049 г) Объект поиска (все, только элементы, только папки).\lang1024\\\li0\lang1049 3. Окно поиска должно быть модальным, но не блокирующим операции (навигация,  выделение) в окне словаря.\\\keepn\sb240\sa60\s2\b\i Прецедент "Быстрый поиск"\\pard\qj\b0\Краткое описание:\i0  Быстрый переход к элементу списка, в т.ч. иерархического, по первым буквам искомого элемента.\\\i Предусловие:\i0  Активно окно со списком, словарем или окно управления папками.\\\i Сценарий:\i0  \\1. Пользователь вводит контекст с клавиатуры.\\2. После каждой модификации контекста, включая момент ввода первого символа, система перемещает курсор на первую от начала видимого списка папку или элемент (т.е. делает его текущим), первые символы которого совпадают с введенным контекстом. (Альтернатива А0 - Подходящего элемента нет.)\\3. Работа с инструментом завершается, когда пользователь прерывает в явном виде (например, нажатием {\f45\lang1033 Esc}) или выполняет любую операцию (навигация, установка отметки), не являющуюся вводом с клавиатуры. В первом случае курсор остается на том элементе. где был в момент выхода из инструмента, во втором система перемещает его в соответствии с вызванной операцией. Поле ввода контекста автоматически очищается. {\cf12 (Обычно вводится не более 4..6 символов.)}\\\i Альтернативные потоки:\\i0\А0 - Подходящего элемента нет. Система оставляет положение курсора неизменным и не позволяет продолжить ввод контекста, выделяя последний "некорректный" символ - так, чтобы следующий введенный символ затер его при вводе.\\\i Дополнительные условия:\i0\1. Поле ввода контекста видимо только в течение данного прецедента, т.е. с момента начала ввода контекста и до п.3, завершающего прецедент.\\li720\\li0\i Примечания, вопросы (А.В.)\\i0\1. Условие 1) довольно спорно - однако, именно так ведет себя Гарант 5.Х.\\2. Наверное, стоит рассмотреть автоматический обход дерева при быстром поиске. Т.е. система сама идет внутрь неразвернутого дерева и, если контекст там найден, разворачивает нужную ветвь.\\\\keepn\sb240\sa60\s2\b\i Прецедент "Управление глобальными фильтрами"\\pard\qj\b0\Краткое описание:\i0  Установка и снятие общесистемных фильтров.\\\i Сценарий:\i0  \\1. Пользователь вызывает команду управления глобальными фильтрами.\\2. Система выводит список действующих глобальных фильтров. {\cf6 [Пользователь должен видеть, какой процент документов исключен каждым из фильтров.]} {\cf12 (Маловероятно, чтобы одновременно действовало более 3..4-х фильтров.)}\\3. Пользователь выбирает действие:\\li720 3.1. "Снять фильтр". Система исключает фильтр из списка активных.\ИЛИ\3.2. "Добавить фильтр".\\li1440 3.2.1. Система отображает окно управления папками, позволяя выбрать единичный запрос. <<{\f45\lang1033 extend}>> "Выбор из папки".\3.2.2. Пользователь выбирает запрос, система добавляет его в список активных.\\li0\4. Прецедент завершается, когда пользователь закрывает список глобальных фильтров, сохраняя изменения. (Альтернатива А0 - Текущей совокупностью фильтров отфильтрованы все документы БД.)\\\i Альтернативные потоки:\\i0\А0 - Текущей совокупностью фильтров отфильтрованы все документы БД. Система не позволяет сохранить изменения и предлагает изменить конфигурацию, либо отменить внесенные изменения.\\\\i Дополнительные условия:\i0\\1. Изменения автоматически сохраняются между сеансами работы.\\\i Примечания; вопросы для размышления (А.В.)\\i0 1. Вообще, хорошо бы давать редактировать сохраненные запросы-фильтры прямо из папки - пользователь давит "редактировать" (или "просмотреть"), а система, не закрывая окно с папками, выводит соответствующую КЗ. Однако, прецедентом "Управление папками" такая активность не предусмотрена (см.прим.). К тому же, возникает масса вопросов, связанных с взаимоотношениями окон, их модальностью и т.п.. Как быть?\\2. Может, стоит совместить список глобальных фильтров и окно управления папками - так, чтобы в окне папок были видны активные глобальные фильтры, и оттуда же их можно было б грохнуть?\\3. Серьезный вопрос - сохранять ли конфигурацию фильтров между сеансами (автоматически, вручную - не суть), или учитывать глобальные фильтры только в текущем сеансе? Из вариантов - при каждом запуске требовать подтверждения: мол, да, я в натуре хочу сохранить фильтры, да, я понимаю, что это значит и т.д...\\\keepn\sb240\sa60\s2\b\i Прецедент "Поиск по соответствию"\\pard\qj\b0\Краткое описание:\i0  Поиск тематически близких фрагментов или документов.\\\i Предусловие:\i0  Активен список документов или документ.\\\i Сценарий:\i0\\1. Пользователь указывает документ в списке или логический блок в тексте документа и просит найти соответствия.\\2. Система строит список соответствующих документов БД и загружает результирующий список в новое окно. (А1 - Соответствий не найдено.)  \\2а. Для выбранного логического блока (из списка или из текста документа) система проверяет, нет ли в тексте родительского документа соответствующих блоков - при том, что документ целиком блоку не соответствует. Если такие блоки есть, то пользователь выбирает:\\li720\2а.1. Просмотреть подходящие блоки только в этом документе.\ИЛИ\2а.2. Просмотреть все соответствующие блоки базы. \\В обоих случаях система открывает новое окно и загружает в него ссылки.\\li0\2б. Если указано настройками, система выводит КЗ параметрического поиска для документа данного вида и заполняет ее поля значимыми атрибутами указанного документа. Управление передается п.2 прецедента "Параметрический поиск".\\\i Альтернативные потоки:\\i0\А1 - Документов не найдено. Система выдает уведомление, прецедент завершается.\\\i Дополнительные условия:\i0\\1. Расширение 2б доступно при включенной настройке{\lang1033  "Предварительное формирование }КЗ {\lang1033 при поиске по соответствию}".\\2. Список, сформированный в результате данного поиска, автоматически сортируется по релевантности исходному фрагменту, т.е. совокупности его значимых словарных атрибутов и терминов. Общесистемная сортировка по умолчанию при этом игнорируется, дополнительные впоросы не задаются. Значимые атрибуты и алгоритм сортировки по релевантности будут уточнены позднее.\\3. В п.2б точность поиска, предлагаемая системой, равна "с точностью до фрагмента".\\\i Примечания; вопросы для размышления (А.В.)\\i0\1. Прикольно, что такая сортировка должна быть вкручена в пятерку, но никто еще не знает, что это такое..\\\keepn\sb240\sa60\s2\b\i Прецедент "Поиск по навигатору"\\pard\qj\b0\Краткое описание: \i0  Навигация по последовательности словарей с автоматической фильтрацией результатов.\\\i Сценарий:\i0\1. Пользователь выбирает вид документа, который следует найти.\\pard\qj\nowidctlpar\tx900\\nowidctlpar\widctlpar 2. Пользователь выбирает словарный атрибут документа, по которому начинается навигация. (Альтернатива А0 - Данный вид документа имеет единственный атрибут словарного типа.)\2а. При наличии альтернативных словарей для указанного атрибута пользователь дополнительно указывает конкретный словарь.\\3. Система выводит корневой уровень выбранного словаря. Пользователь в произвольном порядке может выполнять следующие действия:\\li720\3.1. Выполнять навигацию по текущему словарю.\\li1440 3.1.1. Пользователь перемещается вглубь дерева, выбирая одну  из предложенных подветвей или возвращается назад на произвольную позицию из дерева навигации.\\3.1.2. Система отображает очередной уровень дерева. (Альтернатива А1 - Указанная подветвь словаря - концевая.)\3.1.2а. Система отображает очередной уровень дерева, предваряя его гипертекстовым деревом навигации.\\\li720 3.2. Изменять основание классификации.\\li1440 3.2.1. Система предлагает список словарей и/или атрибутов, которые не использовались ранее в текущем сеансе навигации. (Альтернатива А2 - Список исчерпан.)\3.2.2. Пользователь выбирает словарный атрибут или альтернативный словарь, по которому следует продолжить маршрут.\3.2.3. Система выполняет фильтрацию выбранного словаря, отфильтрованную совокупностью пройденных ранее значений словарных атрибутов и выводит корневой раздел оставшейся части словаря. (Альтернатива А3.1 - Пересекающихся ветвей нет. Альтернатива А3.2 - В результате фильтрации осталась единственная ветвь. Альтернатива А3.3 - Результатом фильтрации является единственный документ.)\\\li720 3.3. Строить список документов, удовлетворяющих совокупности пройденных в навигаторе значений словарных атрибутов.\\li0\\pard\qj\i Альтернативные потоки:\\i0\А0 - Данный вид документа имеет единственный атрибут словарного типа. Система автоматически выводит корневой раздел соответствующего словаря.\\А1 - Указанная подветвь словаря - концевая. Система предлагает выбор: построить список или изменить основание классификации (предоставляя список выбора). Вариант построения списка выделен, т.е. служит вариантом "по умолчнию".\\А2 - Список исчерпан. Система делает выбор недоступным.\\А3.1 - Пересекающихся ветвей нет. Система выдает сообщение и делает выбор данного словаря или атрибута недоступным.\\А3.2 - В результате фильтрации осталась единственная ветвь. Система автоматически отображает список документов этой ветви.\\А3.3 - Результатом фильтрации является единственный документ. Система автоматически отображает этот документ.\\\i Дополнительные условия:\i0\\1. Изменить вид документа в процессе навигации нельзя.\\2. После всякой фильтрации система автоматически выполняет "схлопывание" одинарных цепочек (если такие появляются), т.е. исключает все подветви, которые являются единственными потомками их родителей.\\3. Дерево навигации должно отображать весь пройденный путь с указанием основания классификации на каждом шаге, названием ветви и количества отфильтрованных документов внутри ветви. Каждая запись должна служить гипертекстовой ссылкой, переход по которой дублирует команду перемещения по истории навигации. <<{\f45\lang1033 extend}>> "История навигации".\\\i Примечания; вопросы для размышления (А.В.)\\i0\1. Доп. усл.1 (Демон) подразумевается самим ходом прецедента. Выбор другого вида документа инициирует начало нового прецедента, не так ли?\\2. Альтернатива А1: допускаю, что этот вопрос лишний. Но для начала не помешает. В конце концов, всегда можно будет запихнуть туда галку типа "больше не спрашивать".\\\i Примеры (Демон). \i0\\\fi540\nowidctlpar\s5\lang1024 Итак, в качестве примера рассмотрим близкую и знакомую всем навигацию по объекту «Юридический документ» (В дальнейшем все данные о количестве найденных документов взяты из текущей версии БД «Архивариуса»).\\nowidctlpar\widctlpar\s0\lang1049 Допустим, в качестве первого атрибута пользователь выбрал «Класс». Система вывела ему список классов верхнего уровня (и количество всех документов в базе 173’330). Пользователь выбирает класс «Общие вопросы хозяйственной и предпринимательской деятельности», система выводит ему вложенные классы (и количество документов 14’749). Далее, пользователь последовательно выбирает «Государственные программы» (количество  1’116), «Федеральные программы» (количество 590), «Иные программы» (количество 430).\В результате этих действий «полный маршрут навигации» будет иметь вид:\<class> Общие вопросы хозяйственной и предпринимательской деятельности\\li720 <class> Государственные программы\\li1440 <class> Федеральные программы\\li2160 <class> Иные программы\\li0 (вместо <class> может стоять соответствующая иконка или другой текст однозначно характеризующий выбранный атрибут)\В результате вышеприведенных действий пользователь достиг последнего уровня классификатора «Класс», но все еще не получил приемлемого количества документов (430  это явно многовато). Тогда он решает изменить основание классификации и выбирает «Исходящие органы», там «Правительство России и СССР» (количество 254), затем «Правительство России» (количество 253). Опять многовато... Тогда выбираем «Типы» и там «Постановления» (количество 225). Это нам явно не помогает. Возвращаемся на шаг назад и вместо типов выбираем «Нормы права», «Индивидуальные» (количество 3 !!!). Есть смысл построить список и посмотреть результаты...\Вот наш маршрут:\<class> Общие вопросы хозяйственной и предпринимательской деятельности\\li720 <class> Государственные программы\\li1440 <class> Федеральные программы\\li2160 <class> Иные программы\\li2880 <source> Правительство России и СССР\\li3600 <source> Правительство России\\li4320 <norm> Индивидуальные\\li0 Если среди найденных трех документов нет нужных, то можно сместиться по «полному маршруту навигации» на любой шаг назад и попробовать раньше сменить основание деления, например маршрут:\<class> Общие вопросы хозяйственной и предпринимательской деятельности\\li720 <class> Государственные программы\\li1440 <class> Федеральные программы\\li2160 <norm> Индивидуальные\\li0 даст нам 12 найденных документов, а еще более простой:\<class> Общие вопросы хозяйственной и предпринимательской деятельности\\li720 <class> Государственные программы\\li1440 <norm> Индивидуальные\\li0 даст 21 найденный документ. Уже есть, с чем поработать, не так ли?\\pard\keepn\nowidctlpar\sb240\sa60\s3\i\lang1024 Выводы ({\lang1049 Демон}).\\pard\fi540\qj\nowidctlpar\s5\i0 При таком подходе пользователь получает в свои руки мощный аналитический инструмент, позволяющий ему без использования механизма поиска (где желательно точно  знать значения искомых атрибутов) получать списки документов, отвечающие его запросам. Он как бы итеративно приближается к искомому результату, строя различные комбинации атрибутов документа, и руководствуясь не точным их знанием, а лишь приблизительной информацией о них.\\pard\qj P{\lang1049 .}S\lang1049 . При таком подходе можно легко реализовать и существующие пункты «Основного меню», для них просто потребуется жестко задавать «полный маршрут навигации» по которому будет двигаться пользователь (т.е. лишить его в этой части возможности выбирать новые атрибуты для навигации, а просто вести по заранее заданной схеме).\\\b\i\lang1024 Прецедент "Перестройка базы на заданную дату"\\b0\lang1049\Краткое описание: \i0{\lang1024 Полная перестройка БД на заданную дату.}\\\i Сценарий:\i0\1. Пользователь требует перестроить базу данных на определенную дату. \\2. Система сообщает, что все открытые на данный момент окна будут закрыты и ждет подтверждения.\\3. Система перестраивает базу на заданную дату и находится в этом состоянии до одного из следующих событий:\\li720\- Пользователь перестраивает базу на другую редакцию.\- Пользователь в явном виде требует вернуться в актуальное состояние.\- Пользователь завершает работу с системой. Система напоминает, что база будет автоматически возращена в актуальное состояние.\\li0\\cf6 [При выполнении любой операции, пользователь должен видеть, что он работает с неактуальной редакцией. Этот факт должен отражаться на уровне приложения как целого.]\cf0  {\cf12 (Можно предположить, что перестраивать базу будет небольшой процент опытных пользователей, имеющих четкий мотив своего действия - например, аудитор может временно перейти в то состояние законодательства, которое было актуально на момент проверки бухгалтерской документации.)}\\\i Дополнительные условия:\i0\\1. \lang1024 Состояние всех документов и индексов приводится к определенной дате. Пользователь работает с системой, представляющей все законодательство, актуализированное на заданное число.\\2. \lang1049 При запуске системы база всегда открывается актуальном состоянии.\\3. При просмотре документа (см. прецедент "Получение редакции") "нормальной" редакцией считается та, которая соответствует дате, на которую перестроена база. Нормальная редакция не выделяется цветом и т.п. При этом пользователь имеет возможность переключаться на любую из доступных редакций - как на прошлые, так и будущие.\lang1024\\lang1049\\i Примечания; вопросы для размышления (А.В.)\\i0\1. Не решен вопрос, что делать в случае отсутствия у наших юристов документа в одной или более начальных редакциях (т.е. начиная с первой). А таких документво в базе изрядно. Юристы пока не определились. Мне видятся два варианта: 1) показывать такие документы в списках, но при попытке открытия выдавать сообщение, что данной редакцией мы не располагаем; 2) не показывать такие документы вообще, т.е. считать их вообще отсутствующими в базе, перестроенной на какую-то раннюю дату.\\\2. Что считать точкой отсчета, т.е. "датой рождения" базы - самое раннее число, на которое можно перестроиься? Возможно, эта дата должна варьироваться от пользователя к пользователю. Например, мы можем разрешить перестроить базу на любой день, начиная от заключения клиентского договора.\\3. Можно, наверное, заморочиться и не закрывать все окна при перестройке ревизии, а обновлять их содержимое после операции. Но непонятно, как быть с выбранными, например, в КЗ словарными атрибутами - они ведь могут поменяться? Или если в базе нет соотв. редакции открытого документа (или документа из открытого списка) - см. прим. 1?\\4. Та же проблема - что, если в папках лежат ссылки на объекты, не представленные (или просто еще не существовавшие) в требуемой редакции? Может, предусмотреть систему заглушек? Некрасиво..\page\\b\i Заметки..\\b0\i0\В "сохранении в папку" не отражена поддержка "гибкой", нетипизированной структуры каталогов.\\Не решен вопрос с разделением сохраняемых конфигураций на "интерфейсную" и "функциональную" части.\\Обсудить с юристами возможность привязки номера редакции к номеру изменяющего документа - можно ли извлечь эту связь автоматически (из исходников)? \\Обсудить с юристами необходимость пересмотра понятия "предупреждение". Сейчас п. фактически используются как "глобальные" комментарии ко всему документу, т.е. вовсе не по прямому назначению.\\Лимит на объем личных данных пользователя, хранимых на сервере?\\Добавить "свободную" ({\f45\lang1033 ClearQuest}) сортировку списка.\\Некоторые списки (в зависимости от вида документов и/или способа получения) нужно сразу открывать в режиме синхронного просмотра. Например, полученный по навигатору список толкований. Вероятно, стоит ввести настройку \endash  какие типы списков открывать в таком режиме.\\П. 6. доп. условий к "Просмотру списка", вероятно, следует выделить в отдельный прецедент?\\}