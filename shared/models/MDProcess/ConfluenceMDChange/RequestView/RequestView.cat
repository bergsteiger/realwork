
(object Petal
    version    	50
    _written   	"Rose 2006.0.0.060314"
    charSet    	204)

(object Class_Category "RequestView"
    is_unit    	TRUE
    is_loaded  	TRUE
    attributes 	(list Attribute_Set
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"AbstarctOperation"
	    value      	"regular")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"IsNative"
	    value      	"false")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"NESTED GENERATED FILES (vm)"
	    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/configerror.vm::470F714203D4;w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/configok.vm::470F718E027A;w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/createrequest-form.vm::4702393000B1;w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/createrequest-selectpage.vm::470B60AF03A4;w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/request-data-selector.vm::474C5868012D;w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/request-prop-include.vm::475F874D031D;w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/spaceconfig.vm::470B98A40133")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"NESTED GENERATED WikiPageID (wiki)"
	    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/configerror|470F714203D4::470F714203D4;MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/configok|470F718E027A::470F718E027A;MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/createrequest-form|4702393000B1::4702393000B1;MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/createrequest-selectpage|470B60AF03A4::470B60AF03A4;MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/request-data-selector|474C5868012D::474C5868012D;MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/request-prop-include|475F874D031D::475F874D031D;MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/spaceconfig|470B98A40133::470B98A40133
	    ))
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"WikiPageID (wiki)"
	    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView|477E279102F4
	    ))
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"SourceType (wiki)"
	    value      	"wiki")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"GlobalLocally"
	    value      	"false")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"ElementCreationOrder"
	    value      	"19037020253"))
    quid       	"477E279102F4"
    documentation 	"Элементы разметки, использующиеся для работы с запросами"
    stereotype 	"HtmlUnit"
    visible_categories 	(list visibility_relationship_list
	(object Visibility_Relationship
	    quid       	"4923D2A703CE"
	    supplier   	"Logical View::MDProcess::ConfluencePlugins::UserNotificationUnit"
	    quidu      	"490ACC32003C")
	(object Visibility_Relationship
	    quid       	"4926AA2100E2"
	    supplier   	"Logical View::MDProcess::ConfluencePlugins::CalendarView"
	    quidu      	"4926A8F00337")
	(object Visibility_Relationship
	    quid       	"4A238A41015D"
	    supplier   	"Logical View::MDProcess::ConfluencePlugins::SelectPageView"
	    quidu      	"4A237E80034B")
	(object Visibility_Relationship
	    quid       	"4B1F524F01C0"
	    supplier   	"Logical View::MDProcess::ConfluencePlugins::EntityView"
	    quidu      	"4B1F49D102D6"))
    exportControl 	"Public"
    logical_models 	(list unit_reference_list
	(object Class "request-data-selector"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (output.xml)"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"output.xml:*474C5868012D_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*474C5868012D_CUSTOM_CONTENT*¤<div class="formtitle" style="padding-bottom: 3px; font-size: 13px;">Request properties</div>¤¤<div style="margin-top: 7px">¤	<span>Request type:</span>¤	<span id="request_type_selector" onclick="toggleRequestTypeSelector()">¤	    <span id="request_type_val">$rdsDefaultType</span>¤	    <span id="request_type_edit_link" class="inline-control-link">EDIT</span>¤	</span>¤	<div id="request_type_div" style="border: 1px solid #cccccc; padding: 8px; align: center; background-color: #f0f0f0; display:none">¤		<table>¤			<tr>¤				<td nowrap><div class="formtitle">Change request type</div></td>¤				<td></td>¤				<td></td>¤				<td nowrap>Suggested types:</td>¤			</tr>¤			<tr>¤				<td align="right" nowrap>Select type:</td>¤				<td align="left">¤					<select id="request_type_list" name="requestType" tabindex="3" onChange="toggleRequestType(document.getElementById('request_type_list').options[document.getElementById('request_type_list').selectedIndex].text)">¤					#foreach($request_type in $rdsRequestTypes)¤						<option value="$request_type.id"#if($request_type.title == $garRequestHelper.defaultType) selected#end>$request_type.title</option>¤					#end¤					</select>¤				</td>¤				<td align="left">¤					<input type=button value="Done" onClick="toggleRequestTypeSelector()"/>¤				</td>¤				<td>¤				#foreach($popular_request_type in $garRequestHelper.getRecentAndPopularRequestTypes("$rdsSpaceKey", $rdsParentPage))¤					#if($velocityCount > 1), #end¤					#set($rticon = $garRequestHelper.getRequestTypeIcon("$popular_request_type.id"))¤					#if($rticon != "none")¤							<a href="" onClick="document.getElementById('request_type_list').value='$popular_request_type.id'; toggleRequestType('$popular_request_type.title'); return false;"><img src="${req.contextPath}$rticon" height=16 width=16 border=0 align=absmiddle></a>&nbsp;<a href="" onClick="document.getElementById('request_type_list').value='$popular_request_type.id'; toggleRequestType('$popular_request_type.title'); return false;"><span class="smalltext">($popular_request_type.title)</span></a>¤						#else¤							<a href="" onClick="document.getElementById('request_type_list').value='$popular_request_type.id'; toggleRequestType('$popular_request_type.title'); return false;"><span class="smalltext">$popular_request_type.title</span></a>¤						#end				¤				#end¤				</td>¤			</tr>¤		</table>	¤	</div>¤</div>¤¤<div style="margin-top: 7px">¤	<span>Importance:</span>¤	<span id="importance_selector" onclick="toggleImportanceSelector()">¤	    <span id="importance_val">$garRequestHelper.defaultImportance</span>¤	    <span id="importance_edit_link" class="inline-control-link">EDIT</span>¤	</span>¤	<div id="importance_div" style="border: 1px solid #cccccc; padding: 8px; align: center; background-color: #f0f0f0; display:none">		¤		<table>¤			<tr>¤				<td nowrap><div class="formtitle">Change importance</div></td>¤				<td></td>¤				<td></td>¤				<td nowrap>Suggested importance:</td>¤			</tr>¤			<tr>¤				<td align="right" nowrap>Select importance:</td>¤				<td align="left">¤					<select id="importance_list" name="importance" tabindex="3" onChange="toggleImportance(this.form.importance_list.options[this.form.importance_list.selectedIndex].text)">¤					#foreach($request_importance in $garRequestHelper.importance)¤						<option value="$request_importance.id"#if($request_importance.title == $garRequestHelper.defaultImportance) selected#end>$request_importance.title</option>¤					#end¤				</td>¤				<td align="left">¤					<input type=button value="Done" onClick="toggleImportanceSelector()"/>¤				</td>¤				<td>¤				#foreach($popular_importance in $garRequestHelper.getRecentAndPopularImportance("$rdsSpaceKey"))¤					#if($velocityCount > 1), #end¤					#set($riicon = $garRequestHelper.getImportanceIcon("$popular_importance.id"))¤					#if($riicon != "none")¤						<a href="" onClick="document.getElementById('importance_list').value='$popular_importance.id'; toggleImportance('$popular_importance.title'); return false;"><img src="${req.contextPath}$riicon" height=16 width=16 border=0 align=absmiddle></a>&nbsp;<a href="" onClick="document.getElementById('importance_list').value='$popular_importance.id'; toggleImportance('$popular_importance.title'); return false;"><span class="smalltext">($popular_importance.title)</span></a>¤					#else¤						<a href="" onClick="document.getElementById('importance_list').value='$popular_importance.id'; toggleImportance('$popular_importance.title'); return false;"><span class="smalltext">$popular_importance.title</span></a>¤					#end¤				#end¤				</td>¤			</tr>¤		</table>¤	</div>¤</div>¤##UC_END*474C5868012D_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/request-data-selector|474C5868012D
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"vm:*474C5868012D_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*474C5868012D_CUSTOM_CONTENT*¤#set($rdsRequestTypes=$action.types)¤#set($rdsSpaceKey=$action.spaceKey)¤#set($rdsParentPage=$action.parentPage)¤¤#set($rdsProlongation=$action.prolongations)¤¤#set($isRequest = $entityType == "request")¤#set($isContract = $entityType == "contract")¤#set($isCase = $entityType == "case")¤¤#if($isRequest)¤	#set($garEntityHelper = $garRequestHelper)¤#elseif($isContract)¤	#set($garEntityHelper = $garContractHelper)¤#elseif($isCase)¤	#set($garEntityHelper = $garCaseHelper)¤#end¤¤#set($createPermission = $garEntityHelper.permissionManager.getCreatePermissions($rdsSpaceKey, $action.remoteUser.name))¤¤#if($isRequest)¤	#set($findingInReleaseControlId = "findin_release_list")¤	#set($buildListControlId = "build_list")¤	#set($findInReleaseValControlId = "findin_release_val")¤	#set($findInBuildValControlId = "findin_build_val")¤¤	#if(!$action.isReleaseSet())¤		#set($release = $autoCompleteProvider.getFirstSuggestedValue("findinRelease"))¤	#end¤	#set($selectedFindInReleaseId = $release)¤	#if(!$action.isBuildSet())¤		#set($build = $autoCompleteProvider.getFirstSuggestedValue("findinBuild"))¤	#end¤	#set($selectedFindInBuildId = $build)¤¤	#set($requestSpaceKey = $rdsSpaceKey)¤	#set($findInContentContainerId="findin_release_content_container")¤	#set($findInLoadingContainerId="findin_release_loading_container")¤¤	#parse("/ConfluenceMDChange/RequestView/request-data-findin.vm")¤#end¤¤<script>¤¤AJS.toInit(function() {¤	var $ = jQuery;¤	$('#attachmentName').change(function() {¤		$('#documentsNames').html($(this).val());¤	});¤});¤¤function toggleType(newId, newTitle) {¤	$('type_list').value=newId; ¤	$('type_val').innerHTML=newTitle; ¤	return false;¤}¤¤function toggleImportance(what) {¤    $('importance_val').innerHTML = what;	¤}¤¤function toggleSelector(sel) {¤	var div = sel + "_div";¤	var editLink = sel + "_edit_link";¤	if($(div).style.display == 'none') {¤		$(div).style.display = '';¤		$(editLink).style.display = 'none';¤		if(sel == 'findin_release') {¤			buildFindInReleaseSelect();¤		}¤	} else {¤		$(div).style.display = 'none';¤		$(editLink).style.display = '';¤	}¤	return false;¤}¤¤function toggleAdministractionManager(what) {¤	$('administractionManager_val').innerHTML = what;	¤}¤¤function toggleInternalManager(what) {¤	$('internalManager_val').innerHTML = what;	¤}¤¤function toggleContractPrice() {¤	$('contractPrice_val').innerHTML = document.getElementById("contractPrice_text").value;	¤}¤¤function toggleLimitTime() {¤	$('limitTime_val').innerHTML = document.getElementById("limitTime_text").value;	¤}¤¤function toggleEmpowerImportant() {¤	var yesLabel = "$garHelper.getText('requestdataselector.empower.important.yes')";¤	var noLabel = "$garHelper.getText('requestdataselector.empower.important.no')";¤	if(document.getElementById("empowerImportant_text").checked) {¤		$('empowerImportant_val').innerHTML = yesLabel;¤	} else {¤		$('empowerImportant_val').innerHTML = noLabel;¤	}¤}¤¤function toggleExternalAuthors() {¤   	removeAllChildren($('external_author_val'));¤	for(var i=0; i<currentExternalAuthors.length; i++) {¤		var eaIdInput = document.createElement('input');¤		var eaMailInput = document.createElement('input');¤		var eaNameInput = document.createElement('input');¤		var eaCommentInput = document.createElement('input');¤		¤		eaIdInput.type="hidden";¤		eaMailInput.type="hidden";¤		eaNameInput.type="hidden";¤		eaCommentInput.type="hidden";¤		¤		eaIdInput.name="eaIds";¤		eaMailInput.name="eaEmails";¤		eaNameInput.name="eaNames";¤		eaCommentInput.name="eaComments";¤		¤		eaIdInput.value=currentExternalAuthors[i].id;¤		eaMailInput.value=currentExternalAuthors[i].mail;¤		eaNameInput.value=currentExternalAuthors[i].name;¤		eaCommentInput.value=currentExternalAuthors[i].comment;¤		¤		$('external_author_val').appendChild(eaIdInput);¤		$('external_author_val').appendChild(eaMailInput);¤		$('external_author_val').appendChild(eaNameInput);¤		$('external_author_val').appendChild(eaCommentInput);¤	}¤}¤¤function openAddAttachmentDialog(){¤    var params = "formname=createpageform&fieldname=content&mode=attachments&draftType=page&spaceKey=$spaceKey";¤    var popupUrl = "$req.contextPath/ru/garant/MDProcess/ConfluencePlugins/IconsSelectorSupport/IconSelectorXPlugin/IconSelectorXPackage/addattachmentform.action?" + params;¤	window.open(popupUrl, "link_image_inserter", "width=620, height=480, resizable, scrollbars=yes");¤}¤¤</script>¤¤<div class="formtitle gar-top-formtitle gar-formtitle">$garHelper.getText('requestdataselector.request.properties')</div>¤¤<div class="gar-editpanel">¤	#if($isRequest)¤		<span>$garHelper.getText('requestdataselector.type.request'):</span>¤	#elseif($isContract)¤		<span>$garHelper.getText('requestdataselector.type.contract'):</span>¤	#elseif($isCase)¤		<span>$garHelper.getText('requestdataselector.type.case'):</span>¤	#end¤	<span id="type_selector" onclick="toggleSelector('type')">¤	    <span id="type_val">$action.type</span>¤	    <span id="type_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤	</span>¤	<div id="type_div" class="gar-editpanel-background" style="display:none">¤		<table>¤			<tr>¤				<td nowrap>¤					#if($isRequest)¤						<div class="formtitle gar-formtitle">$garHelper.getText('requestdataselector.change.type.request')</div>¤					#elseif($isContract)¤						<div class="formtitle gar-formtitle">$garHelper.getText('requestdataselector.change.type.contract')</div>¤					#elseif($isCase)¤						<div class="formtitle gar-formtitle">$garHelper.getText('requestdataselector.change.type.case')</div>¤					#end¤				</td>¤				<td></td>¤				<td></td>¤				<td nowrap>$garHelper.getText('requestdataselector.often.used.values'):</td>¤			</tr>¤			<tr>¤				<td align="right" nowrap>$garHelper.getText('requestdataselector.select.type'):</td>¤				<td align="left">¤					<select id="type_list" name="type" tabindex="3" onChange="$('type_val').innerHTML=this.options[this.selectedIndex].text">¤					#foreach($type in $rdsRequestTypes)¤						<option value="$type.id"#if($type.title == $action.type) selected#end>$type.title</option>¤					#end¤					</select>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleSelector('type')"/>¤				</td>¤				<td>¤				#if($isCase == false || $action.isCaseReport == false)¤				#set($recentAndPopularTypes = $garEntityHelper.getRecentAndPopularTypes($rdsParentPage))¤				#foreach($popular_type in $recentAndPopularTypes)¤					#if($velocityCount > 1), #end¤					#set($rticon = $popular_type.image)¤					#if($rticon != "none")¤							<a href="" onClick="return toggleType('$popular_type.id', '$popular_type.title');"><img src="${req.contextPath}$rticon" height=16 width=16 border=0 align=absmiddle></a>&nbsp;<a href="" onClick="return toggleType('$popular_type.id', '$popular_type.title');"><span class="smalltext">($popular_type.title)</span></a>¤						#else¤							<a href="" onClick="return toggleType('$popular_type.id', '$popular_type.title');"><span class="smalltext">$popular_type.title</span></a>¤						#end				¤					#end¤				#end	¤				</td>¤			</tr>¤		</table>	¤	</div>¤</div>¤¤#if($isCase && $action.isCaseReport)¤<div class="gar-editpanel">¤	<span>&#1055;&#1088;&#1086;&#1076;&#1083;&#1077;&#1085;&#1080;&#1077;:</span>¤	<span id="prolongation_selector" onclick="toggleSelector('prolongation')">¤	    <span id="prolongation_val">$!action.prolongation</span>¤	    <span id="prolongation_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤	</span>¤	<div id="prolongation_div" class="gar-editpanel-background" style="display:none">¤		<table>¤			<tr>¤				<td nowrap>¤					<div class="formtitle gar-formtitle">&#1048;&#1079;&#1084;&#1077;&#1085;&#1080;&#1090;&#1100;&#32;&#1087;&#1088;&#1086;&#1076;&#1083;&#1077;&#1085;&#1080;&#1077;</div>¤				</td>¤				<td></td>¤				<td></td>¤				<td></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap>&#1042;&#1099;&#1073;&#1077;&#1088;&#1080;&#1090;&#1077;&#32;&#1087;&#1088;&#1086;&#1076;&#1083;&#1077;&#1085;&#1080;&#1077;:</td>¤				<td align="left">¤					<select id="prolongation_list" name="prolongation" tabindex="3" onChange="$('prolongation_val').innerHTML=this.options[this.selectedIndex].text">¤					#foreach($prolongation in $rdsProlongation)¤						<option value="$prolongation.id"#if($prolongation.title == $!action.prolongation) selected#end>$prolongation.title</option>¤					#end¤					</select>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleSelector('prolongation')"/>¤					<input type=hidden id="isCaseReport" name="isCaseReport" value="$action.isCaseReport"/>¤				</td>¤				<td>¤				</td>¤			</tr>¤		</table>	¤	</div>¤</div>¤#end¤¤<div class="gar-editpanel">¤	<span>$garHelper.getText('requestdataselector.importance'):</span>¤	<span id="importance_selector" onclick="toggleSelector('importance')">¤	    <span id="importance_val">$action.importance</span>¤	    <span id="importance_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤	</span>¤	<div id="importance_div" class="gar-editpanel-background" style="display:none">		¤		<table>¤			<tr>¤				<td nowrap><div class="formtitle gar-formtitle">$garHelper.getText('requestdataselector.change.importance')</div></td>¤				<td></td>¤				<td></td>¤				<td nowrap>$garHelper.getText('requestdataselector.often.used.values'):</td>¤			</tr>¤			<tr>¤				<td align="right" nowrap>$garHelper.getText('requestdataselector.select.importance'):</td>¤				<td align="left">¤					<select id="importance_list" name="importance" tabindex="3" onChange="toggleImportance(this.form.importance_list.options[this.form.importance_list.selectedIndex].text)">¤					#foreach($request_importance in $garEntityHelper.getImportances($spaceKey))¤						<option value="$request_importance.id"#if($request_importance.title == $action.importance) selected#end>$request_importance.title</option>¤					#end¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleSelector('importance')"/>¤				</td>¤				<td>¤				#foreach($popular_importance in $garEntityHelper.getImportances($spaceKey))¤					#if($velocityCount > 1), #end¤					#set($riicon = $popular_importance.image)¤					#if($riicon != "none")¤						<a href="" onClick="document.getElementById('importance_list').value='$popular_importance.id'; toggleImportance('$popular_importance.title'); return false;"><img src="${req.contextPath}$riicon" height=16 width=16 border=0 align=absmiddle></a>&nbsp;<a href="" onClick="document.getElementById('importance_list').value='$popular_importance.id'; toggleImportance('$popular_importance.title'); return false;"><span class="smalltext">($popular_importance.title)</span></a>¤					#else¤						<a href="" onClick="document.getElementById('importance_list').value='$popular_importance.id'; toggleImportance('$popular_importance.title'); return false;"><span class="smalltext">$popular_importance.title</span></a>¤					#end¤				#end¤				</td>¤			</tr>¤		</table>¤	</div>¤</div>¤¤¤#if($isRequest)¤¤#if($action.isReleaseSet() && $action.isBuildSet())¤<script type="text/javascript" language="JavaScript">¤	Event.observe(window, 'load', buildFindInReleaseSelect, false);¤</script>¤#end¤¤<div class="gar-editpanel">¤	<span>$garHelper.getText('requestdataselector.find.in'):</span>¤	<span id="findin_release_selector" onclick="toggleSelector('findin_release')">¤	    <span>¤			<a id="findin_release_val" style="display:none"></a>&nbsp;¤			<a id="findin_build_val" style="display:none"></a>¤		</span>¤	    <span id="findin_release_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤	</span>¤	<div id="findin_release_div" class="gar-editpanel-background" style="display:none">¤		<span id="findin_release_loading_container" style="display:none">¤			&nbsp;<img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"/>¤		</span>¤		<span id="findin_release_content_container">¤			<div class="formtitle gar-formtitle">$garHelper.getText('requestdataselector.change.release.with.error')</div>¤			<table>¤				<tr>¤					<td></td>¤					<td></td>¤					<td></td>¤					<td></td>¤					<td></td>¤				</tr>¤				<tr>¤					<td align="right" nowrap>$garHelper.getText('requestdataselector.select.release'):</td>¤					<td align="left">¤						<select id="findin_release_list" name="release" tabindex="3" onChange="toggleFindInRelease()" style="width: 400px;">¤						</select>¤					</td>¤					<td align="right" nowrap>$garHelper.getText('requestdataselector.assembling'):</td>¤					<td align="left">¤						<select id="build_list" name="build" tabindex="3" onChange="toggleFindInBuild()"  style="width: 200px;">¤						</select>¤					</td>¤					<td align="right">¤						<input type=button value="$garHelper.getText('done.word')" onClick="toggleSelector('findin_release')"/>¤					</td>¤				</tr>¤			</table>¤		</span>¤	</div>¤</div>¤¤#end¤¤¤#if($isContract)¤¤<script type="text/javascript">¤AJS.toInit(function() {¤	garCalendar.setup({¤		inputField : "limitTime_text",¤		ifFormat : "%d.%m.%Y %H:%M",¤		showsTime : true,¤		step : 1¤	});¤});¤</script>¤¤<div class="gar-editpanel">¤	<span>Закончить утверждение до:</span>¤	<span id="limitTime_selector" onclick="toggleSelector('limitTime')">¤	    <span id="limitTime_val">#if($action.limitTime)$action.limitTime#end</span>¤	    <span id="limitTime_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤	</span>¤	<div id="limitTime_div" class="gar-editpanel-background" style="display:none">		¤		<table>¤			<tr>¤				<td nowrap><div class="formtitle gar-formtitle">Изменение срока утверждения</div></td>¤				<td></td>¤				<td></td>¤				<td nowrap></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap>Новый срок:</td>¤				<td align="left">¤					<input id="limitTime_text" name="limitTime" type="text" maxlength="50" value="$!action.limitTime"/>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleLimitTime(); toggleSelector('limitTime')"/>¤				</td>¤			</tr>¤			<tr nowrap>¤				<td colspan="3">¤					<div class="smalltext">(указывается в формате ДД.ММ.ГГГГ HH:MM; например, 01.02.2015 12:30)</div>¤				</td>¤			</tr>¤		</table>¤	</div>¤</div>¤¤<div class="gar-editpanel">¤	<span>$garHelper.getText('requestdataselector.administraction.manager'):</span>¤	<span id="administractionManager_selector" onclick="toggleSelector('administractionManager')">¤	    <span id="administractionManager_val">#if($action.administractionManager)$!action.getUser($action.administractionManager).fullName#end</span>¤	    <span id="administractionManager_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤	</span>¤	<div id="administractionManager_div" class="gar-editpanel-background" style="display:none">		¤		<table>¤			<tr>¤				<td nowrap><div class="formtitle gar-formtitle">$garHelper.getText('requestdataselector.change.administraction.manager')</div></td>¤				<td></td>¤				<td></td>¤				<td nowrap></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap>$garHelper.getText('requestdataselector.choose.administraction.manager'):</td>¤				<td align="left">¤					<select id="administractionManager_list" name="administractionManager" tabindex="3" onChange="toggleAdministractionManager(this.form.administractionManager_list.options[this.form.administractionManager_list.selectedIndex].text)">¤						<option value="" selected></option>¤					#foreach($administractionManager in $garUserHelper.getEditPermittedUsersByGroup($garContractHelper.getAdministrationManagementGroup($rdsSpaceKey), $action.parentPage))¤						<option value="$administractionManager.name"#if($administractionManager.name == $action.administractionManager) selected#end>$administractionManager.fullName</option>¤					#end¤                    </select>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleSelector('administractionManager')"/>¤				</td>¤				<td>¤				</td>¤			</tr>¤		</table>¤	</div>¤</div>¤¤#set($groupInternalManagers = $garUserHelper.getEditPermittedUsersByGroup($garContractHelper.getInternalManagementGroup($rdsSpaceKey), $action.parentPage))¤¤#if($groupInternalManagers.size() != 0 && !$garUserHelper.isFuUser($rdsSpaceKey))¤<div class="gar-editpanel">¤	<span>$garHelper.getText('requestdataselector.internal.manager'):</span>¤	<span id="internalManager_selector" onclick="toggleSelector('internalManager')">¤	    <span id="internalManager_val">#if($action.internalManager)$!action.getUser($action.internalManager).fullName#end</span>¤	    <span id="internalManager_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤	</span>¤	<div id="internalManager_div" class="gar-editpanel-background" style="display:none">		¤		<table>¤			<tr>¤				<td nowrap><div class="formtitle gar-formtitle">$garHelper.getText('requestdataselector.change.internal.manager')</div></td>¤				<td></td>¤				<td></td>¤				<td nowrap></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap>$garHelper.getText('requestdataselector.choose.internal.manager'):</td>¤				<td align="left">¤					<select id="internalManager_list" name="internalManager" tabindex="3" onChange="toggleInternalManager(this.form.internalManager_list.options[this.form.internalManager_list.selectedIndex].text)">¤						<option value="" selected></option>¤					#foreach($internalManager in $groupInternalManagers)¤						<option value="$internalManager.name"#if($internalManager.name == $action.internalManager) selected#end>$internalManager.fullName</option>¤					#end¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleSelector('internalManager')"/>¤				</td>¤				<td>¤				</td>¤			</tr>¤		</table>¤	</div>¤</div>¤#end¤¤<div class="gar-editpanel">¤	<span>$garHelper.getText('requestpropinclude.contract.price'):</span>¤	<span id="contractPrice_selector" onclick="toggleSelector('contractPrice')">¤		<span id="contractPrice_val">$!action.contractPrice</span>¤	    <span id="contractPrice_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤	</span>¤¤	<div id="contractPrice_div" class="gar-editpanel-background" style="display:none">¤		<table>¤			<tr>¤				<td nowrap><div class="formtitle gar-formtitle">$garHelper.getText('requestpropinclude.change.contract.price')</div></td>¤				<td></td>¤				<td></td>¤				<td nowrap></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap>$garHelper.getText('requestpropinclude.new.contract.price'):</td>¤				<td align="left">¤					<input id="contractPrice_text" name="contractPrice" type="text" maxlength="50" value="$!action.contractPrice"/>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleContractPrice(); toggleSelector('contractPrice')"/>¤				</td>¤			</tr>¤			<tr nowrap>¤				<td colspan="3">¤					<span class="smalltext">($garHelper.getText('requestpropinclude.contract.price.not.be.taxable.nds'))</span>¤				</td>¤			</tr>¤		</table>¤	</div>¤</div>¤¤<div class="gar-editpanel">¤	<span>$garHelper.getText('requestdataselector.contract.empower.important'):</span>¤	<span id="contractPrice_selector" onclick="toggleSelector('empowerImportant')">¤		<span id="empowerImportant_val">#if($action.empowerImportant)$garHelper.getText('requestdataselector.empower.important.yes')#else$garHelper.getText('requestdataselector.empower.important.no')#end</span>¤	    <span id="empowerImportant_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤	</span>¤¤	<div id="empowerImportant_div" class="gar-editpanel-background" style="display:none">¤		<table>¤			<tr>¤				<td nowrap><div class="formtitle gar-formtitle">$garHelper.getText('requestdataselector.change.empower.important')</div></td>¤				<td></td>¤				<td></td>¤				<td nowrap></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap>$garHelper.getText('requestdataselector.new.empower.important'):</td>¤				<td align="left">¤					<input id="empowerImportant_text" name="empowerImportant" type="checkbox" #if($action.empowerImportant)checked#end value="true" onClick="toggleEmpowerImportant(); toggleSelector('empowerImportant')"/>¤				</td>¤			</tr>¤		</table>¤	</div>¤</div>¤¤<div class="gar-editpanel">¤	<span>$garHelper.getText('requestpropinclude.contract.attachment'):</span>¤	<span id="contractAttachment_selector">¤		<span id="documentsNames"></span>¤		<a href="#" id="edit-insert-link" onClick="openAddAttachmentDialog();">¤	    <span id="contractAttachment_edit_link" class="inline-control-link fontSizeTiny">$action.getText('attach.name')</span>¤		<input id="attachmentName" name="contractAttachment" type="hidden" value="$!action.contractAttachment"/>¤	    </a>¤	</span>¤</div>¤¤#end¤¤#if($isCase)¤	<div class="gar-editpanel">¤	<span>$garHelper.getText('requestpropinclude.case.attachment'):</span>¤	<span id="caseAttachment_selector">¤		<span id="documentsNames"></span>¤		<a href="#" id="edit-insert-link" onClick="openAddAttachmentDialog();">¤	    <span id="caseAttachment_edit_link" class="inline-control-link fontSizeTiny">$action.getText('attach.name')</span>¤		<input id="attachmentName" name="caseAttachment" type="hidden" value="$!action.caseAttachment"/>¤	    </a>¤	</span>¤</div>¤#end¤¤#if($createPermission.externalAuthors)	¤	¤#set($requestExternalAuthors = [])¤#set($eaEditContainerControlId = "external_author_edit_container")¤#set($eaPreviewContainerControlId = "external_author_preview_container")¤#set($eaValidationContainerId = "external_author_validation_container")¤#set($buildAllEa = true)¤#set($requestHelper = $garEntityHelper)¤#parse("/ConfluenceMDChange/RequestView/request-data-external-author.vm")¤¤<script type="text/javascript" language="JavaScript">¤	Event.observe(window, 'load', createEaPanels, false);¤	Event.observe(window, 'load', setAutoCompleteExternalAuthor, true);¤</script>¤¤<div class="gar-editpanel">¤	<span>$garHelper.getText('requestdataselector.external.authors'):</span>¤	<span id="external_author" onclick="toggleSelector('external_author'); $('external_author_preview_container').style.display='none'">¤	    <span id="external_author_preview_container"></span>¤		<span id="external_author_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤	</span>¤	<div id="external_author_div" class="gar-editpanel-background" style="display:none">¤		<span class="formtitle" style="font-size: 14px;">$garHelper.getText('requestdataselector.change.external.authors')</span>¤		<span id="external_author_add_link" class="inline-control-link fontSizeTiny" onClick="addNewExternalAuthor()">$garHelper.getText('add.word.caps')</span><br/>¤		<div class="error" style="display:none;padding:2px" id="external_author_validation_container"></div>¤		<span id="external_author_edit_container"></span>¤		<br/>¤		<script type="text/javascript" language="JavaScript">¤			function externalAuthorsDone() {¤				var validationResult = saveAllOpenEaPanels();¤				if(validationResult == false) {¤					return false;¤				}¤				toggleSelector('external_author'); ¤				$('external_author_preview_container').style.display=''; ¤				toggleEaPanelsMode(); ¤				toggleExternalAuthors(); ¤				return false;¤			}¤		</script>¤		<input type=button value="$garHelper.getText('done.word')" onClick="return externalAuthorsDone()"/>¤	</div>¤</div>¤<span id='external_author_val'></span>¤¤#end¤¤##UC_END*474C5868012D_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (vm)"
		    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/request-data-selector.vm")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (vm)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"19039291494"))
	    quid       	"474C5868012D"
	    documentation 	"общее гуи для выбора атрибутов запроса"
	    stereotype 	"VM"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"19016092594"))
		    quid       	"47FCA92C018C"
		    stereotype 	"include"
		    supplier   	"Logical View::MDProcess::ConfluenceMDChange::RequestView::request-data-external-author"
		    quidu      	"47FCA8B80234")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"19016092981"))
		    quid       	"481DAFAA010E"
		    stereotype 	"include"
		    supplier   	"Logical View::MDProcess::ConfluenceMDChange::RequestView::request-data-findin"
		    quidu      	"481DAF5B01EB"))
	    language   	"MDA Generator")
	(object Class "configok"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (output.xml)"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"output.xml:*470F718E027A_CUSTOM_CONTENT*"
		    value      	"##UC_BEGIN*470F718E027A_CUSTOM_CONTENT*¤Save complete!¤##UC_END*470F718E027A_CUSTOM_CONTENT*")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/configok|470F718E027A
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"vm:*470F718E027A_CUSTOM_CONTENT*"
		    value      	"##UC_BEGIN*470F718E027A_CUSTOM_CONTENT*¤$garHelper.getText('spaceconfigmdk.save.complete')!¤##UC_END*470F718E027A_CUSTOM_CONTENT*")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (vm)"
		    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/configok.vm")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (vm)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"19038943322"))
	    quid       	"470F718E027A"
	    documentation 	"нужен для сообщения об успешном сохранени настроек в спэйсе"
	    stereotype 	"VM"
	    language   	"MDA Generator")
	(object Class "configerror"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (output.xml)"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"output.xml:*470F714203D4_CUSTOM_CONTENT*"
		    value      	"##UC_BEGIN*470F714203D4_CUSTOM_CONTENT*¤Error while saving setting, see server log for details!¤##UC_END*470F714203D4_CUSTOM_CONTENT*")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/configerror|470F714203D4
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"vm:*470F714203D4_CUSTOM_CONTENT*"
		    value      	"##UC_BEGIN*470F714203D4_CUSTOM_CONTENT*¤Error while saving setting, see server log for details!¤##UC_END*470F714203D4_CUSTOM_CONTENT*")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (vm)"
		    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/configerror.vm")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (vm)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"19038944882"))
	    quid       	"470F714203D4"
	    documentation 	"нужен для собщения об ошибке при сохранении настроек"
	    stereotype 	"VM"
	    language   	"MDA Generator")
	(object Class "spaceconfig"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (output.xml)"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"output.xml:*470B98A40133_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*470B98A40133_CUSTOM_CONTENT*¤#set ($row_count = 9)¤¤#includeJavascript('/includes/js/ajax.js')¤<script language="JavaScript">¤var s_request_types = new Array();¤#foreach($request_type in $garRequestHelper.requestTypes)¤	#set($rticon = $garRequestHelper.getRequestTypeIcon("$request_type.id"))¤	s_request_types[$request_type.id] = {title:"$request_type.title",img:"${req.contextPath}${rticon}"};¤#end¤¤var s_group_to_type = new Array();¤#foreach($group in $garRequestHelper.getAllUserGroups())¤	s_group_to_type["$group"] = [#foreach($rtid in $garRequestHelper.getRequestTypesForGroup("$group", "$action.key"))#if($velocityCount > 1), #end$rtid.id#end];		¤#end¤¤##var s_label_groups = new Array(#foreach($lg in $garRequestHelper.getAllLabelGroups())#if($velocityCount > 1), #end"$lg"#end);¤var s_label_groups = new Array();¤#foreach($ra in $garRequestHelper.getAllLabelGroups())¤	#set($icon = $garRequestHelper.getLabelGroupIcon("$ra.id"))¤	s_label_groups[$ra.id] = {title:"$ra.title",img:"${req.contextPath}${icon}"};¤#end¤¤var s_group_to_label_group = new Array();¤#foreach($group in $garRequestHelper.getAllUserGroups())¤	s_group_to_label_group["$group"] = [#foreach($lg in $garRequestHelper.getAllowedLabelGroup("$group", "$action.key"))#if($velocityCount > 1), #end$lg.id#end];¤#end¤¤¤function toggleRemoveType(what) {¤	var current = document.getElementById("selected_group").options[document.getElementById("selected_group").selectedIndex].value;¤	var current_selected_types = s_group_to_type[current];¤	var st_temp = new Array ();¤	var j = 0;¤	for (i=0; i<current_selected_types.length; i++) {¤		if (current_selected_types[i] != what) {¤			st_temp[j] = current_selected_types[i];¤			j++;¤		}¤	}¤	s_group_to_type[current] = st_temp;¤	fillSelectedRequestType();¤}¤¤function toggleAddType(what) {¤	var current = document.getElementById("selected_group").options[document.getElementById("selected_group").selectedIndex].value;¤	if (!s_group_to_type[current].toString().match(what)) {¤		s_group_to_type[current].push(what);¤		fillSelectedRequestType();¤	}¤}¤¤function fillSelectedRequestType() {¤	var ret = "<table><tr>";¤	ret += "<td valign=\"top\">";¤	var index = 0;¤	var current = document.getElementById("selected_group").options[document.getElementById("selected_group").selectedIndex].value;¤	var current_selected_types = s_group_to_type[current];¤	for (i=0; i<current_selected_types.length; i++) {¤		if (index == $row_count) {¤			ret+="</td><td valign=\"top\">";¤			index = 0;¤		}¤		var k = current_selected_types[i];¤		ret += "<img src=\""+s_request_types[k].img+"\" height=16 width=16 border=0 align=absmiddle>";¤		ret += "<span class='smalltext'>("+s_request_types[k].title+")</span>";¤		ret += "<a href=\"\" onClick=\"toggleRemoveType(" + k.toString() + "); return false;\"><img src=\"/images/icons/del_16.gif\" height=8 width=8 border=0 align=absmiddle></a>";¤		ret += "<br>";¤		index++;¤	}¤	ret += "</td></tr></table>";¤	document.getElementById("selected_request_type").innerHTML = ret;	¤}¤¤function toggleRemoveLabelGroup(what) {¤	var current = document.getElementById("selected_group").options[document.getElementById("selected_group").selectedIndex].value;¤	var current_selected_types = s_group_to_label_group[current];¤	var st_temp = new Array ();¤	var j = 0;¤	for (i=0; i<current_selected_types.length; i++) {¤		if (current_selected_types[i] != what) {¤			st_temp[j] = current_selected_types[i];¤			j++;¤		}¤	}¤	s_group_to_label_group[current] = st_temp;¤	fillSelectedLabelGroups();¤}¤¤function toggleAddLabelGroup(what) {¤	var current = document.getElementById("selected_group").options[document.getElementById("selected_group").selectedIndex].value;¤	if (!s_group_to_label_group[current].toString().match(what)) {¤		s_group_to_label_group[current].push(what);¤		fillSelectedLabelGroups();¤	}¤}¤¤function fillSelectedLabelGroups() {¤	var ret = "<table><tr>";¤	ret += "<td valign=\"top\">";¤	var index = 0;¤	var current = document.getElementById("selected_group").options[document.getElementById("selected_group").selectedIndex].value;¤	var current_selected_types = s_group_to_label_group[current];¤	for (i=0; i<current_selected_types.length; i++) {¤		if (index == $row_count) {¤			ret+="</td><td valign=\"top\">";¤			index = 0;¤		}¤		var k = current_selected_types[i];¤		ret += "<img src=\""+s_label_groups[k].img+"\" height=16 width=16 border=0 align=absmiddle>";¤		ret += "<span>&nbsp;"+s_label_groups[k].title+"&nbsp;</span>";¤		ret += "<a href=\"\" onClick=\"toggleRemoveLabelGroup(" + k.toString() + "); return false;\"><img src=\"/images/icons/del_16.gif\" height=8 width=8 border=0 align=absmiddle></a>";¤		ret += "<br>";¤		index++;¤	}¤	ret += "</td></tr></table>";¤	document.getElementById("allowed_labels").innerHTML = ret;	¤}¤¤function toggleSave () {¤	document.getElementById("space_config").innerHTML = "Saving...";¤	¤	var RequestTypeConfigString = compact_arrays (s_group_to_type);¤	var LabelGroupsConfigString = compact_arrays (s_group_to_label_group);¤	¤	xmlhttp = getXmlHttp();¤	xmlhttp.open("POST", "$req.contextPath/ru/garant/MDProcess/ConfluenceMDChange/RequestSupport/RequestXPlugin/RequestXPackage/spaceconfigsave.action?key=$action.key&requestTypeConfigString="+encodeURI(RequestTypeConfigString)+"&labelGroupsConfigString="+encodeURI(LabelGroupsConfigString), true);¤	xmlhttp.onreadystatechange=function()¤	{¤		if (xmlhttp.readyState==4) {¤			document.getElementById("space_config").innerHTML = xmlhttp.responseText;¤		}¤	}¤	xmlhttp.send(null)¤}¤¤function compact_arrays (what) {¤	var ret = "";¤	var i = 0;¤	for (key in what) {¤		if (i > 0) {¤			ret += ";";¤		}¤		ret += key + ":";¤				¤		var types = what[key];¤		for (j=0; j < types.length; j++) {¤			if (j>0) {¤				ret += ",";¤			}¤			ret += types[j].toString ();¤		}¤		¤		i++;¤	}¤	return ret;¤}¤	¤</script>¤¤<html>¤	<head>¤		<title>MDChange Space Config</title>¤		</head>¤		¤		#applyDecorator("root")¤			#decoratorParam("helper" $action.helper)¤			#decoratorParam("context" "space-administration")¤			#decoratorParam("mode"  "view-space-administration")¤			¤			#applyDecorator ("root")¤				#decoratorParam ("context" "spaceadminpanel")¤				#decoratorParam ("selection" "mdchange")¤				#decoratorParam ("title" $action.getActionName($action.getClass().getName()))¤				#decoratorParam ("selectedTab" "admin")¤				#decoratorParam("helper" $action.helper)¤¤			<div id="space_config" style="padding-top: 10px;">¤				<span class="formtitle">Select group to config:</span>¤					<table><tr">¤						<td valign="top" style="width: 250px; height: 350px;">¤							<select id="selected_group" style="height: 100%; width: 100%;" multiple onClick="fillSelectedRequestType(); fillSelectedLabelGroups(); return false;">¤							#foreach($group in $garRequestHelper.getAllUserGroups())¤								#if($velocityCount>1)¤									<option value="$group">$group</option>¤								#else¤									<option value="$group" selected>$group</option>¤								#end¤							#end¤							</select>¤						</td>¤						¤						<td valign="top" style="width: 370px; height: 350px;">¤							<div style="border: 1px solid #cccccc;">¤							<table style="height: 100%; width: 100%;">¤								¤								<tr><td valign="top">								¤									<div class="formtitle">¤										<span>Allowed request types to create</span>¤										<div style="border-style: solid; border-width: 1px;"></div>¤									</div>¤										¤									<div id="selected_request_type">¤										<table><tr><td valign="top">¤										#set ($group = $garRequestHelper.getRequestTypesForGroup("${garRequestHelper.getAllUserGroups().get(0)}", "$action.key"))¤										#set ($index = 0)¤										#foreach($rt in $group)¤											#if ($index == $row_count)¤												#set ($index = 0)¤												</td><td valign="top">¤											#end¤											#set ($index = $index+1)¤											#set($rticon = $garRequestHelper.getRequestTypeIcon("$rt.id"))¤											#if($rticon != "none")¤												<img src="${req.contextPath}${rticon}" height=16 width=16 border=0 align=absmiddle>¤												<span class="smalltext">($rt.title)</span>¤											#else¤												<span class="smalltext">$rt.title</span>¤											#end¤											<a href="" onClick="toggleRemoveType($rt.id); return false;"><img src="${req.contextPath}/images/icons/del_16.gif" height=8 width=8 border=0 align=absmiddle></a>												¤											<br>¤										#end¤									</td></tr></table>¤									</div>¤								</td></tr>¤								¤								<tr><td align="center" valign="bottom" style="height: 150px;">¤									<div class="infoMacro" style="padding: 8px; width: 90%; height: 90%;">¤										<table width="100%">¤											¤											<tr>¤												<td nowrap><div class="formtitle">Add type:</div></td>¤											</tr>¤											¤											<tr>¤												<td align="left">¤													<select id="request_type_list" name="requestType" tabindex="3">¤													#foreach($request_type in $garRequestHelper.requestTypes)¤														<option value="$request_type.id"#if($request_type.title == $garRequestHelper.defaultType) selected#end>$request_type.title</option>¤													#end¤													</select>¤													¤													<input type=button value="Add" onClick="toggleAddType(document.getElementById('request_type_list').options[document.getElementById('request_type_list').selectedIndex].value); return false;"/>¤												</td>¤											</tr>¤											¤											<tr>¤												<td>Suggested Types:</td>¤											</tr>¤											¤											<tr>¤												<td>¤												#foreach($popular_request_type in $action.getRecentAndPopularRequestTypes('MDP'))¤													#if($velocityCount > 1), #end¤													#set($rticon = $garRequestHelper.getRequestTypeIcon("$popular_request_type.id"))¤													#if($rticon != "none")¤														<a href="" onClick="toggleAddType('$popular_request_type.id'); return false;"><img src="${req.contextPath}${rticon}" height=16 width=16 border=0 align=absmiddle></a>&nbsp;<a href="" onClick="toggleAddType('$popular_request_type.id'); return false;"><span class="smalltext">($popular_request_type.title)</span></a>¤													#else¤														<a href="" onClick="toggleAddType('$popular_request_type.id'); return false;"><span class="smalltext">$popular_request_type.title</span></a>¤													#end				¤												#end¤												</td>¤											</tr>¤											¤										</table>	¤									</div>¤								</td></tr>¤																¤							</table>							¤							</div>¤						</td>¤						¤						<!--¤						Available labels¤						-->¤						¤						<td valign="top" style="width: 300px; height: 350px;">¤							<div style="border: 1px solid #cccccc;">¤							<table style="height: 100%; width: 100%;">¤								¤								<tr><td valign="top">								¤									<div class="formtitle">¤										<span>Allowed target page labels</span>¤										<div style="border-style: solid; border-width: 1px;"></div>¤									</div>¤										¤									<div id="allowed_labels">¤										<table><tr><td valign="top">¤										#set ($group = $garRequestHelper.getAllowedLabelGroup("${garRequestHelper.getAllUserGroups().get(0)}", "$action.key"))¤										#set ($index = 0)¤										#foreach($rt in $group)¤											#if ($index == $row_count)¤												#set ($index = 0)¤												</td><td valign="top">¤											#end¤											#set ($index = $index+1)¤											#set($rticon = $garRequestHelper.getLabelGroupIcon("$rt.id"))¤											#if($rticon!="none")¤												<img src="${req.contextPath}${rticon}" height=16 width=16 border=0 align=absmiddle>¤											#end¤											<span>&nbsp;$rt.title&nbsp;</span>¤											<a href="" onClick="toggleRemoveLabelGroup($rt.id); return false;"><img src="${req.contextPath}/images/icons/del_16.gif" height=8 width=8 border=0 align=absmiddle></a>¤											<br>¤										#end¤									</td></tr></table>¤									</div>¤								</td></tr>¤								¤								<tr><td align="center" valign="bottom" style="height: 150px;">¤									<div class="infoMacro" style="padding: 8px; width: 90%; height: 90%;">¤										<table width="100%">¤											¤											<tr>¤												<td nowrap><div class="formtitle">Add labels group:</div></td>¤											</tr>¤											¤											<tr>¤												<td align="left">¤													<select id="labels_list" tabindex="3">¤													#foreach($ra in $garRequestHelper.getAllLabelGroups())¤														<option value="$ra.id">$ra.title</option>¤													#end¤													</select>¤													¤													<input type=button value="Add" onClick="toggleAddLabelGroup(document.getElementById('labels_list').options[document.getElementById('labels_list').selectedIndex].value); return false;"/>¤												</td>¤											</tr>¤											¤											<!--¤											<tr>¤												<td>Suggested Types:</td>¤											</tr>¤											¤											<tr>¤												<td>¤												#foreach($popular_request_type in $action.getRecentAndPopularRequestTypes('MDP'))¤													#if($velocityCount > 1), #end¤													#set($rticon = $garRequestHelper.getRequestTypeIcon("$popular_request_type.id"))¤													#if($rticon != "none")¤														<a href="" onClick="toggleAddLabelGroup('$popular_request_type.id'); return false;"><img src="${req.contextPath}${rticon}" height=16 width=16 border=0 align=absmiddle></a>&nbsp;<a href="" onClick="toggleAddType('$popular_request_type.id'); return false;"><span class="smalltext">($popular_request_type.title)</span></a>¤													#else¤														<a href="" onClick="toggleAddLabelGroup('$popular_request_type.id'); return false;"><span class="smalltext">$popular_request_type.title</span></a>¤													#end				¤												#end¤												</td>¤											</tr>¤											-->¤											¤										</table>	¤									</div>¤								</td></tr>¤																¤							</table>							¤							##</div>¤						</td>¤						¤				</tr>¤				<tr>¤					<td></td>¤					<td></td>¤					<td align="right"><input type=button value="Save" onClick="toggleSave();"/>&nbsp;&nbsp;<input type=button value="Cancel" onClick="location.replace('$req.contextPath/ru/garant/MDProcess/ConfluenceMDChange/RequestSupport/RequestXPlugin/RequestXPackage/spaceconfig.action?key=$action.key');"/></td>¤				</tr>¤				</table>¤			</div>¤			</div>¤			#end¤		#end¤</html>¤##UC_END*470B98A40133_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/spaceconfig|470B98A40133
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"vm:*470B98A40133_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*470B98A40133_CUSTOM_CONTENT*¤¤#requireResource("legacy.confluence.web.resources:prototype")¤¤#set ($row_count = 9)¤#set ($garEntityHelper = $garRequestHelper)¤¤#includeJavascript('/includes/js/ajax.js')¤¤#set($developerManager=$garEntityHelper.getDevelopmentManager($action.key))¤#set($deputyDevelopmentManager=$garEntityHelper.getDeputyDevelopmentManager($action.key))¤#set($deputyDevelopmentManagerActive=$garEntityHelper.getDeputyDevelopmentManagerActive($action.key))¤#set($testManager=$garEntityHelper.getTestManager($action.key))¤#set($prManager=$garEntityHelper.getPrManager($action.key))¤#set($analystManager=$garEntityHelper.getAnalyst($action.key))¤#set($umAnalystManager=$garEntityHelper.getUmAnalyst($action.key))¤#set($uoAnalystManager=$garEntityHelper.getUoAnalyst($action.key))¤#set($developmentGroup=$garEntityHelper.getDevelopmentGroup($action.key))¤#set($testGroup=$garEntityHelper.getTestGroup($action.key))¤#set($supervisorGroup=$garEntityHelper.getSupervisorGroup($action.key))¤#set($supportGroup=$garEntityHelper.getSupportGroup($action.key))¤#set($analystGroup=$garEntityHelper.getAnalystGroup($action.key))¤#set($umAnalystGroup=$garEntityHelper.getUmAnalystGroup($action.key))¤#set($uoAnalystGroup=$garEntityHelper.getUoAnalystGroup($action.key))¤#set($testAnalyst=$garEntityHelper.getTestAnalyst($action.key))¤¤#set($news=$garEntityHelper.getNews($action.key))¤#set($report=$garEntityHelper.getReport($action.key))¤#set($briefing=$garEntityHelper.getBriefing($action.key))¤#set($fault=$garEntityHelper.getFault($action.key))¤¤#set($enabled = $garEntityHelper.getMdcEnabled($action.key))¤#set($enabledCloseDiscussions = $garEntityHelper.getCloseDiscussionsEnabled($action.key))¤#set($hasUnreadAssignedRequests = $garEntityHelper.hasUnreadAssignedRequests($action.key))¤¤<script language="JavaScript">¤¤var s_request_types = [];¤#foreach($request_type in $garEntityHelper.allTypes)¤	#set($rticon = $request_type.image)¤	s_request_types[$request_type.id] = {title:"$request_type.title",img:"${req.contextPath}${rticon}"};¤#end¤¤var s_group_to_type = [];¤#foreach($group in $garUserHelper.getEditPermittedGroups($action.key))¤	s_group_to_type["$group"] = [#foreach($rtid in $garEntityHelper.getRequestTypesForGroup("$group", "$action.key"))#if($velocityCount > 1), #end$rtid.id#end];		¤#end¤¤var s_label_groups = [];¤#foreach($ra in $garEntityHelper.getAllLabelGroups())¤	#set($icon = $ra.image)¤	s_label_groups[$ra.id] = {title:"$ra.title",img:"${req.contextPath}${icon}"};¤#end¤¤var s_group_to_label_group = [];¤#foreach($group in $garUserHelper.getEditPermittedGroups($action.key))¤	s_group_to_label_group["$group"] = [#foreach($lg in $garEntityHelper.getAllowedLabelGroup("$group", "$action.key"))#if($velocityCount > 1), #end$lg.id#end];¤#end¤¤var developerManager = "$developerManager";¤var deputyDevelopmentManager = "$deputyDevelopmentManager";¤var deputyDevelopmentManagerActive = $deputyDevelopmentManagerActive;¤var testManager = "$testManager";¤var prManager = "$prManager";¤var analystManager = "$analystManager";¤var umAnalystManager = "$umAnalystManager";¤var uoAnalystManager = "$uoAnalystManager";¤var developmentGroup = "$developmentGroup";¤var testGroup = "$testGroup";¤var supervisorGroup = "$supervisorGroup";¤var supportGroup = "$supportGroup";¤var analystGroup = "$analystGroup";¤var umAnalystGroup = "$umAnalystGroup";¤var uoAnalystGroup = "$uoAnalystGroup";¤var testAnalyst = "$testAnalyst";¤var enabled = "$enabled";¤var enabledCloseDiscussions = "$enabledCloseDiscussions";¤var hasUnreadAssignedRequests = "$hasUnreadAssignedRequests";¤var prevDevManager = developerManager;¤¤function toggleRemoveType(what) {¤	var current = document.getElementById("selected_group").options[document.getElementById("selected_group").selectedIndex].value;¤	var current_selected_types = s_group_to_type[current];¤	var st_temp = new Array ();¤	var j = 0;¤	for (i=0; i<current_selected_types.length; i++) {¤		if (current_selected_types[i] != what) {¤			st_temp[j] = current_selected_types[i];¤			j++;¤		}¤	}¤	s_group_to_type[current] = st_temp;¤	fillSelectedRequestType();¤}¤¤function toggleAddType(what) {¤	var current = document.getElementById("selected_group").options[document.getElementById("selected_group").selectedIndex].value;¤	var ids = s_group_to_type[current].toString().split(",");¤	if ((s_group_to_type[current].toString() == "") || !ids.include(what)) {¤		s_group_to_type[current].push(what);¤		fillSelectedRequestType();¤	}¤}¤¤function fillSelectedRequestType() {¤	var ret = "<table><tr>";¤	ret += "<td valign=\"top\">";¤	var index = 0;¤	var current = document.getElementById("selected_group").options[document.getElementById("selected_group").selectedIndex].value;¤	var current_selected_types = s_group_to_type[current];¤	for (i=0; i<current_selected_types.length; i++) {¤		if (index == $row_count) {¤			ret+="</td><td valign=\"top\">";¤			index = 0;¤		}¤		var k = current_selected_types[i];¤		ret += "<img src=\""+s_request_types[k].img+"\" height=16 width=16 border=0 align=absmiddle>";¤		ret += "<span class='smalltext'>("+s_request_types[k].title+")</span>";¤		ret += "<a href=\"\" onClick=\"toggleRemoveType(" + k.toString() + "); return false;\"><img src=\"/images/icons/del_16.gif\" height=8 width=8 border=0 align=absmiddle></a>";¤		ret += "<br>";¤		index++;¤	}¤	ret += "</td></tr></table>";¤	document.getElementById("selected_request_type").innerHTML = ret;	¤}¤¤function toggleRemoveLabelGroup(what) {¤	var current = document.getElementById("selected_group").options[document.getElementById("selected_group").selectedIndex].value;¤	var current_selected_types = s_group_to_label_group[current];¤	var st_temp = new Array ();¤	var j = 0;¤	for (i=0; i<current_selected_types.length; i++) {¤		if (current_selected_types[i] != what) {¤			st_temp[j] = current_selected_types[i];¤			j++;¤		}¤	}¤	s_group_to_label_group[current] = st_temp;¤	fillSelectedLabelGroups();¤}¤¤function toggleAddLabelGroup(what) {¤	var current = document.getElementById("selected_group").options[document.getElementById("selected_group").selectedIndex].value;¤	if (!s_group_to_label_group[current].toString().match(what)) {¤		s_group_to_label_group[current].push(what);¤		fillSelectedLabelGroups();¤	}¤}¤¤function fillSelectedLabelGroups() {¤	var ret = "<table><tr>";¤	ret += "<td valign=\"top\">";¤	var index = 0;¤	var current = document.getElementById("selected_group").options[document.getElementById("selected_group").selectedIndex].value;¤	var current_selected_types = s_group_to_label_group[current];¤	for (i=0; i<current_selected_types.length; i++) {¤		if (index == $row_count) {¤			ret+="</td><td valign=\"top\">";¤			index = 0;¤		}¤		var k = current_selected_types[i];¤		ret += "<img src=\""+s_label_groups[k].img+"\" height=16 width=16 border=0 align=absmiddle>";¤		ret += "<span>&nbsp;"+s_label_groups[k].title+"&nbsp;</span>";¤		ret += "<a href=\"\" onClick=\"toggleRemoveLabelGroup(" + k.toString() + "); return false;\"><img src=\"/images/icons/del_16.gif\" height=8 width=8 border=0 align=absmiddle></a>";¤		ret += "<br>";¤		index++;¤	}¤	ret += "</td></tr></table>";¤	document.getElementById("allowed_labels").innerHTML = ret;	¤}¤¤function toggleSave () {¤	var cvsroots = encodeURI(document.getElementById("CVSRoots").value);	¤	 ¤	var importances = "";¤	$$("input[name='importances']").each(function(el) { ¤		var keyValue = el.serialize();¤		if(keyValue != '') {¤			importances += "&" + keyValue;¤		}¤	});¤	¤	document.getElementById("space_config").innerHTML = "$garHelper.getText('spaceconfig.saving')...";¤	¤	var RequestTypeConfigString = compact_arrays (s_group_to_type);¤	var LabelGroupsConfigString = compact_arrays (s_group_to_label_group);¤	¤	xmlhttp = getXmlHttp();¤	var requestURL  = "$req.contextPath/ru/garant/MDProcess/ConfluenceMDChange/RequestSupport/RequestXPlugin/RequestXPackage/spaceconfigsave.action";¤	xmlhttp.open("POST", requestURL, true);¤	¤	var params = "key=$action.key&requestTypeConfigString="¤			+ encodeURI(RequestTypeConfigString)¤			+ "&labelGroupsConfigString="¤			+ encodeURI(LabelGroupsConfigString)¤			+ "&developmentManager="¤			+ developerManager¤			+ "&deputyDevelopmentManager="¤			+ deputyDevelopmentManager¤			+ "&deputyDevelopmentManagerActive="¤			+ deputyDevelopmentManagerActive¤			+ "&testm="¤			+ testManager¤			+ "&prm="¤			+ prManager¤			+ "&am="¤			+ analystManager¤			+ "&um="¤			+ umAnalystManager¤			+ "&uo="¤			+ uoAnalystManager¤			+ "&developmentGroup="¤			+ developmentGroup¤			+ "&testGroup="¤			+ testGroup¤			+ "&supervisorGroup="¤			+ supervisorGroup¤			+ "&supportGroup="¤			+ supportGroup¤			+ "&analystGroup="¤			+ analystGroup¤			+ "&umAnalystGroup="¤			+ umAnalystGroup¤			+ "&uoAnalystGroup="¤			+ uoAnalystGroup¤			+ "&testAnalyst="¤			+ testAnalyst¤			+ "&enabled="¤			+ enabled¤			+ "&cvsroots="¤			+ cvsroots¤			+ "&enabledCloseDiscussions="¤			+ enabledCloseDiscussions¤			+ importances;¤¤	xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");¤	xmlhttp.setRequestHeader("Content-length", params.length);¤	xmlhttp.setRequestHeader("Connection", "close");¤¤	xmlhttp.onreadystatechange=function()¤	{¤		if (xmlhttp.readyState==4 && xmlhttp.status==200) {¤			document.getElementById("space_config").innerHTML = xmlhttp.responseText;¤		}¤	}¤¤	xmlhttp.send(params);¤}¤¤function compact_arrays (what) {¤	var ret = "";¤	var index = 0;¤	for (key in what) {¤		if (index > 0) {¤			ret += ";";¤		}¤		ret += key + ":";¤	    ¤		var types = what[key];¤		for (j=0; j < types.length; j++) {¤			if(types[j] != null) {¤				if (j>0 && ret.charAt(ret.length - 1) != ',') {¤					ret += ",";¤				}¤				ret += types[j].toString ();¤			}¤		}¤		index++;¤	}¤	return ret;¤}¤¤function toggleDeveloperManager (what) {¤	developerManager = what;¤	if(hasUnreadAssignedRequests == 'true') {¤		var response = confirm('$garHelper.getText('spaceconfig.unreadrequests')');¤					¤		if (response == false)¤			for (i = 0; i < document.getElementById('dev_list').length; i++) ¤				if (prevDevManager == document.getElementById('dev_list').options[i].value) ¤					document.getElementById('dev_list').options[i].selected = true;	¤	}¤¤	return false;¤}¤¤function toggleDeputyDevelopmentManager (what) {¤	deputyDevelopmentManager = what;¤	if(what != 'undefined') {¤		$('deputy_dev_active').enable();¤	} else {¤		$('deputy_dev_active').disable();¤	}¤	return false;¤}¤¤function toggleDeputyDevelopmentManagerActive(what) {¤	deputyDevelopmentManagerActive = what;¤}¤¤function toggleTestManager (what) {¤	testManager = what;¤	return false;¤}¤¤function togglePrManager (what) {¤	prManager = what;¤	return false;¤}¤¤function toggleAnalystManager (what) {¤	analystManager = what;¤	return false;¤}¤¤function toggleUMAnalystManager (what) {¤	umAnalystManager = what;¤	return false;¤}¤¤function toggleUOAnalystManager (what) {¤	uoAnalystManager = what;¤	return false;¤}¤¤function toggleDevelopmentGroup (what) {¤	developmentGroup = what;¤	return false;¤}¤¤function toggleTestGroup (what) {¤	testGroup = what;¤	return false;¤}¤¤function toggleSupervisorGroup (what) {¤	supervisorGroup = what;¤	return false;¤}¤¤function toggleSupportGroup (what) {¤	supportGroup = what;¤	return false;¤}¤¤function toggleAnalystGroup (what) {¤	analystGroup = what;¤	return false;¤}¤¤function toggleUmAnalystGroup (what) {¤	umAnalystGroup = what;¤	return false;¤}¤¤function toggleUoAnalystGroup (what) {¤	uoAnalystGroup = what;¤	return false;¤}¤¤function toggleTestAnalyst (what) {¤	testAnalyst = what;¤	return false;¤}¤¤function toggleEnabled() {¤	toggleDisabled(${enabled});¤}¤¤function toggleDisabledCloseDiscussions(enable){¤	enabledCloseDiscussions = enable;¤}¤¤function toggleDisabled(enable) {¤	// set post parameter¤	enabled = enable;¤¤	var rows = $('configTable').rows;¤	var length = rows.length;¤	for(var i=1; i<length;i++) {¤		if(i != length - 1)¤			enable == true || enable == 'true' ? Element.show(rows[i]) : Element.hide(rows[i]);¤	}¤}¤¤Event.observe(window, 'load', toggleEnabled, false);¤¤</script>¤¤<html>¤	<head>¤		<title>$garHelper.getText('settings.mdk.space')</title>¤		</head>¤		¤		#applyDecorator("root")¤			#decoratorParam("helper" $action.helper)¤			#decoratorParam("context" "space-administration")¤			#decoratorParam("mode"  "view-space-administration")¤			¤			#applyDecorator ("root")¤				#decoratorParam ("context" "spaceadminpanel")¤				#decoratorParam ("selection" $action.selection)¤				#decoratorParam ("title" $action.getActionName($action.getClass().getName()))¤				#decoratorParam ("selectedTab" "admin")¤				#decoratorParam("helper" $action.helper)¤¤			<form><div id="space_config" style="padding-top: 5px;">				¤					<table id="configTable">¤						<tr>¤						<td colspan="3" style="padding-bottom:10px">¤						<div>¤							<span class="formtitle" style="font-size:10pt;">$garHelper.getText('spaceconfig.enabled'):</span>¤							<input id="confingEnableButton" type="checkbox" #if(${enabled})checked="true"#end onClick="toggleDisabled(this.checked)"/>¤						</div>¤						</td>¤						</tr>¤						<tr>¤							<td colspan="3"><span class="formtitle" style="font-size:10pt;">$garHelper.getText('spaceconfig.choose.group.for.setting'):</span></td>¤						</tr>¤						<tr>¤						<td valign="top" style="width: 230px; height: 360px;">¤							<select id="selected_group" style="height: 100%; width: 100%;" multiple onClick="fillSelectedRequestType(); fillSelectedLabelGroups(); return false;">¤							#foreach($group in $garUserHelper.getEditPermittedGroups($action.key))¤								#if($velocityCount>1)¤									<option value="$group">$group</option>¤								#else¤									<option value="$group" selected>$group</option>¤								#end¤							#end¤							</select>¤						</td>¤						¤						<td valign="top" style="width: 300px; height: 366px;">¤							<div style="border: 1px solid #cccccc;">¤							<table style="height: 100%; width: 100%;">¤								¤								<tr><td valign="top">								¤									<div class="formtitle">¤										<span>$garHelper.getText('spaceconfig.available.for.create.types.requests'):</span>¤										<div style="border-style: solid; border-width: 1px;"></div>¤									</div>¤										¤									<div id="selected_request_type">¤									#set($permittedGroups = ${garUserHelper.getEditPermittedGroups($action.key)})¤									#if($!permittedGroups.size() > 0)¤										<table><tr><td valign="top">¤										¤										#set ($group = $garEntityHelper.getRequestTypesForGroup("$permittedGroups.get(0)", "$action.key"))¤										#set ($index = 0)¤										#foreach($rt in $group)¤											#if ($index == $row_count)¤												#set ($index = 0)¤												</td><td valign="top">¤											#end¤											#set ($index = $index+1)¤											#set($rticon = $rt.image)¤											#if($rticon != "none")¤												<img src="${req.contextPath}${rticon}" height=16 width=16 border=0 align=absmiddle>¤												<span class="smalltext">($rt.title)</span>¤											#else¤												<span class="smalltext">$rt.title</span>¤											#end¤											<a href="" onClick="toggleRemoveType($rt.id); return false;"><img src="${req.contextPath}/images/icons/del_16.gif" height=8 width=8 border=0 align=absmiddle></a>												¤											<br>¤										#end¤									</td></tr></table>¤									#end¤									</div>¤								</td></tr>¤								¤								<tr><td align="center" valign="center" style="height: 325px;">¤									<div class="infoMacro" style="padding: 8px; margin-bottom:10px; width: 90%; height: 90%;">¤										<table width="100%">¤											¤											<tr>¤												<td nowrap align="left"><div class="formtitle">$garHelper.getText('spaceconfig.add.type'):</div></td>¤											</tr>¤											¤											<tr>¤												<td align="left">¤													<select id="request_type_list" name="requestType" tabindex="3">¤													#foreach($request_type in $garEntityHelper.allTypes)¤														<option value="$request_type.id"#if($request_type.title == $garEntityHelper.defaultType) selected#end>$request_type.title</option>¤													#end¤													</select>¤													¤													<input type=button value="$garHelper.getText('add.word')" onClick="toggleAddType(document.getElementById('request_type_list').options[document.getElementById('request_type_list').selectedIndex].value); return false;"/>¤												</td>¤											</tr>¤											¤											<tr>¤												<td align="left">$garHelper.getText('spaceconfig.suggested.types'):</td>¤											</tr>¤											¤											<tr>¤												<td align="left">¤												#foreach($popular_request_type in $garEntityHelper.allTypes)¤													#if($velocityCount > 1), #end¤													#set($rticon = $popular_request_type.image)¤													#if($rticon != "none")¤														<a href="" onClick="toggleAddType('$popular_request_type.id'); return false;"><img src="${req.contextPath}${rticon}" height=16 width=16 border=0 align=absmiddle></a>&nbsp;<a href="" onClick="toggleAddType('$popular_request_type.id'); return false;"><span class="smalltext">($popular_request_type.title)</span></a>¤													#else¤														<a href="" onClick="toggleAddType('$popular_request_type.id'); return false;"><span class="smalltext">$popular_request_type.title</span></a>¤													#end				¤												#end¤												</td>¤											</tr>¤											¤										</table>	¤									</div>¤								</td></tr>¤																¤							</table>							¤							</div>¤						</td>¤						¤						<!--¤						Available labels¤						-->¤						¤						<td valign="top" style="width: 300px; height: 366px;">¤							<div style="border: 1px solid #cccccc;">¤							<table style="height: 100%; width: 100%;">¤								¤								<tr><td valign="top">								¤									<div class="formtitle">¤										<span>$garHelper.getText('spaceconfig.available.labels.group.identifier'):</span>¤										<div style="border-style: solid; border-width: 1px;"></div>¤									</div>¤										¤									<div id="allowed_labels">¤									#set($permittedGroups = ${garUserHelper.getEditPermittedGroups($action.key)})¤									#if($permittedGroups.size() > 0)¤									¤										<table><tr><td valign="top">¤										#set ($group = $garEntityHelper.getAllowedLabelGroup("$permittedGroups.get(0)", "$action.key"))¤										#set ($index = 0)¤										#foreach($rt in $group)¤											#if ($index == $row_count)¤												#set ($index = 0)¤												</td><td valign="top">¤											#end¤											#set ($index = $index+1)¤											#set($rticon = $rt.image)¤											#if($rticon!="none")¤												<img src="${req.contextPath}${rticon}" height=16 width=16 border=0 align=absmiddle>¤											#end¤											<span>&nbsp;$rt.title&nbsp;</span>¤											<a href="" onClick="toggleRemoveLabelGroup($rt.id); return false;"><img src="${req.contextPath}/images/icons/del_16.gif" height=8 width=8 border=0 align=absmiddle></a>¤											<br>¤										#end¤									</td></tr></table>¤									#end¤									</div>¤								</td></tr>¤								¤								<tr><td align="center" valign="center" style="height: 325px;">¤									<div class="infoMacro" style="padding: 8px; margin-bottom:10px; width: 90%; height: 90%;">¤										<table width="100%">¤											¤											<tr>¤												<td nowrap align="left"><div class="formtitle">$garHelper.getText('spaceconfig.add.labels.group'):</div></td>¤											</tr>¤											¤											<tr>¤												<td align="left">¤													<select id="labels_list" tabindex="3">¤													#foreach($ra in $garEntityHelper.getAllLabelGroups())¤														<option value="$ra.id">$ra.title</option>¤													#end¤													</select>¤													¤													<input type=button value="$garHelper.getText('add.word')" onClick="toggleAddLabelGroup(document.getElementById('labels_list').options[document.getElementById('labels_list').selectedIndex].value); return false;"/>¤												</td>¤											</tr>¤										</table>	¤									</div>¤								</td></tr>¤																¤							</table>							¤							##</div>¤						</td>¤						¤				</tr>¤				<tr>¤					<td colspan="3"><span class="formtitle" style="font-size:10pt;">$garHelper.getText('spaceconfig.roles.in.lifecycle.requests'):</span></td>¤				</tr>¤				<tr>¤					<td colspan="3" style="border: 1px solid #cccccc;">¤						<table>¤						<tr>¤							<td align="right"><span class="smalltext" style="font-size:9pt;">$garHelper.getText('spaceconfig.developer.manager'):</span></td>¤							<td>¤								<select id="dev_list" tabindex="3" onChange="toggleDeveloperManager($('dev_list').options[$('dev_list').selectedIndex].value)">¤									<option value="undefined" #if($developerManager=="undefined")selected#end>$garHelper.getText('spaceconfig.undefined')</option>¤									#foreach($user in $garUserHelper.getEditPermittedUsers($action.key))¤										#if ($user.name == $developerManager)¤											<option value="$user.name" selected>$user.fullName</option>¤										#else¤											<option value="$user.name">$user.fullName</option>¤										#end¤									#end¤								</select>						¤							</td>¤							<td align="right"><span class="smalltext" style="font-size:9pt;" align="right">$garHelper.getText('spaceconfig.development.group'):</span></td>¤							<td>¤	        					<select id="development_group_list" tabindex="3" onChange="toggleDevelopmentGroup(document.getElementById('development_group_list').options[document.getElementById('development_group_list').selectedIndex].value)">¤	        						<option value="undefined" #if($supportGroup=="undefined")selected#end>$garHelper.getText('spaceconfig.undefined')</option>¤	        						#foreach($group in $garUserHelper.getEditPermittedGroups($action.key))¤	        							#if ($group == $developmentGroup)¤	        								<option value="$group" selected>$group</option>¤	        							#else¤	        								<option value="$group">$group</option>¤	        							#end¤	        						#end¤	        					</select>¤        					</td>¤						</tr>¤						<tr>¤							<td align="right"><span class="smalltext" style="font-size:9pt;">$garHelper.getText('spaceconfig.deputy.developer.manager'):</span></td>¤							<td>¤								<select id="deputy_dev_list" tabindex="3" onChange="toggleDeputyDevelopmentManager(document.getElementById('deputy_dev_list').options[document.getElementById('deputy_dev_list').selectedIndex].value)">¤									<option value="undefined" #if($deputyDevelopmentManager=="undefined")selected#end>$garHelper.getText('spaceconfig.undefined')</option>¤									#foreach($user in $garUserHelper.getEditPermittedUsers($action.key))¤										#if ($user.name == $deputyDevelopmentManager)¤											<option value="$user.name" selected>$user.fullName</option>¤										#else¤											<option value="$user.name">$user.fullName</option>¤										#end¤									#end¤								</select>						¤							</td>¤							<td align="right"><span class="smalltext" style="font-size:9pt;">$garHelper.getText('spaceconfig.deputy.developer.manager.active'):</span></td>¤							<td>¤								<input id="deputy_dev_active" type="checkbox" onChange="toggleDeputyDevelopmentManagerActive(this.checked)" value="true" #if($deputyDevelopmentManager=="undefined")disabled="true"#end  #if($deputyDevelopmentManagerActive) checked #end/>¤							</td>¤						</tr>¤						<tr>¤							<td align="right"><span class="smalltext" style="font-size:9pt;" align="right">$garHelper.getText('spaceconfig.test.manager'):</span></td>¤							<td>¤								<select id="test_list" tabindex="3" onChange="toggleTestManager(document.getElementById('test_list').options[document.getElementById('test_list').selectedIndex].value)">¤									<option value="undefined" #if($testManager=="undefined")selected#end>$garHelper.getText('spaceconfig.undefined')</option>¤									#foreach($user in $garUserHelper.getEditPermittedUsers($action.key))¤										#if ($user.name == $testManager)¤											<option value="$user.name" selected>$user.fullName</option>¤										#else¤											<option value="$user.name">$user.fullName</option>¤										#end¤									#end¤								</select>						¤							</td>¤							<td align="right"><span class="smalltext" style="font-size:9pt;" align="right">$garHelper.getText('spaceconfig.test.group'):</span></td>¤							<td>¤	        					<select id="test_group_list" tabindex="3" onChange="toggleTestGroup(document.getElementById('test_group_list').options[document.getElementById('test_group_list').selectedIndex].value)">¤	        						<option value="undefined" #if($testGroup=="undefined")selected#end>$garHelper.getText('spaceconfig.undefined')</option>¤	        						#foreach($group in $garUserHelper.getEditPermittedGroups($action.key))¤	        							#if ($group == $testGroup)¤	        								<option value="$group" selected>$group</option>¤	        							#else¤	        								<option value="$group">$group</option>¤	        							#end¤	        						#end¤	        					</select>¤        					</td>¤						</tr>¤						<tr>¤							<td align="right"><span class="smalltext" style="font-size:9pt;" align="right">$garHelper.getText('spaceconfig.test.analyst'):</span></td>¤							<td>¤								<select id="test_analyst_list" tabindex="3" onChange="toggleTestAnalyst(document.getElementById('test_analyst_list').options[document.getElementById('test_analyst_list').selectedIndex].value)">¤									<option value="undefined" #if($testAnalyst=="undefined")selected#end>$garHelper.getText('spaceconfig.undefined')</option>¤									#foreach($user in $garUserHelper.getEditPermittedUsers($action.key))¤										#if ($user.name == $testAnalyst)¤											<option value="$user.name" selected>$user.fullName</option>¤										#else¤											<option value="$user.name">$user.fullName</option>¤										#end¤									#end¤								</select>						¤							</td>¤							<td align="right"><span class="smalltext" style="font-size:9pt;" align="right">$garHelper.getText('spaceconfig.supervisor.group'):</span></td>¤							<td>¤	        					<select id="supervisor_group_list" tabindex="3" onChange="toggleSupervisorGroup(document.getElementById('supervisor_group_list').options[document.getElementById('supervisor_group_list').selectedIndex].value)">¤	        						<option value="undefined" #if($supervisorGroup=="undefined")selected#end>$garHelper.getText('spaceconfig.undefined')</option>¤	        						#foreach($group in $garUserHelper.getEditPermittedGroups($action.key))¤	        							#if ($group == $supervisorGroup)¤	        								<option value="$group" selected>$group</option>¤	        							#else¤	        								<option value="$group">$group</option>¤	        							#end¤	        						#end¤	        					</select>¤        					</td>¤						</tr>¤						<tr>¤							<td align="right"><span class="smalltext" style="font-size:9pt;" align="right">$garHelper.getText('spaceconfig.pr.manager'):</span></td>¤							<td>¤								<select id="pr_list" tabindex="3" onChange="togglePrManager(document.getElementById('pr_list').options[document.getElementById('pr_list').selectedIndex].value)">¤									<option value="undefined" #if($prManager=="undefined")selected#end>$garHelper.getText('spaceconfig.undefined')</option>¤									#foreach($user in $garUserHelper.getEditPermittedUsers($action.key))¤										#if ($user.name == $prManager)¤											<option value="$user.name" selected>$user.fullName</option>¤										#else¤											<option value="$user.name">$user.fullName</option>¤										#end¤									#end¤								</select>			¤							</td>¤							<td align="right"><span class="smalltext" style="font-size:9pt;" align="right">$garHelper.getText('spaceconfig.support.group'):</span></td>¤							<td>¤	        					<select id="support_group_list" tabindex="3" onChange="toggleSupportGroup(document.getElementById('support_group_list').options[document.getElementById('support_group_list').selectedIndex].value)">¤	        						<option value="undefined" #if($supportGroup=="undefined")selected#end>$garHelper.getText('spaceconfig.undefined')</option>¤	        						#foreach($group in $garUserHelper.getEditPermittedGroups($action.key))¤	        							#if ($group == $supportGroup)¤	        								<option value="$group" selected>$group</option>¤	        							#else¤	        								<option value="$group">$group</option>¤	        							#end¤	        						#end¤	        					</select>¤        					</td>¤						</tr>¤						<tr>¤							<td align="right"><span class="smalltext" style="font-size:9pt; padding-left:100px">$garHelper.getText('spaceconfig.analyst'):</span></td>¤							<td>¤								<select id="analyst_list" tabindex="3" onChange="toggleAnalystManager(document.getElementById('analyst_list').options[document.getElementById('analyst_list').selectedIndex].value)">¤									<option value="undefined" #if($analystManager=="undefined")selected#end>$garHelper.getText('spaceconfig.undefined')</option>¤									#foreach($user in $garUserHelper.getEditPermittedUsers($action.key))¤										#if ($user.name == $analystManager)¤											<option value="$user.name" selected>$user.fullName</option>¤										#else¤											<option value="$user.name">$user.fullName</option>¤										#end¤									#end¤								</select>¤							</td>¤							<td align="right"><span class="smalltext" style="font-size:9pt;" align="right">$garHelper.getText('spaceconfig.analyst.group'):</span></td>¤							<td>¤	        					<select id="analyst_group_list" tabindex="3" onChange="toggleAnalystGroup(document.getElementById('analyst_group_list').options[document.getElementById('analyst_group_list').selectedIndex].value)">¤	        						<option value="undefined" #if($analystGroup=="undefined")selected#end>$garHelper.getText('spaceconfig.undefined')</option>¤	        						#foreach($group in $garUserHelper.getEditPermittedGroups($action.key))¤	        							#if ($group == $analystGroup)¤	        								<option value="$group" selected>$group</option>¤	        							#else¤	        								<option value="$group">$group</option>¤	        							#end¤	        						#end¤	        					</select>¤        					</td>¤						</tr>¤						<tr>¤							<td align="right"><span class="smalltext" style="font-size:9pt; padding-left:100px">$garHelper.getText('spaceconfig.um.analyst'):</span></td>¤							<td>¤								<select id="umanalyst_list" tabindex="3" onChange="toggleUMAnalystManager(document.getElementById('umanalyst_list').options[document.getElementById('umanalyst_list').selectedIndex].value)">¤									<option value="undefined" #if($umAnalystManager=="undefined")selected#end>$garHelper.getText('spaceconfig.undefined')</option>¤									#foreach($user in $garUserHelper.getEditPermittedUsers($action.key))¤										#if ($user.name == $umAnalystManager)¤											<option value="$user.name" selected>$user.fullName</option>¤										#else¤											<option value="$user.name">$user.fullName</option>¤										#end¤									#end¤								</select>						¤							</td>¤							<td align="right"><span class="smalltext" style="font-size:9pt;" align="right">$garHelper.getText('spaceconfig.um.analyst.group'):</span></td>¤							<td>¤	        					<select id="um_analyst_group_list" tabindex="3" onChange="toggleUmAnalystGroup(document.getElementById('um_analyst_group_list').options[document.getElementById('um_analyst_group_list').selectedIndex].value)">¤	        						<option value="undefined" #if($umAnalystGroup=="undefined")selected#end>$garHelper.getText('spaceconfig.undefined')</option>¤	        						#foreach($group in $garUserHelper.getEditPermittedGroups($action.key))¤	        							#if ($group == $umAnalystGroup)¤	        								<option value="$group" selected>$group</option>¤	        							#else¤	        								<option value="$group">$group</option>¤	        							#end¤	        						#end¤	        					</select>¤        					</td>¤						</tr>¤						<tr>¤							<td align="right"><span class="smalltext" style="font-size:9pt; padding-left:100px">$garHelper.getText('spaceconfig.uo.analyst'):</span></td>¤							<td>¤								<select id="uoanalyst_list" tabindex="3" onChange="toggleUOAnalystManager(document.getElementById('uoanalyst_list').options[document.getElementById('uoanalyst_list').selectedIndex].value)">¤									<option value="undefined" #if($uoAnalystManager=="undefined")selected#end>$garHelper.getText('spaceconfig.undefined')</option>¤									#foreach($user in $garUserHelper.getEditPermittedUsers($action.key))¤										#if ($user.name == $uoAnalystManager)¤											<option value="$user.name" selected>$user.fullName</option>¤										#else¤											<option value="$user.name">$user.fullName</option>¤										#end¤									#end¤								</select>						¤							</td>¤							<td align="right"><span class="smalltext" style="font-size:9pt;" align="right">$garHelper.getText('spaceconfig.uo.analyst.group'):</span></td>¤							<td>¤	        					<select id="uo_analyst_group_list" tabindex="3" onChange="toggleUoAnalystGroup(document.getElementById('uo_analyst_group_list').options[document.getElementById('uo_analyst_group_list').selectedIndex].value)">¤	        						<option value="undefined" #if($uoAnalystGroup=="undefined")selected#end>$garHelper.getText('spaceconfig.undefined')</option>¤	        						#foreach($group in $garUserHelper.getEditPermittedGroups($action.key))¤	        							#if ($group == $uoAnalystGroup)¤	        								<option value="$group" selected>$group</option>¤	        							#else¤	        								<option value="$group">$group</option>¤	        							#end¤	        						#end¤	        					</select>¤        					</td>¤						</tr>¤						</table>¤					</td>¤				</tr>¤				<tr>¤        			<td colspan="3" style="width: 800px">¤        				<span class="formtitle" style="font-size:10pt;">$garHelper.getText('spaceconfig.select.importances'):</span>¤        			</td>¤        		</tr>¤        		<tr>¤        			<td colspan="3" style="border: 1px solid #cccccc; width: 800px">¤        				<div>¤        					#parse("/ConfluenceMDChange/RequestView/spaceconfig_requestimportances.vm")¤        				</div>¤        			</td>¤        		</tr>¤				<tr>¤					<td colspan="3" style="border: 1px solid #cccccc;">¤					<div>¤						<span class="formtitle" style="font-size:10pt;">$garHelper.getText('spaceconfig.automatically.close.discussions.on.close.requests'):</span>¤						<input id="CloseDiscussionsID" type="checkbox" #if(${enabledCloseDiscussions})checked="true"#end onClick="toggleDisabledCloseDiscussions(this.checked)"/>¤					</div>¤					</td>				¤				</tr>¤				<tr>¤					<td colspan="3" style="border: 1px solid #cccccc;">¤					<div><table><tr>¤						<td valign="top">¤							<table>¤							<tr><td><span class="formtitle" style="font-size:10pt;">$garHelper.getText('spaceconfig.repository.roots.main')</span></td></tr>¤							<tr><td><span class="smalltext"></br>$garHelper.getText('spaceconfig.repository.roots.small')</span></td></tr>¤						</table>¤						</td>¤						<td>¤							<textarea rows="5" cols="40" id="CVSRoots">$action.cvsroots</textarea>¤						</td>¤					</tr></table></div>¤					</td>				¤				</tr>¤				¤				<tr>¤					<td align="right" colspan="3"><input type=button value="$garHelper.getText('add.name')" onClick="toggleSave();"/>&nbsp;&nbsp;<input type=button value="$garHelper.getText('cancel.name')" onClick="location.replace('${req.contextPath}/spaces/spaceadmin.action?key=$action.key');"/></td>¤				</tr>¤				</table>¤			</div>¤		</div></form>¤			#end¤		#end¤</html>¤##UC_END*470B98A40133_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (vm)"
		    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/spaceconfig.vm")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (vm)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"19038870110"))
	    quid       	"470B98A40133"
	    documentation 	
|форма для настройки "запросной" функциональности внутри закладки Space Admin
	    
	    stereotype 	"VM"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"19016095564"))
		    quid       	"4B741C1B0181"
		    stereotype 	"include"
		    supplier   	"Logical View::MDProcess::ConfluenceMDChange::RequestView::spaceconfig_requestproperties"
		    quidu      	"480595A4009A")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"19016095941"))
		    quid       	"4B741C560349"
		    stereotype 	"include"
		    supplier   	"Logical View::MDProcess::ConfluenceMDChange::RequestView::spaceconfig_requestimportances"
		    quidu      	"4B741C2201B7"))
	    language   	"MDA Generator")
	(object Class "createrequest-selectpage"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (output.xml)"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"output.xml:*470B60AF03A4_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*470B60AF03A4_CUSTOM_CONTENT*¤<html>¤	<head>¤		<title>Select element</title>¤	</head>¤¤#*	¤	#applyDecorator("root")¤		#decoratorParam("helper" $action.helper)¤		#decoratorParam("infopanel-width" "25%")¤*#¤	¤	<body>¤		¤#*		¤	#set ($canSelectAllPages = "false")¤	#set ($canSelectReq = "false")¤	#set ($canSelectCode = "false")¤*#¤	¤	<script language="javascript">¤	function setCheckFilter(e) {¤		var current_url = "$req.getRequestURL()?pageId=$pageId&formname=$formname&fieldname=$fieldname&mode=$mode$urlSuffixWithFilters";¤		var new_fpg = "&filterPageGroup=" + e;¤		var new_url = current_url.replace (/&filterPageGroup=\w*/, new_fpg);¤		location.replace (new_url);¤	}¤	</script>¤	#set ($filterPanel = $action.getFilterPanel())¤	<table class="pageheader" border="0" width="100%">¤		<tr>¤			<td>¤				<span class="pagetitle">$action.getActionName($action.getClass().getName())</span>¤			</td> ¤			<td align="right">	¤				#parse ( "/selectpage-filter.vm" )¤			</td>¤		</tr>¤	</table>¤¤				¤  #includeJavascript('/includes/js/ajax.js')¤	<script language="javascript">¤		function populateForm(pageLink) {¤			//window.open("$req.contextPath/ru/garant/MDProcess/ConfluenceMDChange/RequestSupport/RequestXPlugin/RequestXPackage/createrequest.action?parentPageString=" + pageLink);¤			//window.close();¤			location.replace("$req.contextPath/ru/garant/MDProcess/ConfluenceMDChange/RequestSupport/RequestXPlugin/RequestXPackage/createrequest.action?spaceKey=" + pageLink.split(":")[0] + "&parentPageTitle=" + pageLink.split(":")[1]);¤		}¤				¤		function togglePlusMinus(e) {¤			if (e.src.indexOf("_plus.gif") != -1)¤				e.src = "$req.contextPath/images/icons/tree_minus.gif";¤			else¤				e.src = "$req.contextPath/images/icons/tree_plus.gif";¤		}¤		¤		function toggleChildren(id, urlSuffixWithFilters, mode) {¤			var childrenDiv = document.getElementById("children" + id);¤			// internet explorer uppercases HTML attributes¤			if (childrenDiv.innerHTML.indexOf("list-style-type") != -1 || childrenDiv.innerHTML.indexOf("LIST-STYLE-TYPE") != -1) {¤				// simply toggle the visibility of the children div now that we've already fetched it¤				if (childrenDiv.style.display == 'block' || childrenDiv.style.display == '')¤					childrenDiv.style.display = 'none';¤						else¤					childrenDiv.style.display = 'block';¤				} else {¤					// Set childrenDiv to indicate loading while xml http fetches the actual children list¤					childrenDiv.innerHTML = "<ul>Loading ...</ul>";¤					¤					xmlhttp = getXmlHttp();¤					xmlhttp.open("GET", "$req.contextPath/ru/garant/MDProcess/ConfluencePlugins/NavigationSupport/NavigationSupportPlugin/NavigationSupportXPackage/pagetreeopenbranch.action?pageId=" + id + "&mode=" + mode + urlSuffixWithFilters, true);¤					xmlhttp.onreadystatechange=function()¤					{¤						if (xmlhttp.readyState==4) {¤							childrenDiv.innerHTML = xmlhttp.responseText;¤							}¤					}¤					xmlhttp.send(null)¤				}¤			}¤	</script>¤¤    #parse ( "/template/includes/actionerrors.vm" )¤¤    #if ($actionErrors.size() == 0)¤¤        ¤        <table border=0 width="100%">¤        <tr><td>¤        <ul class="tabnav">¤        	<li class="tabs">¤        		<a href="$req.getRequestURI()?pageId=$pageId&formname=$formname&fieldname=$fieldname&filterPanelKey=$filterPanelKey&mode=search$urlSuffixWithFilters"  #if ($mode == 'search') class="current" #end>Search</a>¤          	<a href="$req.getRequestURI()?pageId=$pageId&formname=$formname&fieldname=$fieldname&filterPanelKey=$filterPanelKey&mode=history$urlSuffixWithFilters"  #if ($mode == 'history') class="current" #end>History</a>¤          	<a href="$req.getRequestURI()?pageId=$pageId&formname=$formname&fieldname=$fieldname&filterPanelKey=$filterPanelKey&mode=recent$urlSuffixWithFilters"  #if ($mode == 'recent') class="current" #end>Recently Modified</a>¤          	<a href="$req.getRequestURI()?pageId=$pageId&formname=$formname&fieldname=$fieldname&filterPanelKey=$filterPanelKey&mode=referring$urlSuffixWithFilters"  #if ($mode == 'referring') class="current" #end>Referring Pages</a>¤          	<a href="$req.getRequestURI()?pageId=$pageId&formname=$formname&fieldname=$fieldname&filterPanelKey=$filterPanelKey&mode=tree$urlSuffixWithFilters"  #if ($mode == 'tree') class="current" #end>Tree</a>¤          </li>¤        </ul>¤        <br class="after-tabnav">¤        </td></tr>¤        ¤        #if ($mode == 'search')¤¤            <tr><td>¤            <form action="$req.getRequestURI()" method="post">¤¤            #set ($actionNameStart = $req.getRequestURL().lastIndexOf('/') + 1)¤            #if ($req.getRequestURL().substring($actionNameStart) != 'selectpage.action')¤                #bodytag (Select "label='dest.space'" "name='searchQuery.spaceKey'" "list=availableSpaces" "listKey=key" "listValue=value" "theme='notable'") #param ("headerKey" "") #param ("headerValue" "All Spaces") #end¤            #else¤                $searchQuery.setSpaceKey($currentspace)¤                <input type="hidden" name="searchQuery.spaceKey" value="$currentspace">¤            #end¤            <input type="text" name="searchQuery.queryString" value="$generalUtil.escapeXml($!searchQuery.queryString)">&nbsp;<input type="submit" value="Search">¤            <input type="hidden" name="currentspace" value="$currentspace">¤            <input type="hidden" name="formname" value="$formname">¤            <input type="hidden" name="fieldname" value="$fieldname">¤            <input type="hidden" name="mode" value="$mode">¤            <input type="hidden" name="pageId" value="$pageId">¤            <input type="hidden" name="childrenOnly" value="$childrenOnly">¤            <input type="hidden" name="spaceOnly" value="$spaceOnly">¤            #foreach ($label in $action.filterLabels)¤            	<input type="hidden" name="filterLabels" value="$label">¤            #end¤            </form>¤            <p/>¤            #if ($query != "")¤                #bodytag (Component "template='general-pagelist.vm'")¤                    #param ("pages" "searchResults")¤                    #param ("thereAreNoPages" $action.getText("no.pages.found", [$generalUtil.escapeXml($searchQuery.queryString)]))¤                    #param ("insertLink" "true")¤                #end¤            #end¤¤            </td></tr>¤            </table>¤	      #elseif ($mode == 'tree')¤					<tr><td>	      ¤			    <div style="padding: 10px" class="pagecontent">¤			    #if ($action.getPageList().size() > 0)¤			    	<ul style="list-style-type: none; margin-left: 0; padding-left: 0">¤			    	#foreach ($page in $action.getPageList())¤			    		<li>#garnode ($page [])</li>¤			    	#end¤			    	</ul>¤			    #end¤			    </div>¤			    ¤			    </td></tr>¤			    </table>¤        #else¤					<tr><td>¤            #if ($mode == 'history')¤                #set($methodName = "historyPages")¤            #elseif ($mode == 'recent')¤                #set($methodName = "recentlyUpdatedPages")¤            #elseif ($mode == 'referring')¤                #set($methodName = "referringPages")¤            #else¤                #set($methodName = "historyPages")¤            #end¤¤            #bodytag (Component "template='general-pagelist.vm'")¤                #param ("pages" $methodName)¤                #param ("insertLink" "true")¤            #end¤            ¤			    </td></tr>¤			    </table>            ¤¤        #end¤    #end¤	</body>¤	¤#*¤	#end¤*#¤¤</html>¤##UC_END*470B60AF03A4_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/createrequest-selectpage|470B60AF03A4
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"vm:*470B60AF03A4_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*470B60AF03A4_CUSTOM_CONTENT*¤<html>¤	<head>¤		<title>$garHelper.getText('com.atlassian.confluence.user.actions.PagePickerAction.action.name')</title>¤	</head>¤¤¤	<body>¤	#requireResource("confluence.web.resources:ajs")¤	#parse ( "/ConfluencePlugins/SelectPageView/formparameters-selectpage.vm" )¤    #parse ("/breadcrumbs.vm")¤	<script language="javascript">¤	    function setCheckFilter(e, exclusive) {¤			var new_url = setBasePartCheckFilter(e, exclusive);¤		#if($action.redirectAction)¤			new_url+= "&redirectAction=$action.redirectAction";¤		#else¤			new_url+= "&redirectAction=ru/garant/MDProcess/ConfluenceMDChange/RequestSupport/RequestXPlugin/RequestXPackage/createrequest";¤		#end¤   	    	location.replace (new_url);¤	    }¤	    ¤	</script>¤	¤	#set ($filterPanel = $action.getFilterPanel())¤¤	#*¤	<table class="pageheader" border="0" width="100%" style="margin:-10px 0px">¤		<tr>¤			<td rowspan="2" valign="bottom" width="3%">¤				<div style="margin:0px 5px">#logoBlock($spaceKey)</div>¤			</td>¤			<td>¤				<span class="pagetitle">$garHelper.getText('com.atlassian.confluence.user.actions.PagePickerAction.action.name')</span>¤			</td> ¤			<td align="right">	¤				#parse ( "/ConfluencePlugins/PageView/selectpage-filter.vm" )¤			</td>¤		</tr>¤	</table>¤	*#¤¤¤	#includeJavascript('/includes/js/ajax.js')¤	<script language="javascript">¤		function populateForm(pageLink) {¤			location.replace(¤				"$req.contextPath/${action.redirectAction}.action?spaceKey="¤				+ encodeURIComponent(pageLink.split(":")[0])¤				+ "&parentPageTitle=" + encodeURIComponent(pageLink.split(":")[1])¤			);¤		}¤				¤		function togglePlusMinus(e) {¤			if (e.src.indexOf("_plus.gif") != -1)¤				e.src = "$req.contextPath/images/icons/tree_minus.gif";¤			else¤				e.src = "$req.contextPath/images/icons/tree_plus.gif";¤		}¤		¤		function toggleChildren(id, urlSuffixWithFilters, mode) {¤			var childrenDiv = document.getElementById("children" + id);¤			// internet explorer uppercases HTML attributes¤			if (childrenDiv.innerHTML.indexOf("list-style-type") != -1 || childrenDiv.innerHTML.indexOf("LIST-STYLE-TYPE") != -1) {¤				// simply toggle the visibility of the children div now that we've already fetched it¤				if (childrenDiv.style.display == 'block' || childrenDiv.style.display == '')¤					childrenDiv.style.display = 'none';¤						else¤					childrenDiv.style.display = 'block';¤				} else {¤					// Set childrenDiv to indicate loading while xml http fetches the actual children list¤					childrenDiv.innerHTML = "<ul>$garHelper.getText('loading.name') ...</ul>";¤					¤					jQuery.get("$req.contextPath/ru/garant/MDProcess/ConfluencePlugins/NavigationSupport/NavigationSupportPlugin/NavigationSupportXPackage/pagetreeopenbranch.action?pageId=" + id + "&mode=" + mode + urlSuffixWithFilters, function(data){¤  						childrenDiv.innerHTML = data;¤					});¤				}¤			}¤	</script>¤¤    #parse ( "/template/includes/actionerrors.vm" )¤¤    #if ($actionErrors.size() == 0)¤¤        <table border="0" cellpadding="0" cellspacing="0" width="99%">¤			<tr>¤				<td width="1%">¤					#logoBlock($spaceKey)¤                </td>¤				<td>¤					<span class="pagetitle">$garHelper.getText('com.atlassian.confluence.user.actions.PagePickerAction.action.name')</span>¤                </td>¤				<td align="right">¤					#parse ( "/ConfluencePlugins/PageView/selectpage-filter.vm" )¤				</td>¤            </tr>¤		</table>¤		¤        <table border=0 width="100%">¤        <tr><td width="99%">¤        <ul class="tabnav">¤        	<li class="tabs">¤			#if($action.redirectAction)¤				#set($redirect = "&redirectAction=$action.redirectAction")¤			#else¤				#set($redirect = "&redirectAction=ru/garant/MDProcess/ConfluenceMDChange/RequestSupport/RequestXPlugin/RequestXPackage/createrequest")¤			#end¤			¤¤       		<a href="$uriString?$pageString$formString fieldname=$fieldname&mode=search$urlSuffixWithFilters$redirect"  #if ($mode == 'search') class="current" #end>$garHelper.getText('com.atlassian.confluence.search.actions.SearchSiteAction.action.name')</a>¤          	<a href="$uriString?$pageString$formString fieldname=$fieldname&mode=history$urlSuffixWithFilters$redirect"  #if ($mode == 'history') class="current" #end>$garHelper.getText('history.name')</a>¤          	<a href="$uriString?$pageString$formString fieldname=$fieldname&mode=recent$urlSuffixWithFilters$redirect"  #if ($mode == 'recent') class="current" #end>$garHelper.getText('recently.modified')</a>¤			<a href="$uriString?$pageString$formString fieldname=$fieldname&mode=tree$urlSuffixWithFilters$redirect"  #if ($mode == 'tree') class="current" #end>$garHelper.getText('tree.heirarchy')</a>¤          </li>¤        </ul>¤        <br class="after-tabnav">¤        </td>¤		</tr>¤        ¤        #if ($mode == 'search')¤        <form name="insertlink">¤            <tr><td colspan="2">¤            <form action="$req.getRequestURI()" method="post">¤¤            #set ($actionNameStart = $req.getRequestURL().lastIndexOf('/') + 1)¤            #if ($req.getRequestURL().substring($actionNameStart) != 'selectpage.action')¤                #bodytag ("Select" "label='dest.space'" "name='searchQuery.spaceKey'" "list=availableSpaces" "listKey=key" "listValue=value" "theme='notable'") #param ("headerKey" "") #param ("headerValue" "All Spaces") #end¤            #else¤                $searchQuery.setSpaceKey($currentspace)¤                <input type="hidden" name="searchQuery.spaceKey" value="$currentspace">¤            #end¤            <input type="text" name="searchQuery.queryString" value="$generalUtil.escapeXml($!searchQuery.queryString)">&nbsp;<input type="submit" value="$garHelper.getText('search.name')">¤            <input type="hidden" name="currentspace" value="$currentspace">¤            #if($formname)¤			<input type="hidden" name="formname" value="$formname">¤            #end¤			<input type="hidden" name="fieldname" value="$fieldname">¤            <input type="hidden" name="mode" value="$mode">¤			#if($pageId != 0)¤            <input type="hidden" name="pageId" value="$pageId">¤			#end¤            <input type="hidden" name="childrenOnly" value="$childrenOnly">¤            <input type="hidden" name="spaceOnly" value="$spaceOnly">¤			<input type="hidden" name="filterPageGroup" value="$filterPageGroup">¤			<input type="hidden" name="filterPanelKey" value="$filterPanelKey">¤            #foreach ($label in $action.filterLabels)¤            	<input type="hidden" name="filterLabels" value="$label">¤			#end¤			#foreach ($label in $action.filterExclusivePageGroups)¤            	<input type="hidden" name="filterExclusivePageGroups" value="$label">¤			#end¤			<input type="hidden" name="initialized" value="$initialized">¤			<input type="hidden" name="redirectAction" value="ru/garant/MDProcess/ConfluenceMDChange/RequestSupport/RequestXPlugin/RequestXPackage/createrequest">¤            </form>¤            <p/>¤            #if ($query != "")¤                #bodytag ("Component" "template='general-pagelist.vm'")¤                    #param ("pages" "searchResults")¤                    #param ("thereAreNoPages" $garHelper.getText("no.pages.found", [$generalUtil.escapeXml($searchQuery.queryString)]))¤                    #param ("insertLink" "true")¤                #end¤            #end¤			#pagination($action.searchBean.paginationSupport "$uriString?$pageString$formString fieldname=$fieldname&mode=search$urlSuffixWithFilters$redirect&")¤            </td></tr>¤            </table>¤	      #elseif ($mode == 'tree')¤					<tr><td colspan="2">	      ¤			    <div style="padding: 10px" class="pagecontent">¤			    #if($formString.contains('edituvsquery'))#set($flagUvsQuery = true) #else #set($flagUvsQuery = false) #end¤			    #if ($action.getPageList().size() > 0)¤			    	#set($idsToExpand=$action.idsToExpandAsList)¤			    	<ul style="list-style-type: none; margin-left: 0; padding-left: 0">¤			    	#foreach ($page in $action.getPageList())¤			    		<li>#garnode ($page $idsToExpand $flagUvsQuery)</li>¤			    	#end¤			    	</ul>¤			    #else¤			    	$garHelper.getText('there.are.no.pages') 	¤			    #end¤			    </div>¤			    ¤			    </td></tr>¤			    </table>¤        #else¤					<tr><td colspan="2">¤            #if ($mode == 'history')¤                #set($methodName = "historyPages")¤            #elseif ($mode == 'recent')¤                #set($methodName = "recentlyUpdatedPages")¤            #elseif ($mode == 'referring')¤                #set($methodName = "referringPages")¤            #else¤                #set($methodName = "historyPages")¤            #end¤¤            #bodytag ("Component" "template='general-pagelist.vm'")¤                #param ("pages" $methodName)¤                #param ("insertLink" "true")¤            #end¤            ¤			    </td></tr>¤			    </table>            ¤¤        #end¤    </form>¤    #end ¤	</body>¤	¤</html>¤##UC_END*470B60AF03A4_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (vm)"
		    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/createrequest-selectpage.vm")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (vm)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"19038555181"))
	    quid       	"470B60AF03A4"
	    documentation 	"генерит HTML страницу для выбора связанной с запросом страницы"
	    stereotype 	"VM"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"19016096895"))
		    quid       	"4A23CC490022"
		    stereotype 	"include"
		    supplier   	"Logical View::MDProcess::ConfluencePlugins::SelectPageView::formparameters-selectpage"
		    quidu      	"4A237F120231"))
	    language   	"MDA Generator")
	(object Class "createrequest-form"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (output.xml)"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"output.xml:*4702393000B1_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*4702393000B1_CUSTOM_CONTENT*¤#set ($formname = "createpageform")¤¤#set ($pageTo = $req.getParameter("pageIdReturnTo"))¤#set ($isCommentTab = $req.getParameter("isCommentTab"))¤#set ($formaction = 'docreaterequest.action')¤¤#includeJavascript('/includes/js/ajax.js')¤<script type="text/javascript" language="JavaScript">¤#parse("/includes/js/createpage-js.vm")¤    ¤function onClose () {¤	var requestDataDiv = document.getElementById("requestDataSelector");¤	var parentPageTitle = document.getElementById("parentPageString").value;¤¤	requestDataDiv.innerHTML = "<ul>Load properties...</ul>";¤	¤	xmlhttp = getXmlHttp();¤	xmlhttp.open("GET", "$req.contextPath/ru/garant/MDProcess/ConfluenceMDChange/RequestSupport/RequestXPlugin/RequestXPackage/parentpagechanged.action?spaceKey=$action.spaceKey&parentPageTitle=" + parentPageTitle, true);¤	xmlhttp.onreadystatechange=function()¤	{¤		if (xmlhttp.readyState==4) {¤			requestDataDiv.innerHTML = xmlhttp.responseText;¤		}¤	}¤	xmlhttp.send(null);¤}¤¤</script>¤#includeJavascript('/editpage-javascript')¤¤¤<form id="$formname" name="$formname" method="POST" action="$formaction" class="marginlessForm">¤    #tag (Hidden "name='spaceKey'" "value=spaceKey")¤    #tag (Hidden "name='fromPageId'" "value='$fromPageId'")¤    #tag (Hidden "id=labelsShowing" "name='labelsShowing'" "value='false'")¤    #tag (Hidden "id=restrictionsShowing" "name='restrictionsShowing'"  "value='false'")¤    #tag (Hidden "id=locationShowing" "name='locationShowing'"  "value='false'")¤    #tag (Hidden "name='commentId'" "value='$commentId'")¤    #tag (Hidden "name='pageIdReturnTo'" "value='$pageIdReturnTo'")¤    #tag (Hidden "name='isCommentTab'" "value='$isCommentTab'")¤¤<script type="text/javascript">¤    var form = document.forms['$formname'];¤    form.onsubmit = pageFormSubmit;¤</script> ¤¤<div id="editBox">¤    <div id="headerRow">¤        <div style="float:left">¤        <!--title text field-->¤        <div style="margin-bottom:5px;">¤            #fielderror ('title')¤            #set ($linkCreation = $action.linkCreation)¤            #if( $linkCreation.equalsIgnoreCase( "true" ) || $linkCreation.equalsIgnoreCase( "yes" ) )¤                #bodytag (TextField "name='title'" "size=40" "tabindex=1" "theme='notable'")¤                    #param ("labelwidth" "100")¤                    #param ("tdcolor" "f0f0f0")¤                    #param ("cssClass" "pagetitle")¤                    #param ("disabled" true)¤                    #param ("tabindex" "1")¤                #end¤                #tag( Hidden "name='title'" "value=title" )¤                #tag( Hidden "name='linkCreation'" "value='true'" )¤            #else¤                <input type="text" name="title" size="60" tabindex="1"¤                    #if (!$textUtil.stringSet($action.title))¤                            value="$action.getText('untitled.page.title')" class="newpagetitle pagetitle"¤                    #else¤                        value="$generalUtil.htmlEncode($title)" class="pagetitle"¤                    #end¤                        onfocus="clearTitle(this)" onblur="focusOut(this, '$action.getText('untitled.page.title')')" />¤                #tag(Hidden "name='linkCreation'" "value='false'")¤            #end¤        </div>¤        #if ($textUtil.stringSet($action.title))¤            #tag (Hidden "id=titleWritten" "name='titleWritten'" "value='true'")¤        #else¤            #tag (Hidden "id=titleWritten" "name='titleWritten'" "value='false'")¤        #end¤        <!-- Start location section -->¤        #parse ("/pages/includes/page-location-form.vm")¤        <!-- End location section -->¤                ¤        <!-- Start request properties section -->¤        <div style="margin-top: 20px">¤        	#parse ("/request-data.vm")¤        </div>¤        <!-- End request properties section -->¤         </div>¤       ¤        <div>¤            #parse ("/pages/includes/captcha-form-elements.vm")¤        </div>¤¤        <!--content editor-->¤        <div class="inputSection">¤            <div id="editorDiv" style="width:100%">¤                <div class="submitButtons" style="float:right;">¤                    #parse ("/pages/includes/edit-page-submit-buttons.vm")¤                </div>¤                #bodytag (Component "name='content'" "template='wiki-textarea.vm'" "theme='notable'")¤                    #param ("formname" "$formname")¤                    #param ("spaceKey" "$generalUtil.urlEncode($spaceKey)")¤                    #param ("rows" 30)¤                    #param ("width" "100%")¤                    #param ("tabindex" "5")¤                    #param ("pageId" "$page.id")¤                    #param ("heartbeat" "false")¤                    #param ("draftType" "page")¤                    #param ("saveDrafts" "true")                ¤                #end¤            </div>¤        </div>¤¤        <!-- Page permissions -->¤        <div class="inputSection">¤            #parse ("/pages/includes/page-permissions-form.vm")¤        </div>¤¤        <div style="margin-top: 20px">¤            <div class="submitButtons">¤¤                #parse ("/pages/includes/edit-page-submit-buttons.vm")¤            </div>¤        </div>¤¤    </div>¤</div>¤</form>¤##UC_END*4702393000B1_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/createrequest-form|4702393000B1
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"vm:*4702393000B1_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*4702393000B1_CUSTOM_CONTENT*¤¤#bodytag ("Component" "template='content-editor.vm'" "theme='custom'")¤    #param ("formName" "createpageform")¤    #param ("formAction" "docreate${entityType}.action")¤    #param ("contentType" $contentType)¤    #param ("useContentPermissions" true)¤    #param ("useTemplate" true)¤    #param ("useLocationEditor" false)¤    #param ("useDatePicker" false)¤    #param ("mode" "create")¤    #param ("useContentLabels" false)¤    #param ("defaultContentTitle" $action.getText("untitled.${entityType}.title"))¤	¤	#param ("entityType" $entityType)¤	#param ("entityTemplatePath" "/ConfluenceMDChange/RequestView/request-data-selector.vm")¤#end¤¤##UC_END*4702393000B1_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (vm)"
		    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/createrequest-form.vm")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (vm)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"19039289190"))
	    quid       	"4702393000B1"
	    documentation 	"форма для ввода данных нового запроса"
	    stereotype 	"VM"
	    language   	"MDA Generator")
	(object Class "request-prop-include"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (output.xml)"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"output.xml:*475F874D031D_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*475F874D031D_CUSTOM_CONTENT*¤<script>¤¤function hideSelectorDiv(prefix) {¤	var elem_div = prefix + "_div";¤	var elem_edit_link = prefix + "_edit_link";¤	document.getElementById (elem_div).style.display = 'none';¤	document.getElementById (elem_edit_link).style.display = '';¤}¤¤function showSelectorDiv(prefix) {¤	var elem_div = prefix + "_div";¤	var elem_edit_link = prefix + "_edit_link";¤	document.getElementById (elem_div).style.display = '';¤	document.getElementById (elem_edit_link).style.display = 'none';¤}¤¤function toggleSelector(prefix) {¤	var elem_div = prefix + "_div";¤	if(document.getElementById (elem_div).style.display == 'none') {¤		showSelectorDiv(prefix);¤	} else {¤		hideSelectorDiv(prefix);¤		var curList = document.getElementById(prefix+"_list");¤		var selectedVal = curList.options[curList.selectedIndex].value;¤		doRequest (prefix, selectedVal);¤	}¤	return false;¤}¤¤function doRequest (valName, valValue) {¤	var reqPropDiv = document.getElementById("requestPropSelector");¤	reqPropDiv.innerHTML = "<ul>Changing ...</ul>";¤	¤	xmlhttp = getXmlHttp();¤	xmlhttp.open("GET", "$req.contextPath/ru/garant/MDProcess/ConfluenceMDChange/RequestSupport/RequestXPlugin/RequestXPackage/editrequest.action?requestId=${request.page.id}&"+valName+"="+valValue);¤	xmlhttp.onreadystatechange=function()¤	{¤		if (xmlhttp.readyState==4) {¤			reqPropDiv.innerHTML = xmlhttp.responseText;¤		}¤	}¤	xmlhttp.send(null);¤}¤¤function toggleEditBox(prefix) {¤	var elem_div = prefix + "_div";¤	if(document.getElementById (elem_div).style.display == 'none') {¤		showSelectorDiv(prefix);¤	} else {¤		hideSelectorDiv(prefix);¤		doRequest (prefix, document.getElementById(prefix+"_text").value);¤	}¤	return false;¤}¤¤</script>¤¤<div class="formtitle" style="padding-bottom: 3px; font-size: 16px;">Request properties</div>¤¤<form style="margin-top: 7px">¤	<span>Age: $request.age; Active: $request.inActiveTime (forecast: <span id="forecast_val">$request.forecastTime</span>)</span>¤	#if($request.canEditForecastTime($action.remoteUser))¤	<span id="forecast_selector" onclick="toggleEditBox('forecast')">¤	    <span id="forecast_edit_link" class="inline-control-link">EDIT</span>¤	</span>¤	#end		¤	<div id="forecast_div" style="border: 1px solid #cccccc; padding: 8px; align: center; background-color: #f0f0f0; display:none">¤		<table>¤			<tr>¤				<td nowrap><div class="formtitle" style="font-size: 14px;>Change time forecast:</div></td>¤				<td></td>¤				<td></td>¤				<td nowrap>#*Suggested forecast:*#</td>¤			</tr>¤			<tr>¤				<td align="right" nowrap>Enter new forecast:</td>¤				<td align="left">¤					<input id="forecast_text" type="text"/>¤				</td>¤				<td align="left">¤					<input type=button value="Done" onClick="toggleEditBox('forecast')"/>¤				</td>¤				<td>¤					#*¤					#foreach($popular_request_type in $garRequestHelper.getRecentAndPopularRequestTypes("$rdsSpaceKey", $rdsParentPage))¤						#if($velocityCount > 1), #end¤						#set($rticon = $garRequestHelper.getRequestTypeIcon("$popular_request_type.id"))¤						#if($rticon != "none")¤								<a href="" onClick="document.getElementById('request_type_list').value='$popular_request_type.id'; toggleRequestType('$popular_request_type.title'); return false;"><img src="${req.contextPath}$rticon" height=16 width=16 border=0 align=absmiddle></a>&nbsp;<a href="" onClick="document.getElementById('request_type_list').value='$popular_request_type.id'; toggleRequestType('$popular_request_type.title'); return false;"><span class="smalltext">($popular_request_type.title)</span></a>¤							#else¤								<a href="" onClick="document.getElementById('request_type_list').value='$popular_request_type.id'; toggleRequestType('$popular_request_type.title'); return false;"><span class="smalltext">$popular_request_type.title</span></a>¤							#end				¤					#end¤					*#¤				</td>¤			</tr>¤		</table>¤		<span class="smalltext">(предполагаемое время вводится в формате ХХw XXd XXh; например, что бы добавить два дня, четыре часа нужно ввести 2d 4h)</span>¤	</div>¤</form>¤¤<form style="margin-top: 7px">¤	<span>State:</span>¤	#if ($request.canEditState($action.remoteUser))	¤		<span id="event_selector" onclick="toggleSelector('event')">¤		    <span id="event_val">$request.state</span>¤		    <span id="event_edit_link" class="inline-control-link">EDIT</span>¤		</span>¤	#else¤		<span>$request.state</span>	¤	#end¤	<div id="event_div" style="border: 1px solid #cccccc; padding: 8px; align: center; background-color: #f0f0f0; display:none">¤		<table>¤			<tr>¤				<td nowrap><div class="formtitle" style="font-size: 14px;">Change state:</div></td>¤				<td></td>¤				<td></td>¤				<td nowrap>#*Suggested actions:*#</td>¤			</tr>¤			<tr>¤				<td align="right" nowrap>Available actions:</td>¤				<td align="left">¤					<select id="event_list" name="event" tabindex="3">¤						#foreach($ra in $request.events)¤							<option value="$ra.guid">$ra.title</option>¤						#end¤					</select>¤				</td>¤				<td align="left">¤					<input type=button value="Done" onClick="toggleSelector('event')"/>¤				</td>¤				<td>¤					#*¤					#foreach($popular_request_type in $garRequestHelper.getRecentAndPopularRequestTypes("$rdsSpaceKey", $rdsParentPage))¤						#if($velocityCount > 1), #end¤						#set($rticon = $garRequestHelper.getRequestTypeIcon("$popular_request_type.id"))¤						#if($rticon != "none")¤								<a href="" onClick="document.getElementById('request_type_list').value='$popular_request_type.id'; toggleRequestType('$popular_request_type.title'); return false;"><img src="${req.contextPath}$rticon" height=16 width=16 border=0 align=absmiddle></a>&nbsp;<a href="" onClick="document.getElementById('request_type_list').value='$popular_request_type.id'; toggleRequestType('$popular_request_type.title'); return false;"><span class="smalltext">($popular_request_type.title)</span></a>¤							#else¤								<a href="" onClick="document.getElementById('request_type_list').value='$popular_request_type.id'; toggleRequestType('$popular_request_type.title'); return false;"><span class="smalltext">$popular_request_type.title</span></a>¤							#end				¤					#end¤					*#¤				</td>¤			</tr>¤		</table>	¤	</div>¤</form>¤¤<form name="editowner" style="margin-top: 7px">¤	<span>Assigned to: #usernameLink($request.requestExecutor)</span>¤	#if ($request.canEditOwner($action.remoteUser))¤		<span id="owner_selector" onclick="toggleSelector('owner')">¤	    	<span id="owner_edit_link" class="inline-control-link">EDIT</span>¤		</span>¤	#end¤	<div id="owner_div" style="border: 1px solid #cccccc; padding: 8px; align: center; background-color: #f0f0f0; display:none">¤		<table>¤			<tr>¤				<td nowrap><div class="formtitle" style="font-size: 14px;">Change assignment:</div></td>¤				<td></td>¤				<td></td>¤				<td nowrap>#*Recently assign:*#</td>¤			</tr>¤			<tr>¤				<td align="right" nowrap>Select new assignment:</td>¤				<td align="left">¤					## SES: поиск отложили до лучших времен¤					#*¤					#bodytag (Component "theme='custom'" "name='owner_text'" "template='textfield-and-picker.vm'")¤						#param ("formName" "editowner")¤						#param ("buttonOff" "true")¤						#param ("windowProperties" "status=yes,resizable=yes,top=100,left=200,width=700,height=400,scrollbars=yes")¤						#param ("size" "20")¤						#param ("imgTitle" "$action.getText('find.users')")¤						#param ("searchAction" "openuserpicker.action")¤					#end¤					*#¤					<select id="owner_list" name="owner" tabindex="3">¤						#foreach($user in $request.userList)¤							<option value="$user.name">$user.fullName</option>¤						#end¤					</select>¤				</td>¤				<td align="left">¤					<input type=button value="Done" onClick="toggleSelector('owner')"/>¤				</td>¤				<td>¤					## TODO: Saggested assigned¤				</td>¤			</tr>¤		</table>	¤	</div>¤</form>¤¤<form style="margin-top: 7px">¤	<span>Importance:</span>¤	#if ($request.canEditImportance($action.remoteUser))¤		<span id="importance_selector" onclick="toggleSelector('importance')">¤		    <span id="importance_val">$request.importance.title</span>¤		    <span id="importance_edit_link" class="inline-control-link">EDIT</span>¤		</span>¤	#else¤		<span>$request.importance.title</span>¤	#end¤	<div id="importance_div" style="border: 1px solid #cccccc; padding: 8px; align: center; background-color: #f0f0f0; display:none">		¤		<table>¤			<tr>¤				<td nowrap><div class="formtitle" style="font-size: 14px;">Change importance</div></td>¤				<td></td>¤				<td></td>¤				<td nowrap>Suggested importance:</td>¤			</tr>¤			<tr>¤				<td align="right" nowrap>Select new value:</td>¤				<td align="left">¤					<select id="importance_list" name="importance" tabindex="3">¤					#foreach($request_importance in $request.importances)¤						<option value="$request_importance.id">$request_importance.title</option>¤					#end¤				</td>¤				<td align="left">¤					<input type=button value="Done" onClick="toggleSelector('importance')"/>¤				</td>¤				<td>¤				#foreach($popular_importance in $garRequestHelper.getRecentAndPopularImportance($request.page.spaceKey))¤					#if($velocityCount > 1), #end¤					#set($riicon = $garRequestHelper.getImportanceIcon("$popular_importance.id"))¤					#if($riicon != "none")¤						<a href="" onClick="document.getElementById('importance_list').value='$popular_importance.id'; toggleSelector('importance'); return false;"><img src="${req.contextPath}$riicon" height=16 width=16 border=0 align=absmiddle></a>&nbsp;<a href="" onClick="document.getElementById('importance_list').value='$popular_importance.id'; toggleSelector('importance'); return false;"><span class="smalltext">($popular_importance.title)</span></a>¤					#else¤						<a href="" onClick="document.getElementById('importance_list').value='$popular_importance.id'; toggleSelector('importance'); return false;"><span class="smalltext">$popular_importance.title</span></a>¤					#end¤				#end¤				</td>¤			</tr>¤		</table>¤	</div>¤</form>¤¤<form style="margin-top: 7px">¤	<span>Included in </span>¤	#set($pageRelease = $request.release)¤	#if ($pageRelease)¤		#contentHref($pageRelease)¤	#else¤		<span id="release_val">(undefined)</span>¤	#end	¤	¤	#if ($request.canEditRelease($action.remoteUser))¤		<span id="release_selector" onclick="toggleSelector('release')">¤			<span id="release_edit_link" class="inline-control-link">EDIT</span>¤		</span>¤	#end	¤	<div id="release_div" style="border: 1px solid #cccccc; padding: 8px; align: center; background-color: #f0f0f0; display:none">¤		<table>¤			<tr>¤				<td nowrap><div class="formtitle" style="font-size: 14px;">Change target release:</div></td>¤				<td></td>¤				<td></td>¤				<td nowrap>#*Suggested releases:*#</td>¤			</tr>¤			<tr>¤				<td align="right" nowrap>Parent release:</td>¤				<td align="left">¤					<select id="release_list">¤						#foreach($release in $request.availableReleases)¤							<option value="$release.id">$release.title</option>¤						#end¤					</select>¤				</td>¤				<td align="left">¤					<input type=button value="Done" onClick="toggleSelector('release')"/>¤				</td>¤				<td>¤					## TODO: Saggested assigned¤				</td>¤			</tr>¤		</table>	¤	</div>¤</form>¤##UC_END*475F874D031D_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/request-prop-include|475F874D031D
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"vm:*475F874D031D_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*475F874D031D_CUSTOM_CONTENT*¤#if($request.isRequest)¤	#set($requestHelper = $garRequestHelper)¤#elseif($request.isContract)¤	#set($requestHelper = $garContractHelper)¤#elseif($request.isCase)¤	#set($requestHelper = $garCaseHelper)¤#end¤¤#set($currentUser = $remoteUser.name)¤#set($currentSpace = $request.request.page.spaceKey)¤¤#set($requestParentPage = false)¤#set($requestParentPage = $request.request.page.parent)¤¤#set($requestSpaceKey = false)¤#set($requestSpaceKey = $request.request.page.space.key)¤¤#set($unacceptedForecast = $request.unacceptedForecastTime)¤#set($forecast = $request.forecastTime)¤¤#if($request.isCase && $request.isCaseReport)¤#set($rdsProlongation=$requestHelper.prolongations)¤#end¤¤¤#set($editPermission = $requestHelper.permissionManager.getEditPermissions($request.request, "$action.remoteUser.name"))¤#set($viewPermission = $requestHelper.permissionManager.getViewPermissions($request.request, "$action.remoteUser.name"))¤¤#if($request.isRequest)¤	#parse("/ConfluenceMDChange/RequestView/request-prop-include-js.vm")¤	#set($autoCompleteProvider = $garAutoCompleteProviderManager.getProvider("REQUEST_${spaceKey}"))¤#elseif($request.isContract)¤	#parse("/ContractChange/ContractView/contract-prop-include-js.vm")¤	#set($autoCompleteProvider = $garAutoCompleteProviderManager.getProvider("CONTRACT_${spaceKey}"))¤#elseif($request.isCase)¤	#parse("/CaseAgreementChange/CaseView/case-prop-include-js.vm")¤	#set($autoCompleteProvider = $garAutoCompleteProviderManager.getProvider("CASE_${spaceKey}"))¤#end¤¤¤<form id="parentPageForm">¤	<input type="hidden" name="newParentPageTitle" id="newParentPageTitle"/>¤	<input type="hidden" name="newParentPageSpaceKey" id="newParentPageSpaceKey"/>¤	<input type="hidden" name="newParentPageIsRequest" id="newParentPageIsRequest"/>¤</form>¤¤<div id="msgAboutChanging" style="display:none"></div>¤¤<div id="msgValidateFailed" class="error gar-validation-message" style="display:none"></div>¤¤<!--BEGIN REQUEST EDIT PANEL-->¤<div id="editPropertiesPanel" class="gar-property-panel" style="background-color: $requestHelper.getRequestFormBackgroundColor($request.request.page.id);">¤<script type="text/javascript" language="JavaScript">¤	toInit(function() { $('editPropertiesPanel').onkeydown=submitEnter; });¤	toInit(setMainPanelWidth);¤</script>¤¤    #set($userGroups = $garUserHelper.getGroupsByUser($action.remoteUser))¤    #set($pageLabelIdList = $requestHelper.getPageLabelIds($request.request.page))¤    #set($userProperties = $request.getUserPropertyList($userGroups))¤    #if($userProperties.size() > 0)¤        <div style="float:right; width:30%; margin-top:12px;">¤            <span class="formtitle" style="font-size: 14px;" onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.userprop')" onmouseout="UnTip()">$garHelper.getText('requestpropinclude.user.properties')</span>¤            <span style="font-size: normal;">¤                #foreach($userProperty in $userProperties)¤                    #if($userGroups.contains($userProperty.groupToUpdate))¤                        #set($disabled="")¤                    #else¤                        #set($disabled="disabled='true'")¤                    #end¤                    #if($pageLabelIdList.contains($userProperty.labelId))¤                        #set($checked="checked")¤                    #else¤                        #set($checked="")¤                    #end¤                    <br>¤                    <input id="idUserProp$userProperty.labelId" name="nameUserProp$userProperty.labelId" style="margin-top: 7px;"¤                        onclick="doUserPropertyLabel('$request.request.page.id', '$userProperty.labelId', this); return true;" ¤                        type="checkbox" $checked $disabled¤                    >¤                    <label for="userProp$userProperty.labelId" style="font-weight:normal; color:black;">$userProperty.name</label>¤                #end¤            </span>¤            <div id="imgAboutChangingUserProperty" style="float:right; display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif">&nbsp;<span id="msgAboutChangingUserProperty" class="smalltext" style="vertical-align: middle"></span></div>¤        </div>¤    #end¤¤#if($request.isCase && $request.hasCaseFile)¤	<div style="float:right">¤		<a href="$request.caseFileLink">#iconByObject($garIcon.getTypeIcon('forgui_attached_contract'))</a>¤	</div>¤#end¤	¤<div class="gar-property-sub-panel">¤¤<form class="gar-editpanel">¤#if ($request.isContract)¤<span class="formtitle gar-formtitle" onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.type.contract')" onmouseout="UnTip()">$request.title&nbsp;#iconByObject($garIcon.getGarIcon($request.request.page))</span>¤#elseif($request.isCase)¤<span class="formtitle gar-formtitle" onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.type.case')" onmouseout="UnTip()">$request.title&nbsp;#iconByObject($garIcon.getGarIcon($request.request.page))</span>¤#else¤<span class="formtitle gar-formtitle" onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.type.request')" onmouseout="UnTip()">$request.title&nbsp;#iconByObject($garIcon.getGarIcon($request.request.page))</span>¤#end¤	#if ($editPermission.type)	¤		<span id="type_selector" onclick="showUpdateCtrl('type')">¤		    <span id="type_edit_link" class="inline-control-link fontSizeTiny" style="color:black; background-color: $requestHelper.getRequestFormChangeTypeColor($request.request.page.id)">$garHelper.getText('requestpropinclude.change.type')</span>¤		</span>¤	#end¤	<div id="type_div" class="gar-editpanel-background" style="display:none">¤		<table style="width: 100%">¤			<tr>¤				<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">$garHelper.getText('requestdataselector.change.type.request')</div></td>¤				<td nowrap style="width:30%">#* :*#</td>¤				<td style="width:5%" align="right"><a onClick="doCloseDiv('type'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤				<td align="right" nowrap style="width:30%">$garHelper.getText('requestdataselector.select.type'):</td>¤				<td align="left" style="width:50%">¤					<select id="type_list" name="type" tabindex="3" style="width:100%">¤						#foreach($ra in $requestHelper.getRequestTypesForPage($action.remoteUser, $requestParentPage))¤							#if($ra.id == $request.request.type.id)¤								<option value="$ra.id" selected>$ra.title</option>						¤							#else¤								<option value="$ra.id">$ra.title</option>¤							#end¤						#end¤					</select>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('type')" id="type_button_done"/>¤					<span id="type_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤				</td>¤				<td></td>¤				<td></td>¤			</tr>¤		</table>¤	</div>¤</form>¤¤<form id="location_request_form" class="gar-editpanel">¤	#if($requestParentPage)¤		<span><span onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.linkedto')" onmouseout="UnTip()">$garHelper.getText('requestpropinclude.attached.to'):</span> #contentIcon($requestParentPage) #contentHref($requestParentPage)</span>¤	#else¤		<span onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.linkedto')" onmouseout="UnTip()">$garHelper.getText('requestpropinclude.no.parent.page')</span>¤	#end¤	#if ($editPermission.locationSpace)¤		<span id="location_request_selector" onclick="showUpdateCtrl('location_request')">¤		    <span id="location_request_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤		</span>¤	#end¤	<div id="location_request_div" class="gar-editpanel-background" style="display:none">¤		<table style="width: 100%">¤			<tr>¤				<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">$garHelper.getText('requestpropinclude.change.location.request')</div></td>¤				<td nowrap style="width:30%"></td>¤				<td style="width:5%" align="right"><a onClick="doCloseDiv('location_request'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤			<tr>¤				<td colspan="2" align="left" nowrap style="width:80%">¤					#set($moveHierarchy = true)¤					#set($formname = "location_request_form")¤					#set($newSpaceKeyRequest = $request.request.page.spaceKey)¤					#set($parentPageStringRequest = $requestParentPage.title)¤¤					#parse("/ConfluenceMDChange/RequestView/request-location-form.vm")¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="if($('parentPageStringRequest').value == '')$('newParentPageTitle').value = 'no_value'; toggleAll('location_request');$('newParentPageTitle').value = '';" id="location_request_button_done"/>¤					<span id="location_request_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤				</td>¤				<td></td>¤			<td></td>¤			</tr>¤		</table>¤	</div>¤</form>¤¤#if($request.isRequest && $viewPermission.findIn)¤	¤#set($findinData = $request.findInRelease)¤	¤#set($findingInReleaseControlId = "findInRelease_list")¤#set($buildListControlId = "findInBuild_list")¤#set($findInReleaseValControlId = "findin_release_val")¤#set($findInBuildValControlId = "findin_build_val")¤#set($requestSpaceKey = $currentSpace)¤#set($findInContentContainerId="findin_release_content_container")¤#set($findInLoadingContainerId="findin_release_loading_container")¤¤#set($selectedFindInReleaseId = false)¤#set($selectedFindInBuildId = false)¤#if($findinData.size() > 0)¤	#if($findinData.get(0))¤		#set($selectedFindInReleaseId = $findinData.get(0).id)¤	#end¤	#if($findinData.get(1))¤		#set($selectedFindInBuildId = $findinData.get(1).id)¤	#end¤#end¤¤#parse("/ConfluenceMDChange/RequestView/request-data-findin.vm")¤¤<form class="gar-editpanel">¤	<span>$garHelper.getText('requestdataselector.find.in'):&nbsp;</span>¤	#if ($editPermission.findIn)¤    	<span id="findInBuild_selector">¤    	    <span>¤			#if($findinData.size() > 0)¤				<a id="findin_release_val" href="$req.contextPath/pages/viewpage.action?pageId=$findinData.get(0).id" >#if($findinData.get(0))$findinData.get(0).title#end</a>&nbsp;¤				<a id="findin_build_val" href="$req.contextPath/pages/viewpage.action?pageId=$findinData.get(1).id" >#if($findinData.get(1))$findinData.get(1).shortTitle#end</a>¤			#else¤			    <a id="findin_release_val"></a>&nbsp;¤				<a id="findin_build_val"></a>¤			#end¤			</span>¤    	    <span id="findInBuild_edit_link" class="inline-control-link fontSizeTiny" onclick="$('hidden_findin_data').innerHTML=$('findInBuild_selector').innerHTML;showUpdateCtrl('findInBuild')">$garHelper.getText('edit.name.caps')</span>¤    	</span>¤	#else¤		#if($findinData.size() > 0)¤			<span id="findInBuild_selector">¤				<a href="$req.contextPath/pages/viewpage.action?pageId=$findinData.get(0).id">#if($findinData.get(0))$findinData.get(0).title#end</a>&nbsp;¤				<a href="$req.contextPath/pages/viewpage.action?pageId=$findinData.get(1).id">#if($findinData.get(1))$findinData.get(1).shortTitle#end</a>¤			</span>¤		#else¤			<span id="findInBuild_selector">$garHelper.getText('requestpropinclude.undefined')</span>¤		#end¤	#end¤	<span id="hidden_findin_data" style="display:none"></span>¤	<span id="findin_release_loading_container" style="display:none">¤		&nbsp;<img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"/>¤	</span>¤	<span id="findin_release_content_container">¤	<div id="findInBuild_div" class="gar-editpanel-background" style="display:none">¤		<table style="width: 100%">¤			<tr>¤				<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">$garHelper.getText('requestdataselector.change.release.with.error')</div></td>¤				<td nowrap style="width:30%"></td>¤				<td style="width:5%" align="right"><a onClick="toggleDiscard(); doCloseDiv('findInBuild'); return false" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap style="width:30%">$garHelper.getText('requestdataselector.select.release'):</td>¤				<td align="left" style="width:40%">¤					<select id="findInRelease_list" onChange="toggleFindInRelease()" style="width:100%">¤					</select>¤				</td>¤			</tr>¤			<tr>¤				<td align="right" nowrap style="width:30%">$garHelper.getText('requestdataselector.assembling'):</td>¤				<td align="left" style="width:40%">¤					<select id="findInBuild_list" onChange="toggleFindInBuild()" style="width:100%">¤					</select>¤				</td>¤			</tr>¤			<tr>¤				<td align="right" colspan="3">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('findInBuild')" id="findInBuild_button_done"/>¤					<span id="findInBuild_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤				</td>¤			</tr>¤		</table>¤	</div>¤	</span>¤</form>¤#end¤¤#if($viewPermission.externalAuthors)¤¤#set($requestExternalAuthors = $request.request.ExternalAuthors)¤#set($eaEditContainerControlId = "external_author_edit_container")¤#set($eaPreviewContainerControlId = "external_author_preview_container")¤#set($eaValidationContainerId = "external_author_validation_container")¤#set($buildAllEa = $editPermission.externalAuthors)¤#parse("/ConfluenceMDChange/RequestView/request-data-external-author.vm")¤¤<script type="text/javascript" language="JavaScript">¤	toInit(createEaPanels, reCreateEaPanels);¤</script>¤¤<form class="gar-editpanel">¤	<span>$garHelper.getText('requestdataselector.external.authors'):</span>¤	<span id="external_author">¤		<span id="external_author_preview_container"></span>¤		#if ($editPermission.externalAuthors)¤	    <span id="external_author_edit_link" class="inline-control-link fontSizeTiny" onclick="showUpdateCtrl('external_author'); $('external_author_preview_container').style.display='none'">$garHelper.getText('edit.name.caps')</span>¤		#end¤	</span>¤	<div id="external_author_div" class="gar-editpanel-background" style="display:none">¤		<span class="formtitle" style="font-size: 14px;">$garHelper.getText('requestdataselector.change.external.authors')</span>¤		<span id="external_author_add_link" class="inline-control-link fontSizeTiny" onClick="addNewExternalAuthor()">$garHelper.getText('add.word.caps')</span><br/>¤		<div class="error" style="display:none;padding:2px" id="external_author_validation_container"></div>¤		<span id="external_author_edit_container"></span>¤		<br/>¤		<input type=button value="$garHelper.getText('done.word')" id="external_author_button_done" onClick="toggleAll('external_author')"/>¤	</div>¤</form>¤#end¤¤#if($request.isCase && $request.isCaseReport)¤<div class="gar-editpanel">¤	<span>&#1055;&#1088;&#1086;&#1076;&#1083;&#1077;&#1085;&#1080;&#1077;:</span>¤	#if ($editPermission.prolongation)¤		<span id="prolongation_selector" onclick="showUpdateCtrl('prolongation')">¤		    <span id="prolongation_val">$request.prolongationTitle</span>¤	    	<span id="prolongation_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤		</span>¤	#else¤		<span>$request.prolongationTitle</span>¤	#end¤	<div id="prolongation_div" class="gar-editpanel-background" style="display:none">¤		<table>¤			<tr>¤				<td nowrap>¤					<div class="formtitle gar-formtitle">&#1048;&#1079;&#1084;&#1077;&#1085;&#1080;&#1090;&#1100;&#32;&#1087;&#1088;&#1086;&#1076;&#1083;&#1077;&#1085;&#1080;&#1077;</div>¤				</td>¤				<td></td>¤				<td></td>¤				<td></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap>&#1042;&#1099;&#1073;&#1077;&#1088;&#1080;&#1090;&#1077;&#32;&#1087;&#1088;&#1086;&#1076;&#1083;&#1077;&#1085;&#1080;&#1077;:</td>¤				<td align="left">¤					<select id="prolongation_list" name="prolongation" tabindex="3" onChange="$('prolongation_val').innerHTML=this.options[this.selectedIndex].text">¤					#foreach($prolongation in $rdsProlongation)¤						<option value="$prolongation.id"#if($prolongation.title == $!request.prolongation.title) selected#end>$prolongation.title</option>¤					#end¤					</select>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('prolongation')"/>¤				</td>¤				<td>¤				</td>¤			</tr>¤		</table>	¤	</div>¤</div>¤#end¤¤<form class="gar-editpanel">¤#if($request.isContract)¤	<span onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.importance.contract')" onmouseout="UnTip()">$garHelper.getText('requestdataselector.importance'):</span>¤#else¤	<span onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.importance.request')" onmouseout="UnTip()">$garHelper.getText('requestdataselector.importance'):</span>¤#end¤	#if ($editPermission.importance)¤		<span id="importance_selector" onclick="showUpdateCtrl('importance')">¤		    <span id="importance_val">$request.importance.title</span>¤		    <span id="importance_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤		</span>¤	#else¤		<span>$request.importance.title</span>¤	#end¤	<div id="importance_div" class="gar-editpanel-background" style="display:none">		¤		<table style="width: 100%">¤			<tr>¤				<td nowrap style="width:65%" colspan="3"><div class="formtitle gar-formtitle">$garHelper.getText('requestdataselector.change.importance')</div></td>¤				<td nowrap style="width:30%" align="left">$garHelper.getText('requestdataselector.often.used.values'):</td>¤				<td style="width:5%" align="right"><a onClick="doCloseDiv('importance'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap style="width:20%">$garHelper.getText('requestdataselector.select.importance'):</td>¤				<td align="left" style="width:30%">¤					<select id="importance_list" name="importance" tabindex="3" style="width:100%">¤					#foreach($request_importance in $requestHelper.getImportances($requestSpaceKey))¤						#if($request_importance.title == $request.importance.title)¤						<option value="$request_importance.id" selected>$request_importance.title</option>¤						#else¤						<option value="$request_importance.id">$request_importance.title</option>¤						#end¤					#end¤					</select>¤				</td>¤				<td align="left" width="15%" nowrap>¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('importance')" id="importance_button_done"/>¤					<span id="importance_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤				</td>¤				<td style="width:35%">¤				#set($hasImportances = false)¤				#foreach($popular_importance in $requestHelper.getImportances($requestSpaceKey))¤					#if($velocityCount > 1), </div>#end¤					#set($riicon = $popular_importance.image)¤					#set($hasImportances = true)¤					<div>¤					#if($riicon != "none")¤						<a href="" onClick="toggleSuggested('importance', $popular_importance.id); return false;"><img src="${req.contextPath}$riicon" height=16 width=16 border=0 align=absmiddle></a>&nbsp;<a href="" onClick="toggleSuggested('importance', $popular_importance.id); return false;"><span class="smalltext">($popular_importance.title)</span></a>¤					#else¤						<a href="" onClick="toggleSuggested('importance', $popular_importance.id); return false;"><span class="smalltext">$popular_importance.title</span></a>¤					#end¤				#end¤				#if($hasImportances == true)¤				</div>¤				#end¤				</td>¤			</tr>¤		</table>¤	</div>¤</form>¤¤#if($request.isContract)¤<form class="gar-editpanel">¤¤	<div class="gar-editpanel__limit-time">¤		<span>Закончить утверждение до:</span>¤		<span>$!request.limitTime</span>¤¤¤		#if($editPermission.limitTime)¤		<span id="limitTime_selector">¤			<span id="limitTime_edit_link" class="inline-control-link fontSizeTiny" onclick="showUpdateCtrl('limitTime')">$garHelper.getText('edit.name.caps')</span>¤		</span>¤		#end¤		¤		<div id="limitTime_div" class="gar-editpanel-background" style="display:none">¤			<table style="width:100%;">¤				<tr>¤					<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">Изменить срок утверждения</div></td>¤					<td nowrap style="width:30%">#*????? ???????????? ????????:*#</td>¤					<td style="width:5%" align="right"><a onClick="doCloseDiv('limitTime'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤				</tr>¤				<tr>¤					<td align="right" nowrap style="width:30%">Новая дата:</td>¤					<td align="left" style="width:50%">¤						<input id="limitTime_text" type="text" style="width:160px" maxlength="50"/>¤¤						<script type="text/javascript" language="JavaScript">¤							toInit(function() {¤								garCalendar.setup({¤									inputField : "limitTime_text",¤									ifFormat : "%d.%m.%Y %H:%M",¤									showsTime : true,¤									step : 1¤								});¤							});¤						</script>						¤					</td>¤					<td align="left">¤						<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('limitTime')" id="limitTime_button_done"/>¤						<span id="limitTime_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤					</td>¤				</tr>¤				<tr nowrap>¤					<td colspan="3">¤						<span class="smalltext">(указывается в формате ДД.ММ.ГГГГ HH:MM; например, 01.02.2015 13:30)</span>¤					</td>¤				</tr>¤			</table>¤		</div>		¤¤	</div>¤</form>¤¤<form class="gar-editpanel">¤	<span onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.contract.price')" onmouseout="UnTip()">$garHelper.getText('requestpropinclude.contract.price'):</span>¤	<span id="contract_price_id">$!request.contractPrice</span>¤	#if($editPermission.contractPrice)¤		<span id="contractPrice_selector">¤			<span id="contractPrice_edit_link" class="inline-control-link fontSizeTiny" onclick="showUpdateCtrl('contractPrice')">$garHelper.getText('edit.name.caps')</span>¤		</span>¤	#end		¤¤	<div id="contractPrice_div" class="gar-editpanel-background" style="display:none">¤		<table style="width:100%;">¤			<tr>¤				<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">$garHelper.getText('requestpropinclude.change.contract.price')</div></td>¤				<td nowrap style="width:30%">#* :*#</td>¤				<td style="width:5%" align="right"><a onClick="doCloseDiv('contractPrice'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap style="width:30%">$garHelper.getText('requestpropinclude.new.contract.price'):</td>¤				<td align="left" style="width:50%">¤					<input id="contractPrice_text" type="text" style="width:99%" maxlength="50"/>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('contractPrice')" id="contractPrice_button_done"/>¤					<span id="contractPrice_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤				</td>¤			</tr>¤			<tr nowrap>¤				<td colspan="3">¤					<span class="smalltext">($garHelper.getText('requestpropinclude.contract.price.not.be.taxable.nds'))</span>¤				</td>¤			</tr>¤		</table>¤	</div>¤</form>¤¤<form style="margin-top: 7px">¤	<span>$garHelper.getText('requestdataselector.contract.empower.important'):</span>¤	<input type="checkbox" ¤	   name="empower_important_checkbox_name" ¤	   value=$request.request.empowerImportant ¤	   id="empowerImportant_checkbox_id" ¤	   onclick="toggleEmpowerImportant((this.checked)?true:false)"  #if($request.request.empowerImportant)checked#end¤	   #if (!$editPermission.empowerImportant)disabled="true"#end¤	>¤</form>¤¤#end¤¤¤<script type="text/javascript" language="JavaScript">¤	toInit(showNewParentDialogButton);¤</script>¤<form class="gar-editpanel">¤#if($request.isContract)¤	<span onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.state.contract')" onmouseout="UnTip()">$garHelper.getText('phase.name'):</span>¤#else¤	<span onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.state.request')" onmouseout="UnTip()">$garHelper.getText('phase.name'):</span>¤#end¤	#if ($editPermission.state)	¤		<span id="event_selector" onclick="showUpdateCtrl('event')">¤		    <span id="event_val">$request.state</span>¤		    <span id="event_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤		</span>¤	#else¤		<span>$request.state</span>	¤	#end¤	<div id="event_div" class="gar-editpanel-background" style="display:none">¤		<table style="width: 100%">¤			<tr>¤				<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">$garHelper.getText('change.phase.release')</div></td>¤				<td nowrap style="width:30%"></td>¤				<td colspan="2" style="width:5%" align="right"><a onClick="doCloseDiv('event'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤			<tr>¤				<td align="right" id="event_list_title" nowrap style="width:30%">$garHelper.getText('possible.actions'):</td>¤				<td align="left" style="width:50%" id="event_list_cell">¤					<select id="event_list" name="event" tabindex="3" style="width:100%; visibility:visible" onchange="checkEvent(getEventGuid())">¤						#foreach($ra in $request.request.availableEvents)¤							<option value="$ra.guid">$ra.title</option>¤						#end¤					</select>¤				</td>¤				<td align="left" id="event_button_done_row">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('event')" id="event_button_done"/>¤					<span id="event_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤					<br/>¤					<a id="new_parent_dialog_button" href="javascript:return false;" onClick="return tryShowNewParentDialog(getEventGuid())">¤						<span class="smalltext">$garHelper.getText('requestpropinclude.select.reserved.request')</span>¤					</a>¤				</td>¤			</tr>¤#if($request.isCase && $request.hasProlongationDecision)¤			<tr>¤				<td align="right" id="prolongationDecision_list_title" nowrap style="width:30%">&#1056;&#1077;&#1096;&#1077;&#1085;&#1080;&#1077;:</td>¤				<td align="left" style="width:50%" id="prolongationDecision_list_cell">¤					<select id="prolongationDecision_list" name="event" tabindex="3" style="width:100%">¤						<option value=""></option>¤						#foreach($ra in $request.decisions)¤							<option value="$ra.guid">$ra.title</option>¤						#end¤					</select>¤				</td>¤			</tr>¤#end¤			<tr id="event_decision_row" style="display:none">¤				<td align="right" valign="top">¤					<span>$garHelper.getText('requestpropinclude.show.reson'):</span><br/>				¤				</td>¤				<td width="100%" colspan="2">¤					<textarea ID='executor_event_comment' WRAP="virtual" COLS="30" ROWS="5"></textarea>¤				</td>¤            </tr>¤			<tr id="priority_info_row" style="display:none">¤				<td id="event_list_archive_cell" style="display:none" width="100%" colspan="3">¤					<div id="priorityCalculationType_div">¤					<span>$garHelper.getText('requestpropinclude.select.priority.request.of.list.suspended'):</span><br/>¤					<input type="radio" name="priorityCalculationType" value="" checked onclick="$('priorityCalculationType_text').value = this.value"/>$garHelper.getText('requestpropinclude.default')<br>			¤					<input type="radio" name="priorityCalculationType" value="STATE_TOP" onclick="$('priorityCalculationType_text').value = this.value"/>$garHelper.getText('requestpropinclude.up')<br>¤    				<input type="radio" name="priorityCalculationType" value="STATE_MIDDLE" onclick="$('priorityCalculationType_text').value = this.value"/>$garHelper.getText('requestpropinclude.middle')<br>¤					<input type="radio" name="priorityCalculationType" value="STATE_BOTTOM" onclick="$('priorityCalculationType_text').value = this.value"/>$garHelper.getText('requestpropinclude.down')					¤					<input type="hidden" name="priorityCalculationType" id="priorityCalculationType_text" value=""/>¤					</div>¤				</td>¤				<td id="event_list_assign_cell" style="display:none" width="100%" colspan="3">¤					<div id="releasePriorityCalculationType_div">¤					<span>$garHelper.getText('requestpropinclude.select.priority.request.of.this.release'):</span><br/>¤					<input type="radio" name="releasePriorityCalculationType" value="RELEASE_IMMEDIATE_FIRST" onclick="$('releasePriorityCalculationType_text').value = this.value"/>$garHelper.getText('requestpropinclude.first.in.primary.group')<br>			¤					<input type="radio" name="releasePriorityCalculationType" value="RELEASE_IMMEDIATE_LAST" onclick="$('releasePriorityCalculationType_text').value = this.value"/>$garHelper.getText('requestpropinclude.last.in.primary.group')<br>		¤					<input type="radio" name="releasePriorityCalculationType" value="RELEASE_NOT_IMMEDIATE_FIRST" onclick="$('releasePriorityCalculationType_text').value = this.value"/>$garHelper.getText('requestpropinclude.first.in.secondary.group')<br>			¤					<input type="radio" name="releasePriorityCalculationType" value="RELEASE_NOT_IMMEDIATE_LAST" onclick="$('releasePriorityCalculationType_text').value = this.value"/>$garHelper.getText('requestpropinclude.last.in.secondary.group')<br>¤					<input type="radio" name="releasePriorityCalculationType" value="RELEASE_IMPORTANCE_FIRST" onclick="$('releasePriorityCalculationType_text').value = this.value"/>$garHelper.getText('requestpropinclude.up.according.importance')<br>¤					<input type="radio" name="releasePriorityCalculationType" value="RELEASE_IMPORTANCE_LAST" checked onclick="$('releasePriorityCalculationType_text').value = this.value"/>$garHelper.getText('requestpropinclude.down.according.importance')<br>¤					¤					<input type="hidden" name="releasePriorityCalculationType" id="releasePriorityCalculationType_text" value="RELEASE_IMPORTANCE_LAST"/>¤					</div>¤				</td>¤			</tr>¤			<tr id="state_info_row" style="display:none">¤				<td width:30%">&nbsp;</td>¤				<td width:50%">¤					<span class="smalltext">$garHelper.getText('requestpropinclude.after.change.state.request.will.be.child.of.this.request') </span>¤					<span id="state_info" class="smalltext" style="font-weight: bold"></span>¤				</td>¤			</tr>¤			<tr id="user_comment_row" style="display:none">¤				<td align="right" valign="top">¤					<span id="user_comment_id">$garHelper.getText('requestpropinclude.show.reson'):</span><br/>				¤				</td>¤				<td width="100%" colspan="2">¤					<textarea ID='user_comment_text' WRAP="virtual" COLS="30" ROWS="5"></textarea>¤				</td>¤			</tr>¤			<tr id="close_discussion_row" style="display:none">¤				<td width="100%" colspan="3">¤					<span>$garHelper.getText('requestpropinclude.after.change.phase.close.discussion')</span>¤					<input type="checkbox" id="is_need_close_discussion"/> ¤				</td>			¤			</tr>¤			<tr id="put_comment_in_body" style="display:none">¤				<td width="100%" colspan="3">¤					<span>$garHelper.getText('requestpropinclude.after.change.phase.put.comment.in.body')</span>¤					<input type="checkbox" id="is_need_put_comment_in_body"/> ¤				</td>			¤			</tr>¤			#if($request.isContract)¤			<tr id="visa_rework_row" style="display:none">¤				<td width="100%" colspan="3">¤					<div id="isVisaRework_div">¤						<span>$garHelper.getText('requestpropinclude.change.state.visarework'):</span>¤						<input type="checkbox" id="is_visa_rework_checkbox_id" onClick="$('isVisaRework_text').value = this.checked" #if($request.isVisaRework) checked #end/> ¤						<input type="hidden" name="isVisaRework" id="isVisaRework_text" value="$request.isVisaRework"/>¤					</div>¤				</td>¤			</tr>	¤			#end			¤		</table>	¤	</div>¤</form>¤¤#if($viewPermission.stateForecastTime)¤	¤<form class="gar-editpanel">¤	<span id="state_time_statistics_id">$request.stateTimeStatistics</span>¤</form>¤¤#end¤¤#if($request.isContract)¤¤<form name="fustatus" class="gar-editpanel">¤	<span><span>$garHelper.getText('requestpropinclude.fustatus'): </span>$request.fuStatus</span>¤</form>¤¤#end¤¤<form name="editexecutor" class="gar-editpanel">¤	¤	<span onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.executor')" onmouseout="UnTip()">¤	$garHelper.getText('requestpropinclude.assigned'): ¤	</span>¤	<span id="executor_info" userlogin="$request.RequestExecutorsAsString" userfullname="$request.RequestExecutorNamesAsString">¤	#set($canWorkWithPriorityPosition = false)¤	#if($request.RequestExecutors.size() > 0)¤    	#foreach($executor in $request.RequestExecutors)¤        	$request.getMdcUserLink($executor.name)¤        	#set($ownerPriorityPosition = $request.getPositionByPriority($executor.name))¤        	#if($ownerPriorityPosition && $ownerPriorityPosition != "")¤        		#set($canWorkWithPriorityPosition = true)¤    			(<span id="ownerPriorityPosition">${ownerPriorityPosition}</span>&nbsp;$garHelper.getText('requestpropinclude.in.priority'))¤        	#end¤    	#end¤	#else¤		$request.getMdcUserLink(null) ## empty name¤	#end¤	#if($editPermission.priority && $canWorkWithPriorityPosition)¤		&nbsp;¤    	<img id="moveUpGroupButton" title="$garHelper.getText('requestpropinclude.move.up.group') #if($request.request.immediate)$garHelper.getText('requestpropinclude.primary')#else $garHelper.getText('requestpropinclude.secondary')#end" style="vertical-align: bottom" src="$garIcon.getTypeIcon("forgui_priority_up_2").urlPath" border="0" onclick="return togglePriorityChange(true, '$request.RequestExecutorsAsString')"/>¤    	<img id="moveDownGroupButton" title="$garHelper.getText('requestpropinclude.move.down.group') #if($request.request.immediate)$garHelper.getText('requestpropinclude.primary')#else $garHelper.getText('requestpropinclude.secondary') #end" style="vertical-align: bottom" src="$garIcon.getTypeIcon("forgui_priority_down_2").urlPath" border="0" onclick="return togglePriorityChange(false, '$request.RequestExecutorsAsString')"/>¤    	&nbsp;¤    #end¤	</span>¤	#if ($editPermission.owner)¤		<span id="executor_selector" onclick="showUpdateCtrl('executor')">¤	    	<span id="executor_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤		</span>¤	#end¤	<div id="executor_div" class="gar-editpanel-background" style="display:none">¤		<table style="width: 100%;">¤			<tr>¤				<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">$garHelper.getText('requestpropinclude.change.executor')</div></td>¤				<td nowrap style="width:30%"></td>¤				<td style="width:5%" align="right"><a onClick="doCloseDiv('executor'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap style="width:30%">$garHelper.getText('requestpropinclude.choose.user'):</td>¤				<td align="left" style="width:50%">¤					#set($suggestedExecutor = $autoCompleteProvider.getFirstSuggestedValue("executor"))¤					<select id="executor_list" name="executor" tabindex="3" style="width:100%">¤						#foreach($user in $request.availableExecutors)¤							#if($user.name.equals($suggestedExecutor))¤								<option value="$user.name" selected>$user.fullName</option>¤							#else¤								<option value="$user.name">$user.fullName</option>¤							#end¤						#end¤					</select>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('executor')" id="executor_button_done"/>¤					<span id="executor_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤				</td>¤			</tr>¤		</table>	¤	</div>¤</form>¤¤#if($request.isRequest || $request.isContract)¤¤<form name="editdeveloper" class="gar-editpanel">¤	<span><span onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.developer')" onmouseout="UnTip()">$garHelper.getText('requestpropinclude.developer'): </span>$request.getMdcUserLink($request.request.developer)</span>¤	#if ($editPermission.developer)¤		<span id="developer_selector" onclick="showUpdateCtrl('developer')">¤	    	<span id="developer_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤		</span>¤	#end¤	<div id="developer_div" class="gar-editpanel-background" style="display:none">¤		<table style="width: 100%;">¤			<tr>¤				<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">$garHelper.getText('requestpropinclude.change.developer')</div></td>¤				<td nowrap style="width:30%"></td>¤				<td style="width:5%" align="right"><a onClick="doCloseDiv('developer'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap style="width:30%">$garHelper.getText('requestpropinclude.choose.user'):</td>¤				<td align="left" style="width:50%">¤					#set($suggestedDeveloper = $autoCompleteProvider.getFirstSuggestedValue("developer"))¤					<select id="developer_list" name="developer" tabindex="3" style="width:100%">¤						#set($developmentGroupName = $requestHelper.getDevelopmentGroup($currentSpace));¤						#foreach($user in $garUserHelper.getEditPermittedUsersByGroup($developmentGroupName, $request.request.page))¤							#if($user.name.equals($suggestedDeveloper))¤								<option value="$user.name" selected>$user.fullName</option>¤							#else¤								<option value="$user.name">$user.fullName</option>¤							#end¤						#end¤					</select>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('developer')" id="developer_button_done"/>¤					<span id="developer_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤				</td>¤			</tr>¤		</table>	¤	</div>¤</form>¤¤#end¤¤#if($request.isCase)¤	¤	<script type="text/javascript" language="JavaScript">¤		toInit(initWorkGroupSelectBoxes);¤	</script>¤	¤	<form name="editworkGroup" class="gar-editpanel">¤	<span>$garHelper.getText('requestpropinclude.work.group'): </span>¤	#if($request.request.workGroup.size() > 0)¤    	#foreach($workGroupMember in $request.request.workGroup)¤        	$request.getMdcUserLink($workGroupMember.name)¤    	#end¤	#else¤		$request.getMdcUserLink("") ## empty name¤	#end¤	#if ($editPermission.workGroup)¤		<span id="workGroup_selector" onclick="showUpdateCtrl('workGroup')">¤	    	<span id="workGroup_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤		</span>¤	#end¤	<div id="workGroup_div" class="gar-editpanel-background" style="display:none">¤		<table style="width: 100%;">¤			<tr>¤				<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">$garHelper.getText('requestpropinclude.change.work.group')</div></td>¤				<td nowrap style="width:30%"></td>¤				<td style="width:5%" align="right"><a onClick="doCloseDiv('workGroup'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap style="width:30%">$garHelper.getText('requestpropinclude.choose.work.group.users'):</td>¤				<td align="left" style="width:50%">¤                    <table border="0" cellpadding="0" cellspacing="1" width="100%">¤						<tr>¤							<td>¤								$garHelper.getText('requestpropinclude.work.group.not.include'):¤							</td>¤						</tr>¤						<tr>¤							<td width="50%">¤								<select id="workGroup_available_list" multiple="multiple" size="5" style="width:300px">¤            						#foreach($user in $request.availableWorkGroupUsers)¤										<option value="$user.name">$hrHelper.getDepartmentNameWithWorker($user.name)</option>¤            						#end¤            					</select>¤                            </td>¤							<td>¤								<input type="button" id="workGroupIncudeButton" value=">>" />¤							</td>¤                        </tr>¤						<tr><td>&nbsp;</td></tr>¤						<tr>¤							<td>¤								$garHelper.getText('requestpropinclude.work.group.include'):¤							</td>¤						</tr>¤						<tr>¤							<td width="50%">¤								 <select id="workGroup_list" multiple="multiple" size="5" name="workGroup" style="width:300px">¤            						#foreach($user in $request.request.workGroup)¤            							<option value="$user.name">$hrHelper.getDepartmentNameWithWorker($user.name)</option>¤            						#end¤            					</select>¤                            </td>¤							<td>¤								<input type="button" id="workGroupExcludeButton" value=">>"/>¤							</td>¤						</tr>¤						<tr>¤                          ¤							¤                        </tr>¤					</table>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('workGroup')" id="workGroup_button_done"/>¤					<span id="workGroup_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤				</td>¤			</tr>¤		</table>	¤	</div>¤</form>¤#end¤¤#if($request.isContract)¤¤<form name="editvisaprovider" class="gar-editpanel">¤	<span><span onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.visaman')" onmouseout="UnTip()">$garHelper.getText('requestpropinclude.who.visa'): </span>$request.getMdcUserLink($request.request.visaProvider)</span>¤	#if ($editPermission.visaProvider)¤		<span id="visaProvider_selector" onclick="showUpdateCtrl('visaProvider')">¤	    	<span id="visaProvider_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤		</span>¤	#end¤	<div id="visaProvider_div" class="gar-editpanel-background" style="display:none">¤		<table style="width: 100%;">¤			<tr>¤				<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">$garHelper.getText('requestpropinclude.change.visa.provider')</div></td>¤				<td nowrap style="width:30%"></td>¤				<td style="width:5%" align="right"><a onClick="doCloseDiv('visaProvider'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap style="width:30%">$garHelper.getText('requestpropinclude.choose.user'):</td>¤				<td align="left" style="width:50%">¤					#set($suggestedVisaProvider = $autoCompleteProvider.getFirstSuggestedValue("visaProvider"))¤					<select id="visaProvider_list" name="visaProvider" tabindex="3" style="width:100%">¤						#set($visaGroupName = $requestHelper.getVisaGroup($currentSpace));¤						#foreach($user in $garUserHelper.getEditPermittedUsersByGroup($visaGroupName, $request.request.page))¤							#if($user.name.equals($suggestedVisaProvider))¤								<option value="$user.name" selected>$user.fullName</option>¤							#else¤								<option value="$user.name">$user.fullName</option>¤							#end¤						#end¤					</select>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('visaProvider')" id="visaProvider_button_done"/>¤					<span id="visaProvider_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤				</td>¤			</tr>¤		</table>	¤	</div>¤</form>¤¤#end¤¤#if($request.isCase)¤	¤<form name="editccmanager" class="gar-editpanel">¤	<span>$garHelper.getText('requestpropinclude.cc.manager'): </span>$request.getMdcUserLink($request.request.ccManager)</span>¤	#if ($editPermission.ccManager)¤		<span id="ccManager_selector" onclick="showUpdateCtrl('ccManager')">¤	    	<span id="ccManager_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤		</span>¤	#end¤	<div id="ccManager_div" class="gar-editpanel-background" style="display:none">¤		<table style="width: 100%;">¤			<tr>¤				<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">$garHelper.getText('requestpropinclude.change.cc.manager')</div></td>¤				<td nowrap style="width:30%"></td>¤				<td style="width:5%" align="right"><a onClick="doCloseDiv('ccManager'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap style="width:30%">$garHelper.getText('requestpropinclude.choose.user'):</td>¤				<td align="left" style="width:50%">¤					<select id="ccManager_list" name="ccManager" tabindex="3" style="width:100%">¤						#set($ccManagementGroupName = $requestHelper.getCcManagementGroup($currentSpace));¤						#foreach($user in $garUserHelper.getEditPermittedUsersByGroup($ccManagementGroupName, $request.request.page))¤							<option value="$user.name">$user.fullName</option>¤						#end¤					</select>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('ccManager')" id="ccManager_button_done"/>¤					<span id="ccManager_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤				</td>¤			</tr>¤		</table>	¤	</div>¤</form>¤¤<form name="edituvsmanager" class="gar-editpanel">¤	<span>$garHelper.getText('requestpropinclude.uvs.manager'): </span>$request.getMdcUserLink($request.request.uvsManager)</span>¤	#if ($editPermission.uvsManager)¤		<span id="uvsManager_selector" onclick="showUpdateCtrl('uvsManager')">¤	    	<span id="uvsManager_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤		</span>¤	#end¤	<div id="uvsManager_div" class="gar-editpanel-background" style="display:none">¤		<table style="width: 100%;">¤			<tr>¤				<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">$garHelper.getText('requestpropinclude.change.uvs.manager')</div></td>¤				<td nowrap style="width:30%"></td>¤				<td style="width:5%" align="right"><a onClick="doCloseDiv('uvsManager'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap style="width:30%">$garHelper.getText('requestpropinclude.choose.user'):</td>¤				<td align="left" style="width:50%">¤					<select id="uvsManager_list" name="uvsManager" tabindex="3" style="width:100%">¤						#set($uvsManagementGroupName = $requestHelper.getUvsManagementGroup($currentSpace));¤						#foreach($user in $garUserHelper.getEditPermittedUsersByGroup($uvsManagementGroupName, $request.request.page))¤							<option value="$user.name">$user.fullName</option>¤						#end¤					</select>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('uvsManager')" id="uvsManager_button_done"/>¤					<span id="uvsManager_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤				</td>¤			</tr>¤		</table>	¤	</div>¤</form>¤¤<form name="editdirector" class="gar-editpanel">¤	<span>$garHelper.getText('requestpropinclude.director'): </span>$request.getMdcUserLink($request.request.director)</span>¤	#if ($editPermission.director)¤		<span id="director_selector" onclick="showUpdateCtrl('director')">¤	    	<span id="director_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤		</span>¤	#end¤	<div id="director_div" class="gar-editpanel-background" style="display:none">¤		<table style="width: 100%;">¤			<tr>¤				<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">$garHelper.getText('requestpropinclude.change.director')</div></td>¤				<td nowrap style="width:30%"></td>¤				<td style="width:5%" align="right"><a onClick="doCloseDiv('director'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap style="width:30%">$garHelper.getText('requestpropinclude.choose.user'):</td>¤				<td align="left" style="width:50%">¤					<select id="director_list" name="director" tabindex="3" style="width:100%">¤						#set($directorGroupName = $requestHelper.getDirectorGroup($currentSpace));¤						#foreach($user in $garUserHelper.getEditPermittedUsersByGroup($directorGroupName, $request.request.page))¤							<option value="$user.name">$user.fullName</option>¤						#end¤					</select>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('director')" id="director_button_done"/>¤					<span id="director_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤				</td>¤			</tr>¤		</table>	¤	</div>¤</form>¤¤#end¤¤#if($request.isRequest)¤	#set($testGroupName = $requestHelper.getTestGroup($currentSpace))¤#if($testGroupName != "undefined")¤    #if( ($requestHelper.getTestManager($requestSpaceKey) == $remoteUser.name) || ($requestHelper.getTestAnalyst($requestSpaceKey) == $remoteUser.name) )¤	#set($testerGroup = $garUserHelper.getEditPermittedUsersByGroups([$testGroupName, $developmentGroupName], $request.request.page))¤    #else¤	#set($testerGroup = $garUserHelper.getEditPermittedUsersByGroups([$developmentGroupName], $request.request.page))¤    #end¤¤<form name="edittester" class="gar-editpanel">¤	<span><span onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.tester')" onmouseout="UnTip()">$garHelper.getText('requestpropinclude.tester'): </span>$request.getMdcUserLink($request.request.tester)</span>¤	#if ($editPermission.tester)¤		<span id="tester_selector" onclick="showUpdateCtrl('tester')">¤	    	<span id="tester_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤		</span>¤	#end¤	<div id="tester_div" class="gar-editpanel-background" style="display:none">¤		<table style="width: 100%">¤			<tr>¤				<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">$garHelper.getText('requestpropinclude.change.tester')</div></td>¤				<td nowrap style="width:30%">#* :*#</td>¤				<td style="width:5%" align="right"><a onClick="doCloseDiv('tester'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap style="width:30%">$garHelper.getText('requestpropinclude.choose.user'):</td>¤				<td align="left" style="width:50%">¤					## SES:    ¤					#*¤					#bodytag (Component "theme='custom'" "name='tester_text'" "template='textfield-and-picker.vm'")¤						#param ("formName" "edittester")¤						#param ("buttonOff" "true")¤						#param ("windowProperties" "status=yes,resizable=yes,top=100,left=200,width=700,height=400,scrollbars=yes")¤						#param ("size" "20")¤						#param ("imgTitle" "$garHelper.getText('find.users')")¤						#param ("searchAction" "openuserpicker.action")¤					#end¤					*#¤					#set($suggestedTester = $autoCompleteProvider.getFirstSuggestedValue("tester"))¤					<select id="tester_list" name="tester" tabindex="3" style="width:100%">¤						#foreach($user in $testerGroup)¤							#if($user.name.equals($suggestedTester))¤								<option value="$user.name" selected>$user.fullName</option>¤							#else¤								<option value="$user.name">$user.fullName</option>¤							#end¤						#end¤					</select>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('tester')" id="tester_button_done"/>¤					<span id="tester_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤				</td>¤				<td>## TODO: Saggested assigned</td>¤				<td></td>¤			</tr>¤		</table>	¤	</div>¤</form>¤#end¤#end¤¤#if($viewPermission.forecastTime)¤¤<form class="gar-editpanel">¤	<span id="time_statistics_id">$request.timeStatistics</span>¤	¤	#if($editPermission.forecastTime)¤	<span id="forecast_selector">¤		#if($unacceptedForecast != "")¤			<span id="unacceptedForecast_selector">¤			($garHelper.getText('requestpropinclude.new.forecast'):&nbsp;<span id="unacceptedForecast">$unacceptedForecast</span>¤			#if($editPermission.unacceptedForecastTime)¤				&nbsp;¤				<img src="$garIcon.getTypeIcon("reject").urlPath" onClick="toggleUnacceptedForecast(false)" height="16" width="16" border="0" style="vertical-align:text-bottom" title="$garHelper.getText('requestpropinclude.reject')"/>&nbsp;¤				<img src="$garIcon.getTypeIcon("accept").urlPath" onClick="toggleUnacceptedForecast(true)" height="16" width="16" border="0" style="vertical-align:text-bottom" title="$garHelper.getText('requestpropinclude.accept')"/>¤			#end¤			)&nbsp;¤			</span>¤		#end¤		<span id="forecast_edit_link" class="inline-control-link fontSizeTiny" onclick="showUpdateCtrl('forecast')">$garHelper.getText('edit.name.caps')</span>¤	</span>¤	#end		¤¤	<div id="forecast_div" class="gar-editpanel-background" style="display:none">¤		<table style="width:100%;">¤			<tr>¤				<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">$garHelper.getText('requestpropinclude.change.forecast.time.of.reserved.work')</div></td>¤				<td nowrap style="width:30%">#* :*#</td>¤				<td style="width:5%" align="right"><a onClick="doCloseDiv('forecast'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap style="width:30%">$garHelper.getText('requestpropinclude.new.forecast'):</td>¤				<td align="left" style="width:50%"><input id="forecast_text" type="text" style="width:99%" maxlength="50"/></td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('forecast')" id="forecast_button_done"/>¤					<span id="forecast_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤				</td>¤			</tr>¤			<tr nowrap>¤				<td colspan="3">¤					<span class="smalltext">($garHelper.getText('requestpropinclude.time.input.in.format'))</span>¤				</td>¤			</tr>¤		</table>¤	</div>¤</form>¤¤#end¤¤#if($viewPermission.completionTime)¤¤#if($request.hasCompletionTime() == false)¤¤<form class="gar-editpanel">¤	<span onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.release')" onmouseout="UnTip()">$garHelper.getText('requestpropinclude.included.in'):</span>¤	#set($pageRelease = $request.release)¤	#if ($pageRelease)¤		#getStateIcons($pageRelease)#contentHref($pageRelease)&nbsp;(<span id="positionByPriority">${request.positionByPriority}</span>&nbsp;$garHelper.getText('requestpropinclude.in.priority'))¤		#if($editPermission.priority)¤		&nbsp;¤		<img id="moveUpGroupReleaseButton" title="$garHelper.getText('requestpropinclude.move.up.group') #if($request.request.immediate)$garHelper.getText('requestpropinclude.primary')#else $garHelper.getText('requestpropinclude.secondary') #end" style="vertical-align: bottom" src="$garIcon.getTypeIcon("forgui_priority_up_2").urlPath" border="0" onclick="return togglePriorityChange(true, null)"/>¤		<img id="moveDownGroupReleaseButton" title="$garHelper.getText('requestpropinclude.move.down.group') #if($request.request.immediate)$garHelper.getText('requestpropinclude.primary')#else $garHelper.getText('requestpropinclude.secondary') #end" style="vertical-align: bottom" src="$garIcon.getTypeIcon("forgui_priority_down_2").urlPath" border="0" onclick="return togglePriorityChange(false, null)"/>¤		&nbsp;¤		#end¤	#else¤		<span id="release_val">($garHelper.getText('requestpropinclude.undefined'))</span>¤	#end¤	#set($pageBuild = $request.build)¤	#if($pageBuild)¤		<span> $garHelper.getText('requestpropinclude.integrated.in'):</span>¤		<a href="$req.contextPath/pages/viewpage.action?pageId=$pageBuild.id">$pageBuild.shortTitle</a>¤	#end¤	¤	#if ($editPermission.release)¤		<span id="release_selector" onclick="showUpdateCtrl('release')">¤			<span id="release_edit_link" class="inline-control-link fontSizeTiny">$garHelper.getText('edit.name.caps')</span>¤		</span>¤	#end¤	<div id="release_div" class="gar-editpanel-background" style="display:none">¤		<table style="width:100%">¤			<tr>¤				<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">$garHelper.getText('requestpropinclude.change.target.release')</div></td>¤				<td nowrap style="width:30%">#* :*#</td>¤				<td style="width:5%" align="right"><a onClick="doCloseDiv('release'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap style="width:30%">$garHelper.getText('requestpropinclude.choose.release'):</td>¤				<td align="left" style="width:50%">¤					#set($suggestedRelease = $autoCompleteProvider.getFirstSuggestedValue("release"))¤					<select id="release_list" style="width:100%">¤						#if($editPermission.resetRelease)¤							<option value="0">$garHelper.getText('requestpropinclude.undefined')</option>¤						#end¤						#foreach($release in $request.availableReleases)¤							#if($release.page.idAsString.equals($suggestedRelease))¤								<option value="$release.page.id" selected>$release.page.title</option>¤							#else¤								<option value="$release.page.id">$release.page.title</option>¤							#end¤						#end¤					</select>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('release')" id="release_button_done"/>¤					<span id="release_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤				</td>¤			</tr>¤		</table>¤	</div>¤</form>¤¤#else¤¤##if($viewPermission.completionTime)¤¤<form class="gar-editpanel">¤	<span id="time_statistics_id">$request.completionTimeStatistics</span>¤	¤	#if($editPermission.completionTime)¤¤	<span id="completionTime_selector">¤		<span id="completionTime_edit_link" class="inline-control-link fontSizeTiny" onclick="showUpdateCtrl('completionTime')">$garHelper.getText('edit.name.caps')</span>¤	</span>¤	#end		¤¤	<div id="completionTime_div" class="gar-editpanel-background" style="display:none">¤		<table style="width:100%;">¤			<tr>¤				<td nowrap style="width:65%" colspan="2"><div class="formtitle gar-formtitle">$garHelper.getText('requestpropinclude.change.completion.time')</div></td>¤				<td nowrap style="width:30%">#* :*#</td>¤				<td style="width:5%" align="right"><a onClick="doCloseDiv('completionTime'); return false;" href=""><img border=0 width=8 height=8 src="$req.contextPath/images/icons/del_16.gif"/></a></td>¤			</tr>¤			<tr>¤				<td align="right" nowrap style="width:30%">$garHelper.getText('requestpropinclude.new.completion.time'):</td>¤				<td align="left" style="width:50%">¤					<input id="completionTime_text" type="text" style="width:99%" maxlength="50" value="$request.completionTime"/>¤					<script type="text/javascript" language="JavaScript">¤						/* all includes for calendar control are in page.vmd */¤						toInit(initCompletionTimeCalendar);¤					</script>¤				</td>¤				<td align="left">¤					<input type=button value="$garHelper.getText('done.word')" onClick="toggleAll('completionTime')" id="completionTime_button_done"/>¤					<span id="completionTime_progress" style="display: none; height: 16px;"><img alt="Wait Image" border=0 align="absmiddle" src="/images/icons/wait.gif"></span>¤				</td>¤			</tr>¤			<tr nowrap>¤				<td colspan="3">¤					<span class="smalltext">($garHelper.getText('requestpropinclude.completion.time.input.in.format'))</span>¤				</td>¤			</tr>¤		</table>¤	</div>¤</form>¤¤##end¤#end¤¤#end¤¤#if($viewPermission.immediate)¤¤<form style="margin-top: 7px">¤	<span onmouseover="$garHelper.getHelpTooltipJs('viewpage.tooltip.ismaxpriority')" onmouseout="UnTip()">$garHelper.getText('requestpropinclude.immediate'):</span>¤	<input type="checkbox" ¤	   name="immediate_checkbox_name" ¤	   value=$request.request.immediate ¤	   id="immediate_checkbox_id" ¤	   onclick="toggleImmediate((this.checked)?true:false);"  #if($request.request.immediate)checked#end¤	   #if (!$editPermission.immediate)disabled="true"#end¤	>¤</form>¤¤#end¤¤#if ($request.isContract)¤<table id="propertiesTable">¤	<tr>¤		<td nowrap style="cursor:pointer; color: #003366;padding-bottom: 10px; padding-top: 10px;" onclick="togglePropertiesPanel()">¤			<img id="propertiesPanelImg" border="0" src="/download/resources/net.customware.confluence.plugin.composition:toggle-cloak/img/navigate_right_10.gif"/>¤			<span style="font-weight: bold;">$garHelper.getText('requestpropinclude.additional.properties')</span>¤		</td>¤	</tr>¤	<tr>¤		<td>¤			<span id="propertiesTableContainer" style="display:none; width:100%">¤			<span style="font-weight: bold;">$garHelper.getText('requestpropinclude.quit.phases.dates'):</span>¤			<br>¤				#set($statesWithTimes = $requestHelper.getAdditionalProperties($request.request.page.id))¤				#foreach($stateWithTime in $statesWithTimes)¤					<li type="disc" style="margin-top: 7px; margin-left: 15px;">¤						$stateWithTime ¤					</li>¤				#end¤			</span>¤		</td>¤	</tr>¤			¤</table>¤#end¤</div>¤</div>¤<!--FINISH REQUEST EDIT PANEL-->¤¤¤##UC_END*475F874D031D_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (vm)"
		    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/request-prop-include.vm")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (vm)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"19039395925"))
	    quid       	"475F874D031D"
	    documentation 	"общая часть для генерации HTML кода для редактирования свойств запроса"
	    stereotype 	"VM"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"19016098252"))
		    quid       	"47FCA9F40091"
		    stereotype 	"include"
		    supplier   	"Logical View::MDProcess::ConfluenceMDChange::RequestView::request-data-external-author"
		    quidu      	"47FCA8B80234")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"19016098646"))
		    quid       	"481DAFB001AE"
		    stereotype 	"include"
		    supplier   	"Logical View::MDProcess::ConfluenceMDChange::RequestView::request-data-findin"
		    quidu      	"481DAF5B01EB")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"19016099025"))
		    quid       	"48E9BF1000F1"
		    stereotype 	"include"
		    supplier   	"Logical View::MDProcess::ConfluenceMDChange::RequestView::request-prop-include-js"
		    quidu      	"48E9BEDD0014"))
	    language   	"MDA Generator")
	(object Class "request-data-external-author"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (vm)"
		    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/request-data-external-author.vm")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/request-data-external-author|47FCA8B80234
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"vm:*47FCA8B80234_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*47FCA8B80234_CUSTOM_CONTENT*¤¤#set($buildAll = $buildAllEa)¤#set($requestEA = $requestExternalAuthors)¤#set($eaEditContainerId = $eaEditContainerControlId)¤#set($eaPreviewContainerId = $eaPreviewContainerControlId)¤#set($eaValidationContainerId = $eaValidationContainerControlId)¤¤#macro (fillJsExternalAuthorArray $authors)¤	#if($authors)¤    	#foreach($ea in $authors)¤    		#if($velocityCount == 1)¤    			new ExternalAuthor(new Number($ea.Id), 0, "$garHelper.escapeJavaScript($ea.FullName)", "$garHelper.escapeJavaScript($ea.Email)", "$garHelper.escapeJavaScript($ea.Comment)")¤    		#else¤    		, new ExternalAuthor(new Number($ea.Id), 0, "$garHelper.escapeJavaScript($ea.FullName)", "$garHelper.escapeJavaScript($ea.Email)", "$garHelper.escapeJavaScript($ea.Comment)")¤    		#end¤    	#end¤	#end¤#end¤¤#includeJavascript('/includes/js/wz_tooltip/wz_tooltip.js')¤¤#requireResource('confluence.web.resources:utils')¤¤<script type="text/javascript" language="JavaScript">¤¤#*private*# var browserDetector = new detectBrowser();¤¤#*private*# var eaEditContainer;¤#*private*# function getEaEditContainer() {¤	if(eaEditContainer == null || eaEditContainer == undefined) {¤		eaEditContainer = $('${eaEditContainerId}');¤	}¤	return eaEditContainer;¤}¤¤#*private*# var eaPreviewContainer;¤#*private*# function getEaPreviewContainer() {¤	if(eaPreviewContainer == null || eaPreviewContainer == undefined) {¤		eaPreviewContainer = $('${eaPreviewContainerId}');¤	}¤	return eaPreviewContainer;¤}¤¤/*public*/ function ExternalAuthor(id, htmlId, name, mail, comment) {¤	this.id = id;¤	this.htmlId = htmlId;¤	this.name = name;¤	this.mail = mail;¤	this.comment = comment;¤	this.setFields = function(ea) {¤		this.id = ea.id;¤		this.htmlId = ea.htmlId;¤		this.name = ea.name;¤		this.comment = ea.comment;¤		this.mail = ea.mail;¤	}¤	this.getTitle = function() {¤		return this.mail + " (" + this.name + ")";¤	}¤}¤¤/*public*/ var currentExternalAuthors;¤¤#*private*# var allExternalAuthors;¤¤#*private*# var currentId;¤¤/*public*/ function addNewExternalAuthor() {¤	createEaEditDiv(null);¤}¤¤/*public*/ function removeAllChildren(ctrl) {¤	 if (ctrl.hasChildNodes()) {¤        while (ctrl.childNodes.length >= 1) {¤            ctrl.removeChild(ctrl.firstChild );       ¤        } ¤    }¤}¤¤/*public*/ function createEaPanels() {¤	buildEaPanels(true);¤}¤¤/*public*/ function reCreateEaPanels() {¤	buildEaPanels(false);¤}¤¤/*public*/ function setAutoCompleteExternalAuthor() {¤	var externalAuthorIdsString = '$!autoCompleteProvider.getFirstSuggestedValue("externalAuthorsIds")';¤	if(externalAuthorIdsString != ''){¤		var externalAuthorIds = externalAuthorIdsString.split(", "); ¤		if(externalAuthorIds.length > 0){¤			for(var index = 0; index < externalAuthorIds.length; index++){¤				var existingExternalAuthor = getExternalAuthorByContentId(allExternalAuthors, externalAuthorIds[index]);¤				createEaEditDiv(existingExternalAuthor);¤				saveExternalAuthor(currentExternalAuthors.length + 1, true);¤				toggleEaBodyPanel(currentExternalAuthors.length, existingExternalAuthor); ¤			}¤			toggleEaPanelsMode();¤			toggleExternalAuthors();¤		}¤	}¤}¤¤/*private*/ function buildEaPanels(init) {¤	eaEditContainer = null;¤	eaPreviewContainer = null;¤	currentId = Number(-1);¤	¤	if(init) {¤		currentExternalAuthors = [#fillJsExternalAuthorArray($requestEA)];¤		allExternalAuthors = [#if($buildAll)#fillJsExternalAuthorArray($requestHelper.getAllExternalAuthors())#end]; ¤	}¤	¤	createEaPreviewContainerContents();¤	createEaEditContainerContents();¤}¤¤/*public*/ function saveAllOpenEaPanels() {¤	 if (getEaEditContainer().hasChildNodes()) {¤        for(var i=0; i<getEaEditContainer().childNodes.length; i++) {¤			var idStr = getEaEditContainer().childNodes[i].id;¤			if(idStr != null && idStr != undefined) {¤				var id = idStr.substring(2);¤    			var eaEditBody = $('eaEditBody' + id);¤    			if(eaEditBody.style.display != 'none') {¤    				var res = saveExternalAuthor(id, false);¤    				if(res == false) {¤						return false;¤					}¤				}¤			}¤		}¤    }¤	return true;¤}¤¤/*public*/ function toggleEaPanelsMode() {¤	createEaPreviewContainerContents();¤}¤¤#*private*# function getNextId() {¤	if(currentId == -1) {¤		if(currentExternalAuthors.length != undefined)¤			currentId = currentExternalAuthors.length;¤		else¤			currentId = 0;¤	}¤	currentId++;¤	return currentId;¤}¤¤#*private*# function createEaPreviewContainerContents() {¤	removeAllChildren(getEaPreviewContainer());¤	if(currentExternalAuthors.length != 0) {¤    	for(var i=0; i<currentExternalAuthors.length; i++) {¤    		if(i != 0) {¤    			getEaPreviewContainer().innerHTML += ", ";¤    			/*if(i % 3 == 0) {¤    				getEaPreviewContainer().innerHTML += "<br/>";¤    			}*/¤    		}¤    		getEaPreviewContainer().innerHTML += createEaLink(currentExternalAuthors[i]);¤    	}¤	}¤	else {¤		getEaPreviewContainer().innerHTML += "($garHelper.getText('requestauthor.undefined'))";¤	}¤}¤¤#*private*# function createEaLink(ea) {¤	var innerHTML = "<a href=\"mailto:" + ea.mail + "\"";¤	var contentHTML = makeHtml(ea.name) + "<br/>" + makeHtml(ea.mail) + "<br/>" + makeHtml(ea.comment);¤	innerHTML += "onmouseover=\"Tip('" + contentHTML + "', BGCOLOR, '#FAFAFA', STICKY, true, CLOSEBTN, true, DELAY, 1000, OFFSETX, 5, OFFSETY, 5)\" onmouseout=\"UnTip()\"";¤	var mail = "email не задан";¤	if(ea.mail != ""){¤		mail = ea.mail;¤	}¤	innerHTML += ">" + ea.name + "(" + mail + ")" + "</a>";¤	return innerHTML;¤}¤¤#*private*# function createEaEditContainerContents() {¤	removeAllChildren(getEaEditContainer());¤	for(var i=0; i<currentExternalAuthors.length; i++) {¤		createEaEditDiv(currentExternalAuthors[i]);¤	}¤}¤¤#*private*# function removeExternalAuthor(id) {¤	getValidationContainer().style.display = 'none';¤¤	var newCurrentExternalAuthors = [];¤	for(var i=0; i<currentExternalAuthors.length; i++) {¤		if(currentExternalAuthors[i].htmlId != id) {¤			newCurrentExternalAuthors.push(currentExternalAuthors[i]);¤		}¤	}¤	currentExternalAuthors = newCurrentExternalAuthors;¤¤	var eaCtrlId = "ea" + id;¤	var eaCtrl = $(eaCtrlId);¤	getEaEditContainer().removeChild(eaCtrl);¤}¤¤#*private*# function editExternalAuthor(id) {¤	var ea = getDataById(id);¤	toggleEaBodyPanel(id, ea);¤}¤¤#*private*# function toggleEaBodyPanel(id, ea) {¤	var eaShowBodyId = "eaShowBody" + id;¤	var eaEditBodyId = "eaEditBody" + id;¤	if($(eaShowBodyId).style.display == 'none') {¤		$(eaShowBodyId).style.display = '';¤		$(eaShowBodyId).innerHTML = createEaShowBodyHtml(ea);¤		$(eaEditBodyId).style.display = 'none';¤	} else {¤		$(eaShowBodyId).style.display = 'none';¤		$(eaEditBodyId).style.display = '';¤	}¤}¤¤#*private*# function saveExternalAuthor(id, closePanel) {¤	var ea = getDataById(id);¤	¤	if(validateEas(ea) == false) {¤		return false;¤	}¤	¤	var existingEa = null;¤	if (ea.id != 0) {¤		existingEa = getExternalAuthorByContentId(allExternalAuthors, ea.id);¤	}¤	¤	¤	var selectedEa = getExternalAuthorByIdAndMail(currentExternalAuthors, ea.htmlId, ea.mail);¤	if(existingEa != null && selectedEa != null) {¤		var existingId = existingEa.id;¤		existingEa.setFields(ea);¤		existingEa.id = existingId;¤		selectedEa.setFields(ea);¤		selectedEa.id = existingId;¤	} else if(existingEa != null && selectedEa == null) {¤		var existingId = existingEa.id;¤		existingEa.setFields(ea);¤		existingEa.id = existingId;¤		removeOrphanFromCurrentEas(id, ea.mail);¤		var newEa = new ExternalAuthor(existingId, id, ea.name, ea.mail, ea.comment);¤		currentExternalAuthors.push(newEa);¤	} else if(existingEa == null && selectedEa != null) {¤		selectedEa.setFields(ea);¤		var newEa = new ExternalAuthor(0, id, ea.name, ea.mail, ea.comment);¤		allExternalAuthors.push(newEa);¤	} else {¤		var newEa = new ExternalAuthor(0, id, ea.name, ea.mail, ea.comment);¤		allExternalAuthors.push(newEa);¤		removeOrphanFromCurrentEas(id, ea.mail);¤		currentExternalAuthors.push(newEa);¤	}¤	if(closePanel) {¤		toggleEaBodyPanel(id, ea);¤	}¤}¤¤/*private*/ function removeOrphanFromCurrentEas(htmlId, newMail) {¤	var newCurrentExternalAuthors = [];¤	for(var i=0; i<currentExternalAuthors.length; i++) {¤		if(!(currentExternalAuthors[i].htmlId == htmlId && currentExternalAuthors[i].mail != newMail)) {¤			newCurrentExternalAuthors.push(currentExternalAuthors[i]);¤		}¤	}¤	currentExternalAuthors = newCurrentExternalAuthors;¤}¤¤/*private*/ function validateEmail(email) {¤   var reg = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;¤   return reg.test(email);¤}¤¤/*private*/ function validateEas(newEa) {¤	getValidationContainer().style.display = 'none';¤	¤	var messages = [];¤	¤	for(var i=0; i<currentExternalAuthors.length; i++) {¤		if ((currentExternalAuthors[i].mail == newEa.mail) && (currentExternalAuthors[i].name == newEa.name)¤			&& (currentExternalAuthors[i].comment == newEa.comment)) {¤    			messages[1] = "$garHelper.getText('requestauthor.this.external.author.already.added')!";¤    			break;¤    		}¤	}¤	¤	var message = '';¤	for(var i=0; i<messages.length; i++) {¤		if(messages[i] != undefined && messages[i] != null) {¤			if(message != '') {¤				message += '<br/>'¤			}¤			message += messages[i];¤		}¤	}¤	¤	if(newEa.mail == '' && newEa.name == '') {¤		message = "$garHelper.getText('requestauthor.empty.name.and.email.not.acceptable')!";¤	}¤	¤	if(message != '') {¤		showValidationMessage2(message);¤		return false;¤	} else {¤		return true;¤	}¤}¤¤/*private*/ function getValidationContainer() {¤	return $('${eaValidationContainerId}');¤}¤¤/*private*/ function showValidationMessage2(message) {¤	//ses: 2 не стирать!!!¤	var validationContainer = getValidationContainer();¤	removeAllChildren(validationContainer);¤	validationContainer.style.display = '';¤	validationContainer.innerHTML = message;¤}¤¤#*private*# function createEaShowBodyHtml(ea) {¤	var innerHTML = createEaLink(ea);¤	innerHTML += "&nbsp;<span class='inline-control-link fontSizeTiny' onClick='editExternalAuthor(" + ea.htmlId + ")'>$garHelper.getText('edit.name.caps')</span>";¤	innerHTML += "&nbsp;<span class='inline-control-link fontSizeTiny' onClick='removeExternalAuthor(" + ea.htmlId + ")'>$garHelper.getText('remove.name.caps')</span>";¤	return innerHTML;¤}¤¤#*private*# function createEaEditBodyHtml(id) {¤	var eaId = "eaId" + id;¤	var nameId = "eaName" + id;¤	var emailId = "eaEmail" + id;¤	var commentId = "eaComment" + id;¤	¤	var innerHTML = "<table><tr>";¤	innerHTML += "<td>$garHelper.getText('requestauthor.name'):</td><td><input type='text' id='" + nameId + "'/><input type='hidden' id='" + eaId + "' value='0'/></td>";¤	innerHTML += "<td><a href='' onClick='return changeEmailInputMode(" + id + ")'>";¤	innerHTML += "Email:</a></td><td><input type='text' id='" + emailId + "'/>" + createSelectAllCtrlHtml(id, true) + "</td><td>";¤	¤	innerHTML += "&nbsp;<span class='inline-control-link fontSizeTiny' onClick='saveExternalAuthor(" + id + ", true)'>$garHelper.getText('ok')</span>"¤	innerHTML += "&nbsp;<span class='inline-control-link fontSizeTiny' onClick='removeExternalAuthor(" + id + ")'>$garHelper.getText('remove.name.caps')</span>"¤	¤	innerHTML += "</td></tr><tr>";¤	innerHTML += "<td>$garHelper.getText('requestauthor.description'):</td><td colspan='4'><textarea rows='3' cols='50' id='" + commentId + "'></textarea></td>";¤	innerHTML += "</tr></table>";¤	return innerHTML;¤}¤¤#*private*# function createEaEditDiv(ea) {¤	var addMode = ea == null;¤	var id = getNextId();¤	if(ea != null) {¤		ea.htmlId = id;¤	}¤	var eaCtrl = document.createElement('div');¤	eaCtrl.id = "ea" + id;¤	eaCtrl.style.marginTop = "7px";¤	¤	var eaShowBodyCtrl = document.createElement('span');¤   	eaShowBodyCtrl.id = "eaShowBody" + id;¤    eaShowBodyCtrl.style.display = addMode ? "none" : "";¤	if(ea != null) {¤    	eaShowBodyCtrl.innerHTML = createEaShowBodyHtml(ea);¤	}¤	¤	var eaEditBodyCtrl = document.createElement('span');¤	eaEditBodyCtrl.id = "eaEditBody" + id;¤	eaEditBodyCtrl.style.display = addMode ? "" : "none";¤	eaEditBodyCtrl.innerHTML = createEaEditBodyHtml(id);¤	¤	eaCtrl.appendChild(eaShowBodyCtrl);¤	eaCtrl.appendChild(eaEditBodyCtrl);¤	getEaEditContainer().appendChild(eaCtrl);¤	¤	if(ea != null) {¤		setDataById(ea, id);¤	}¤}¤¤#*private*# function changeEmailInputMode(id) {¤	var emailId = "eaEmail" + id;¤	var emailSelectionId = "eaEmailSel" + id;¤	¤	if($(emailId).style.display == "none") {¤		$(emailSelectionId).style.display = "none";¤		$(emailId).style.display = ""¤	} else {¤		createSelectAllCtrlBodyHtml($(emailSelectionId));¤		$(emailSelectionId).style.display = "";¤		$(emailId).style.display = "none"¤	}¤	selectionChanged(id);¤	return false;¤}¤¤/*private*/ function createSelectAllCtrlBodyHtml(selectionCtrl) {¤	var selectAllCtrlHtmlBody = "";¤	if(browserDetector.ie == false) { // для всех нормальных браузеров¤		for(var i=0; i<allExternalAuthors.length; i++) {¤	    	var eaObj = allExternalAuthors[i];¤	    	selectAllCtrlHtmlBody += "<option value='" + eaObj.id + "'>";¤	    	selectAllCtrlHtmlBody += eaObj.getTitle();¤	    	selectAllCtrlHtmlBody += "</option>";¤	    } ¤		selectionCtrl.innerHTML = selectAllCtrlHtmlBody;¤	} else { // убогий ie¤		for(var i=0; i<allExternalAuthors.length; i++) {¤			var eaObj = allExternalAuthors[i];¤			var optionObj = document.createElement('option');¤			optionObj.value = eaObj.id;¤			optionObj.innerHTML = eaObj.getTitle();¤			selectionCtrl.appendChild(optionObj);¤		}¤	}¤}¤¤#*private*# function createSelectAllCtrlHtml(id, displayNone) {¤	var emailSelectionId = "eaEmailSel" + id;¤	var style = displayNone ? "style='display:none'" : "";¤	var res = "<select " + style + " id='" + emailSelectionId + "' onchange='selectionChanged(" + id + ")'>";¤	res += "</select>"¤	return res;¤}¤¤#*private*# function getExternalAuthorByContentId(arr, id) {¤	for(var i=0; i<arr.length; i++) {¤		var eaObj = arr[i];¤		if(eaObj.id == id) {¤			return eaObj;¤		}¤	}¤	return null;¤}¤¤#*private*# function getExternalAuthorByIdAndMail(arr, id, mail) {¤	for(var i=0; i<arr.length; i++) {¤		var eaObj = arr[i];¤		if(eaObj.htmlId == id && eaObj.mail == mail) {¤			return eaObj;¤		}¤	}¤	return null;¤}¤	¤#*private*# function selectionChanged(id) {¤	var emailSelectionId = "eaEmailSel" + id;¤	var selectedId = $(emailSelectionId).value;	¤	var ea = null;¤	for(var i=0; i<allExternalAuthors.length; i++) {¤		var eaObj = allExternalAuthors[i];¤		if (eaObj.id == selectedId) {¤			ea = eaObj;¤			break;¤		}¤	}¤	if(ea != null) {¤		setDataById(ea, id);¤	}¤}¤¤#*private*# function setDataById(ea, id) {¤	var eaId = "eaId" + id;¤	var nameId = "eaName" + id;¤	var emailId = "eaEmail" + id;¤	var commentId = "eaComment" + id;¤	¤	$(eaId).value = ea.id;¤	$(nameId).value = ea.name;¤	$(emailId).value = ea.mail;¤	$(commentId).value = ea.comment;¤}¤¤¤#*private*# function getDataById(id) {¤	var eaId = "eaId" + id;¤	var nameId = "eaName" + id;¤	var emailId = "eaEmail" + id;¤	var commentId = "eaComment" + id;¤	¤	return new ExternalAuthor($(eaId).value, id, $(nameId).value, $(emailId).value, $(commentId).value)¤}¤¤</script>¤¤¤##UC_END*47FCA8B80234_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (vm)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"19032929849"))
	    quid       	"47FCA8B80234"
	    documentation 	"содержит разметку и js код для редактирования внешних авторов"
	    stereotype 	"VM"
	    language   	"MDA Generator")
	(object Class "spaceconfig_requestproperties"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (vm)"
		    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/spaceconfig_requestproperties.vm")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"vm:*480595A4009A_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*480595A4009A_CUSTOM_CONTENT*¤¤#requireResource("legacy.confluence.web.resources:prototype")¤¤#set($requestUserProperties = $action.getRequestUserProperties())¤#set($currentId = $requestUserProperties.size() + 1)¤¤#macro (fillJsRequestPropertiesArray)¤	#if($requestUserProperties)¤    	#foreach($prop in $requestUserProperties)¤    		#if($velocityCount == 1)¤    			new RequestProperty(new Number($velocityCount), "$prop.Name", "$prop.LabelName", "$prop.GroupToUpdate", "$prop.GroupToRead")¤    		#else¤    		, new RequestProperty(new Number($velocityCount), "$prop.Name", "$prop.LabelName", "$prop.GroupToUpdate", "$prop.GroupToRead")¤			#end¤    	#end¤	#end¤#end¤¤#macro (fillJsStringArray $arr)¤	#if($arr)¤    	#foreach($arrEl in $arr)¤    		#if($velocityCount == 1)¤    			'$arrEl'¤    		#else¤    		, '$arrEl'¤			#end¤    	#end¤	#end¤#end¤¤<script language="JavaScript">¤¤/*public*/ function RequestProperty(id, name, label, updateGroup, readGroup) {¤	this.id = id;¤	this.name = name;¤	this.label = label;¤	this.updateGroup = updateGroup;¤	this.readGroup = readGroup;¤	¤	this.panel = null;¤	this.nameInput = null;¤	this.labelInput = null;¤	this.updateGroupInput = null;¤	this.readGroupInput = null;¤	¤	this.setFields = function(requestProp) {¤		this.name = requestProp.name;¤		this.label = requestProp.label;¤		this.updateGroup = requestProp.updateGroup;¤		this.readGroup = requestProp.readGroup;¤	}¤	¤	this.setHtmlControls = function(panel, nameInput, labelInput, updateGroupInput, readGroupInput) {¤		this.panel = panel;¤		this.nameInput = nameInput;¤		this.labelInput = labelInput;¤		this.updateGroupInput = updateGroupInput;¤		this.readGroupInput = readGroupInput;¤	}¤	¤	this.getData = function() {¤		this.updateData();¤		return this;¤	}¤	¤	this.updateData = function() {¤		if(this.nameInput != null) {¤			this.name = this.nameInput.value;¤		}¤		if(this.labelInput != null) {¤			this.label = this.labelInput.value;¤		}¤		if(this.updateGroupInput != null) {¤			this.updateGroup = this.updateGroupInput.value;¤		}¤		if(this.readGroupInput != null) {¤			this.readGroup = this.readGroupInput.value;¤		}¤	}¤}¤¤/*private*/ var currentId = new Number(${currentId});¤¤/*public*/ var currentRequestProperties = [#fillJsRequestPropertiesArray()];¤¤/*private*/ var allGroupToUpdate = [#fillJsStringArray($garUserHelper.getEditPermittedGroups($action.key))];¤¤/*private*/ var allGroupToRead = [#fillJsStringArray($garUserHelper.getViewPermittedGroups($action.key))];¤¤/*public*/ function createPropertyPanels() {¤	for(var i=0; i < currentRequestProperties.length; i++) {¤		addPropertyPanel(currentRequestProperties[i]);¤	}¤}¤¤/*private*/ function getXmlHttpRequest(paramsLength) {¤	var baseURL = '$req.contextPath/ru/garant/MDProcess/ConfluenceMDChange/RequestSupport/RequestXPlugin/RequestXPackage/';¤	var requestURL = baseURL + 'requestuserpropertiessave.action';¤	¤	var xmlhttp = getXmlHttp();¤	xmlhttp.open("POST", requestURL, true);¤	xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");¤	xmlhttp.setRequestHeader("Content-length", paramsLength);¤	xmlhttp.setRequestHeader("Connection", "close");¤	return xmlhttp;¤}¤¤/*private*/ function toggleSave() {¤	if(validateProperties() == false) {¤		return false;¤	}¤	¤	var params = "requestUserPropertiesConfigString=" + getPostBackData();¤	params += "&key=$key";¤	¤	var xmlhttp = getXmlHttpRequest(params.length);¤	xmlhttp.onreadystatechange=function()¤	{¤		if (xmlhttp.readyState==4 && xmlhttp.status==200) {¤			if(xmlhttp.responseText == 'success') {¤				removeAllChildren($('space_config'));¤				$('space_config').innerHTML = "$garHelper.getText('spaceconfigmdk.save.complete')!";¤			} else {¤    			if(xmlhttp.responseXML != null) {¤					var validationMessage = xmlhttp.responseXML.getElementsByTagName('validation')[0].firstChild.nodeValue;¤    				showValidationMessage(validationMessage);¤    			} else {¤    				showValidationMessage("$garHelper.getText('spaceconfigmdk.error.while.saving.setting')");¤    			}¤			}¤		}¤	}¤	xmlhttp.send(params);¤	¤	return false;¤}¤¤/*private*/ function getPostBackData() {¤	var result = '';¤	for(var i=0; i<currentRequestProperties.length; i++) {¤		if(i != 0) {¤			result += ';';¤		}¤		var prop = currentRequestProperties[i].getData();¤		result += prop.name + ',';¤		result += prop.label + ',';¤		result += prop.updateGroup + ',';¤		result += prop.readGroup;¤	}¤	return result;¤}¤¤/*private*/ function showValidationMessage(message) {¤	removeAllChildren($('validationContainer'));¤	$('validationContainer').style.display = '';¤	$('validationContainer').innerHTML = message;¤}¤¤/*private*/ function validateProperties() {¤	$('validationContainer').style.display = 'none';¤	¤	var messages = [];¤	for(var i=0; i<currentRequestProperties.length; i++) {¤		var currentRequestProperty = currentRequestProperties[i].getData();¤		if(messages[0] == undefined || messages[0] == null) {¤    		if(currentRequestProperty.name == '' || currentRequestProperty.label == '') {¤    			messages[0] = "$garHelper.getText('spaceconfigreqprop.empty.names.and.labels.illegal')";¤    		}¤		}¤		if(messages[2] == undefined || messages[2] == null) {¤			if(currentRequestProperty.name.indexOf(';') != -1 || currentRequestProperty.name.indexOf(',') != -1 ¤				|| currentRequestProperty.label.indexOf(';') != -1 || currentRequestProperty.label.indexOf(',') != -1) {¤				messages[2] = "$garHelper.getText('spaceconfigreqprop.symbols.illegal.in.names.and.labels')";¤			}¤		}¤		if(messages[1] == undefined || messages[1] == null && i < currentRequestProperties.length - 1) {¤    		for(var j=i+1; j<currentRequestProperties.length; j++) {¤    			var requestPropertyToCompare =  currentRequestProperties[j].getData();¤				if(currentRequestProperty.name == requestPropertyToCompare.name ||¤    				currentRequestProperty.label == requestPropertyToCompare.label) {¤    				messages[1] = "$garHelper.getText('spaceconfigreqprop.equals.names.and.labels.illegal')";¤    				break;¤    			}¤    		}¤		}¤	}¤	var message = '';¤	for(var i=0; i<messages.length; i++) {¤		if(messages[i] != undefined && messages[i] != null) {¤			if(message != '') {¤				message += '<br/>'¤			}¤			message += messages[i];¤		}¤	}¤	if(message != '') {¤		showValidationMessage(message);¤		return false;¤	} else {¤		return true;¤	}¤}¤¤/*private*/ function getNextId() {¤	currentId++;¤	return currentId;¤}¤¤/*private*/ function createInput(type, value, size) {¤	var result = document.createElement('input');¤	result.type = type;¤	result.value = value;¤	if(size != null && size != undefined) {¤		result.size = size;¤	}¤	return result;¤}¤¤/*private*/ function createSelect(options, selectedOption, width) {¤	var result = document.createElement('select');¤	result.style.width = width;¤	for(var i=0; i<options.length; i++) {¤		var option = document.createElement('option');¤		option.text = options[i];¤		option.value = options[i];¤		if(selectedOption == options[i]) {¤			option.selected = true;¤		}¤		result.options[i] = option;¤	}¤	return result;¤}¤¤/*private*/ function addPropertyPanel(requestProperty) {¤	var panel = $('propertiesTable').insertRow(-1);¤	¤	var nameTd = document.createElement('td');¤	var labelTd = document.createElement('td');¤	var updateGroupTd = document.createElement('td');¤	var readGroupTd = document.createElement('td');¤	var deleteButtonTd = document.createElement('td');¤	¤	var size = 25;¤	var nameInput = createInput('text', requestProperty.name, size);¤	var labelInput = createInput('text', requestProperty.label, size);¤	var updateGroupInput = createSelect(allGroupToUpdate, requestProperty.updateGroup, 150);¤	var readGroupInput = createSelect(allGroupToRead, requestProperty.readGroup, 150);¤	requestProperty.setHtmlControls(panel, nameInput, labelInput, updateGroupInput, readGroupInput);¤	¤	//var deleteButton = createInput('button', 'delete')¤	//deleteButton.setAttribute('onClick', 'deleteRequestProperty(' + requestProperty.id + '); return false');¤	¤	var onclicktext = 'deleteRequestProperty("' + requestProperty.id + '"); return false';¤	deleteButtonTd.innerHTML += "<input type='button' onClick='" + onclicktext + "' value='$garHelper.getText('delete.name')'>";¤	¤	nameTd.appendChild(nameInput);¤	labelTd.appendChild(labelInput);¤	updateGroupTd.appendChild(updateGroupInput);¤	readGroupTd.appendChild(readGroupInput);¤	¤	panel.appendChild(nameTd);¤	panel.appendChild(labelTd);¤	panel.appendChild(updateGroupTd);¤	panel.appendChild(readGroupTd);¤	panel.appendChild(deleteButtonTd);¤	¤	return panel;¤}¤¤/*private*/ function removeAllChildren(ctrl) {¤	 if (ctrl.hasChildNodes()) {¤        while (ctrl.childNodes.length >= 1) {¤            ctrl.removeChild(ctrl.firstChild );       ¤        } ¤    }¤}¤¤/*private*/ function deleteRequestProperty(id) {¤	var newCurrentRequestProperties = [];¤	var propertyToRemove = null;¤	for(var i=0; i<currentRequestProperties.length; i++) {¤		var currentProperty = currentRequestProperties[i];¤		if(currentProperty.id != id) {¤			newCurrentRequestProperties.push(currentProperty);¤		} else {¤			propertyToRemove = currentProperty;¤		}¤	}¤	currentRequestProperties = newCurrentRequestProperties;¤	var i = propertyToRemove.panel.rowIndex;¤	$('propertiesTable').deleteRow(i);¤}¤¤/*private*/ function addRequestProperty() {¤	var newProperty = new RequestProperty(getNextId(), '', '', '', '');¤	currentRequestProperties.push(newProperty);¤	addPropertyPanel(newProperty);	¤}¤¤/*private*/ function getRequestPropertyIndex(id) {¤	for(var i=0; i<currentRequestProperties.length; i++) {¤		if(currentRequestProperties[i].id == id) {¤			return i;¤		}¤	}¤	return -1;¤}¤¤</script>¤¤<script type="text/javascript" language="JavaScript">¤	Event.observe(window, 'load', createPropertyPanels, false);¤</script>¤¤<html>¤	<head>¤		<title>$garHelper.getText('spaceconfigreqprop.users.requests.properties')</title>¤	</head>¤¤#applyDecorator("root")¤	#decoratorParam("helper" $action.helper)¤	#decoratorParam("context" "space-administration")¤	#decoratorParam("mode" "view-space-administration")¤			¤	#applyDecorator ("root")¤		#decoratorParam ("context" "spaceadminpanel")¤		#decoratorParam ("selection" $action.selection)¤		#decoratorParam ("title" $action.getActionName($action.getClass().getName()))¤		#decoratorParam ("selectedTab" "admin")¤		#decoratorParam ("helper" $action.helper)¤				¤			¤	<form id="space_config_request_user_properties_form"><div id="space_config" style="padding-top: 10px;">¤		<table width="800px" cellspacing="5" cellpadding="5">¤		<tr>¤			<td widht="100%">¤				<span class="formtitle" style="font-size:10pt;">$garHelper.getText('spaceconfigreqprop.input.or.edit.users.requests.properties'):</span>¤			</td>¤		</tr>¤		<tr>¤			<td widht="100%">¤        		<table width="100%" style="border: 1px solid #cccccc;" cellspacing="5" cellpadding="5">¤        			<tr>¤						<td>¤							<table width="100%" id="propertiesTable">¤								<tr>¤                    				<td align="center">$garHelper.getText('spaceconfigreqprop.name.properties')</td>¤                    				<td align="center">$garHelper.getText('spaceconfigreqprop.name.label')</td>¤                    				<td align="center">$garHelper.getText('spaceconfigreqprop.edit')</td>¤                    				<td align="center">$garHelper.getText('spaceconfigreqprop.read')</td>¤            						<td>&nbsp;</td>¤								</tr>¤							</table>¤						</td>¤					</tr>¤					<tr>¤						<td colspan="5"><input type=button value="$garHelper.getText('spaceconfigreqprop.add.new')" onClick="addRequestProperty(); return false"/></td>¤					</tr>¤        		</table>¤			</td>¤		</tr>¤		<tr>¤			<td width="100%" align="left">¤				<div class="error" style="display:none;padding:10px" id="validationContainer"></div>¤			</td>¤		</tr>¤		<tr>	¤			<td widht="100%" align="right">¤				<input type=button value="$garHelper.getText('add.name')" onClick="return toggleSave()"/>&nbsp;&nbsp;<input type=button value="$garHelper.getText('cancel.name')" onClick="location.replace('${req.contextPath}/spaces/spaceadmin.action?key=$action.key');"/>¤				##<input type=hidden name="requestUserPropertiesConfigString" id="requestUserPropertiesConfigString" value=""/>¤			</td>¤		</tr>¤		</table>¤	</div></form>¤	#end¤#end¤</html>¤##UC_END*480595A4009A_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/spaceconfig_requestproperties|480595A4009A
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (vm)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"19038881480"))
	    quid       	"480595A4009A"
	    documentation 	"предоставляет web-ui для изменения пользовательских св-в запросов в спейсе MDC"
	    stereotype 	"VM"
	    language   	"MDA Generator")
	(object Class "request-data-findin"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (vm)"
		    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/request-data-findin.vm")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"vm:*481DAF5B01EB_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*481DAF5B01EB_CUSTOM_CONTENT*¤¤#set($findInReleaseListId = $findingInReleaseControlId)¤#set($buildListId = $buildListControlId)¤#set($rdsSpaceKey = $requestSpaceKey)¤#set($findInReleaseValId = $findInReleaseValControlId)¤#set($findInBuildValId = $findInBuildValControlId)¤¤#set($selectedReleaseId = false)¤#set($selectedReleaseId = $selectedFindInReleaseId)¤¤#set($selectedBuildId = false)¤#set($selectedBuildId = $selectedFindInBuildId)¤¤#set($contentContainerId=false)¤#set($contentContainerId=$findInContentContainerId) ¤¤#set($loadingContainerId=false)¤#set($loadingContainerId=$findInLoadingContainerId)¤¤<script type="text/javascript" language="JavaScript">¤¤var selectedReleaseGlobal = 0;¤var selectedBuildGlobal = 0;¤¤var prevSelectedReleaseGlobal = 0;¤var prevSelectedBuildGlobal = 0;¤¤var releasesLoading = false;¤var buildsLoading = false;¤¤function buildFindInReleaseSelect () {¤	#if($selectedReleaseId && $selectedBuildId)¤	¤	if(selectedReleaseGlobal == 0) {¤		selectedReleaseGlobal = prevSelectedReleaseGlobal = '$selectedReleaseId';¤	}¤	if(selectedBuildGlobal == 0) {¤		selectedBuildGlobal = prevSelectedBuildGlobal = '$selectedBuildId';¤	}¤	¤	#end¤	¤	rebuildFindInReleaseSelect(selectedReleaseGlobal, selectedBuildGlobal);¤}¤¤function setLoading(loading) {¤	#if($contentContainerId && $loadingContainerId)¤	¤	if(loading == true) {¤		$('$contentContainerId').style.display = 'none';¤		$('$loadingContainerId').style.display = '';¤	} else {¤		$('$contentContainerId').style.display = '';¤		$('$loadingContainerId').style.display = 'none';¤	}¤	¤	#end¤}¤¤function rebuildFindInReleaseSelect (selectedRelease, selectedBuild) {¤	setLoading(true);¤	¤	selectedReleaseGlobal = selectedRelease;¤	selectedBuildGlobal = selectedBuild;¤¤	removeAllOptions($('$findInReleaseListId'));¤	$('$findInReleaseListId').options.length = 0;¤	¤	loadFindInReleases();¤}¤¤function rebuildBuildSelect (selectedBuild, rebuild) {¤	prevSelectedBuildGlobal = selectedBuildGlobal;¤	selectedBuildGlobal = selectedBuild;¤	¤	if(rebuild == true) {¤		removeAllOptions($('$buildListId'));¤		$('$buildListId').options.length = 0;¤	¤		loadFindInBuilds();¤	}¤}¤¤function changeFindInReleaseTitle() {¤¤	if($('$findInReleaseValId') == null || $('$findInBuildValId') == null) {¤		return;¤	}¤¤	$('$findInReleaseValId').style.display = ''¤	$('$findInBuildValId').style.display = '';¤	¤	var selectedRelease = $('$findInReleaseListId').options[$('$findInReleaseListId').selectedIndex];¤	var selectedReleaseText = selectedRelease.text;¤	var selectedReleaseHref = '$req.contextPath/pages/viewpage.action?pageId=' + selectedRelease.value;¤	¤	if (selectedReleaseText == "") {¤		$('$findInReleaseValId').style.display = 'none'¤		$('$findInBuildValId').style.display = 'none';	¤	} else {¤		var selectedBuildText = "";¤		var selectedBuildHref = "";¤		¤		if($('$buildListId').selectedIndex >= 0) {¤			var selectedBuild = $('$buildListId').options[$('$buildListId').selectedIndex];¤			selectedBuildText = selectedBuild.text;¤			selectedBuildHref = '$req.contextPath/pages/viewpage.action?pageId=' + selectedBuild.value;¤		}¤		¤		$('$findInReleaseValId').href = selectedReleaseHref;¤		$('$findInReleaseValId').innerHTML = selectedReleaseText;¤		¤		$('$findInBuildValId').href = selectedBuildHref;¤		$('$findInBuildValId').innerHTML = selectedBuildText;¤	}¤	¤	setLoading(releasesLoading || buildsLoading);¤}¤¤function toggleFindInRelease() {¤	prevSelectedReleaseGlobal = selectedReleaseGlobal;¤	selectedReleaseGlobal = $('$findInReleaseListId').options[$('$findInReleaseListId').selectedIndex].value;¤	rebuildBuildSelect(0, true);¤	changeFindInReleaseTitle();	¤}¤¤function toggleFindInBuild() {¤	var selectedBuildId = $('$buildListId').options[$('$buildListId').selectedIndex].value;¤	rebuildBuildSelect(selectedBuildId, false);¤	changeFindInReleaseTitle();	¤}¤¤function toggleDiscard() {¤	selectedReleaseGlobal = prevSelectedReleaseGlobal;¤	selectedBuildGlobal = prevSelectedBuildGlobal;¤	changeFindInReleaseTitle();¤}¤¤function removeAllOptions(selectbox) {¤	var i;¤	for(i=selectbox.options.length-1;i>=0;i--) {¤		selectbox.remove(i);¤	}¤}¤¤function getXmlHttpRequest(params) {¤	var baseURL = '$req.contextPath/ru/garant/MDProcess/ConfluenceMDChange/RequestSupport/RequestXPlugin/RequestXPackage/loadfindindataforjs.action';¤	var requestURL = baseURL + params;¤	var xmlhttp = getXmlHttp();¤	xmlhttp.open("GET", requestURL);¤	return xmlhttp;¤}¤¤function doLoadFindInData(loadReleases, params) {¤	var xmlhttp = getXmlHttpRequest(params);¤	xmlhttp.onreadystatechange=function() {¤		if (xmlhttp.readyState==4 && xmlhttp.status==200) {¤			if(xmlhttp.responseXML != null) {¤				if(loadReleases == true) {¤					processFindInReleases(xmlhttp.responseXML.getElementsByTagName("rel"));¤				} else {¤					processFindInBuilds(xmlhttp.responseXML.getElementsByTagName("build"));¤				}¤			}¤		}¤	}¤	xmlhttp.send(null);¤	¤	return false;¤}¤¤function processFindInReleases(releasesElements) {¤	if(releasesElements == null) {¤		releasesLoading = false;¤		setLoading(false);¤		return;¤	}¤	¤	for(var i = 0; i < releasesElements.length; i++) {¤		var releaseElement = releasesElements[i];¤		¤		var newOption = document.createElement("option");¤		newOption.value = releaseElement.getAttribute('value');¤		newOption.innerHTML = releaseElement.getAttribute('title');¤		if(releaseElement.getAttribute('selected') == 'true') {¤			newOption.selected = true;¤			selectedReleaseGlobal = newOption.value;¤		}¤		$('$findInReleaseListId').appendChild(newOption);		¤		¤		if (selectedReleaseGlobal == newOption.value) {¤			$('$findInReleaseListId').selectedIndex = $('$findInReleaseListId').options.length-1;¤		}¤	}¤	releasesLoading = false;¤	¤	rebuildBuildSelect(selectedBuildGlobal, true);¤	¤	changeFindInReleaseTitle();¤}¤¤function processFindInBuilds(buildElements) {¤	if(!(buildElements == null || selectedReleaseGlobal == 0)) {¤		for(var i = 0; i < buildElements.length; i++) {¤			var buildElement = buildElements[i];¤			¤			var newOption = document.createElement("option");¤			newOption.value = buildElement.getAttribute('value');¤			newOption.innerHTML = buildElement.getAttribute('title');¤			$('$buildListId').appendChild(newOption);¤			¤			if (selectedBuildGlobal == newOption.value) {¤				$('$buildListId').selectedIndex = $('$buildListId').options.length-1;¤			}¤		}¤	}¤	buildsLoading = false;¤	¤	changeFindInReleaseTitle();	¤}¤¤function loadFindInReleases() {¤	if($('$findInReleaseListId').options.length <= 0) {¤		releasesLoading = true;¤		doLoadFindInData(true, "?loadReleases=true&spaceKey=$rdsSpaceKey");¤	}¤}¤¤function loadFindInBuilds() {¤	if($('$buildListId').options.length <= 0) {¤		buildsLoading = true;¤		doLoadFindInData(false, "?loadReleases=false&releaseId=" + selectedReleaseGlobal);¤	}¤}¤¤</script>¤¤##UC_END*481DAF5B01EB_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/request-data-findin|481DAF5B01EB
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (vm)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"19032930922"))
	    quid       	"481DAF5B01EB"
	    documentation 	
|содержит разметку и js код для редактирования поля "найден в"
	    
	    stereotype 	"VM"
	    language   	"MDA Generator")
	(object Class "request-prop-include-common-js"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (vm)"
		    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/request-prop-include-common-js.vm")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"vm:*48A40A9602B6_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*48A40A9602B6_CUSTOM_CONTENT*¤¤#requireResource("confluence.web.resources:jquery_with_plugins")¤¤<script type="text/javascript" language="JavaScript">¤¤/*	¤	Предполагает объявленные и проинициализарованные переменные:¤	actionURL - строка action'а¤	allEditCtrl - массив строк-идентификаторов¤	allListCtrl  - массив строк-идентификаторов¤*/¤¤/*private*/ var ajaxMutex = false;¤¤/*private*/ var toggledPrefix;¤¤/*private*/ var stackEditPlaces = new Array();¤¤/*private*/ var startEventGuid = 'start';¤/*private*/ var continueEventGuid = 'continue';¤¤// список ф-й для инициализации, нужен для повторного вызова после выполнения Ajax¤/*private*/ var initListeners = [];¤¤/*public*/ function toInit(listener, reInitFunction) {¤	var reInitDelegade = reInitFunction || listener;¤	initListeners.push(reInitDelegade);¤	AJS.toInit(listener);¤}¤¤/*private*/ function reInitListeners() {¤	jQuery.each(initListeners, function(i, listener) {¤		listener();¤	});¤}¤¤/*private*/ function submitEnter(e) {¤	var keycode;¤	if (window.event) {¤		keycode = window.event.keyCode;¤	} else if (e) {¤		keycode = e.which;¤	} else { ¤		return true;¤	}¤¤	return true;¤}¤¤/*private*/ function setMainPanelWidth() {¤	if(screen.width <= 1024) {¤		jQuery('#editPropertiesPanel').width(850);¤		jQuery('#msgValidateFailed').width(850);¤		jQuery('div.gar-property-sub-panel').width('80%');¤	}¤}¤¤/*private*/ function changingUserPropertyInProgress(message) {¤    var msgAboutChangingVar = document.getElementById("msgAboutChangingUserProperty");¤    var imgAboutChangingVar = document.getElementById("imgAboutChangingUserProperty");¤    if (message.length>0) {¤        msgAboutChangingVar.innerHTML = message;¤        msgAboutChangingVar.style.display = '';¤        imgAboutChangingVar.style.display = '';¤    } else {¤        msgAboutChangingVar.style.display = 'none';¤        imgAboutChangingVar.style.display = 'none';¤        msgAboutChangingVar.innerHTML = '';¤    }¤}¤¤/*public*/ function toggleSuggested (prefix, val) {¤	document.getElementById (prefix+"_list").value=val;¤	return false;¤}¤¤/*private*/ function getImmediate() {¤	return $('immediate_checkbox_id').checked == true;¤}¤¤/*public*/ function toggleImmediate(val) {¤	var params = "entityId=${request.request.page.id}";¤	params += "&immediate=" + val;¤	var onErrorCallback = function() {¤		$('immediate_checkbox_id').checked = !getImmediate();¤	}¤	doRequestWithoutRendering (actionURL, params, onPriorityChangedCallback, onErrorCallback);¤	return false;¤}¤¤/*private*/ function invertImmediateTooltips(immediate) {¤	if(immediate != null) {¤		var upTitle = "$garHelper.getText('requestpropinclude.move.up.group') ";¤		var downTitle = "$garHelper.getText('requestpropinclude.move.down.group') ";¤		if(immediate == "true") {¤			upTitle += "$garHelper.getText('requestpropinclude.primary')";¤			downTitle += "$garHelper.getText('requestpropinclude.primary')";¤		} else {¤			upTitle += "$garHelper.getText('requestpropinclude.secondary')";¤			downTitle += "$garHelper.getText('requestpropinclude.secondary')";¤		}¤		if(document.getElementById('moveUpGroupButton') != null){¤			document.getElementById('moveUpGroupButton').title = upTitle;¤			document.getElementById('moveDownGroupButton').title = downTitle;¤		}¤		if(document.getElementById('moveUpGroupReleaseButton') != null){¤			document.getElementById('moveUpGroupReleaseButton').title = upTitle;¤			document.getElementById('moveDownGroupReleaseButton').title = downTitle;¤		}¤	}¤}¤¤/*public*/ function toggleUnacceptedForecast(accepted) {¤	var params = "entityId=${request.request.page.id}&acceptForecast=" + accepted;¤	doRequestWithoutRendering (actionURL, params, onForecastChangedCallback, new function(){});¤	return false;¤}¤¤/*private*/ var onForecastChangedCallback = function(xmlDoc) {¤	var newForecastEl = xmlDoc.getElementsByTagName("newTimeStatistics")[0];¤	$('time_statistics_id').innerHTML = newForecastEl.firstChild.nodeValue;¤	$('unacceptedForecast_selector').style.display = "none";¤}¤¤/*private*/ var isOpenDiscussion = $garDiscussion.isOpen($request.request.page);¤¤/*private*/ function ActionThatNeedReaction (requestMessage, isNeedAutoclose, defComment, prefix) {	¤	this.request = requestMessage;¤	if (isOpenDiscussion == 1) {¤		this.autoclose = isNeedAutoclose;¤	} else {¤		this.autoclose = false;¤	}¤	this.autocloseMessage = defComment;¤	this.prefixForUserText = prefix;¤}¤¤/*private*/ function getReactionForAction (eventGuid) {¤	var actionsThatNeedReaction = {};¤	actionsThatNeedReaction["cancel"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.input.reason.cancel.contract'): ", true, "$garHelper.getText('requestpropincludejs.cancel')", "(!) *$garHelper.getText('requestpropincludejs.cancelled').* ");¤	actionsThatNeedReaction["rollback"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.input.reason.reject'): ", false, null, "(!) *$garHelper.getText('requestpropincludejs.reject').* ");¤	actionsThatNeedReaction["rollback2"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.input.reason.reject'): ", false, null, "(!) *$garHelper.getText('requestpropincludejs.reject').* ");¤	#if(($request.isCase && $request.hasProlongationDecision) == false)	¤	actionsThatNeedReaction["needtowork"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.input.reason.need.to.work'): ", false, null, "(!) *$garHelper.getText('requestpropincludejs.return.to.work').* ");¤	actionsThatNeedReaction["discard"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.input.reason.decline.request'): ", true, "$garHelper.getText('requestpropincludejs.decline')", "(!) *$garHelper.getText('requestpropincludejs.declined').* ");¤	#end¤	actionsThatNeedReaction["needtoreview"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.input.reason.need.to.review'): ", false, null, "(!) *$garHelper.getText('requestpropincludejs.return.to.review').* ");	¤	actionsThatNeedReaction["finish"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.describe.what.was.done'): ", true, "$garHelper.getText('requestpropincludejs.task.finished')", "(/) *$garHelper.getText('requestpropincludejs.task.finished').* ");	¤	actionsThatNeedReaction["finish1"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.describe.what.was.done'): ", true, "$garHelper.getText('requestpropincludejs.task.finished')", "(/) *$garHelper.getText('requestpropincludejs.task.finished').* ");¤	actionsThatNeedReaction["finish2"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.describe.what.was.done'): ", true, "$garHelper.getText('requestpropincludejs.task.finished')", "(/) *$garHelper.getText('requestpropincludejs.task.finished').* ");¤	#if($request.isRequest)¤		actionsThatNeedReaction["close"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.describe.what.was.done'): ", true, "$garHelper.getText('requestpropincludejs.task.closed')", "(/) *$garHelper.getText('requestpropincludejs.task.finished').* ");¤	#elseif($request.isContract)¤		actionsThatNeedReaction["close"] = new ActionThatNeedReaction (null, true, "$garHelper.getText('requestpropincludejs.task.closed')");¤		actionsThatNeedReaction["visamajor"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.input.comment'):", false, null, "(/) *$garHelper.getText('requestpropincludejs.visa.set').* ");¤		¤		var textAction = '$garHelper.getText("MDProcess.ContractChange.Entities.ContractRequestLifecycle.StateModel.OnFinApprove")';¤		var stateRequest = '$request.state';¤		if(stateRequest == textAction){¤			actionsThatNeedReaction["needtowork"] = new ActionThatNeedReaction ("", false, null, "");¤			actionsThatNeedReaction["approve"] = new ActionThatNeedReaction ("", false, null, "");	¤			actionsThatNeedReaction["approveWithClause"] = new ActionThatNeedReaction ("", false, null, "");	¤			actionsThatNeedReaction["specify"] = new ActionThatNeedReaction ("", false, null, "");¤			$('is_need_put_comment_in_body').checked = true;¤		}¤	#elseif($request.isCase && ($request.hasProlongationDecision == false))¤		actionsThatNeedReaction["suspend"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.input.reason.suspend.case'): ", true, "$garHelper.getText('requestpropincludejs.suspended.case')", "(!) *$garHelper.getText('requestpropincludejs.suspended.case').* ");¤	#elseif($request.isUvsQuery)¤		var textAction = '$garHelper.getText("MDProcess.DocCardChange.Entities.UVSStateMachine.StateModel.OnAcceptInRIB")';¤		var stateRequest = '$request.state';¤		if(stateRequest != textAction){¤			actionsThatNeedReaction["takeoffquery"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.input.comment'):", false, null, "");¤		}¤		actionsThatNeedReaction["doanswer"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.input.comment'):", false, null, "");¤		actionsThatNeedReaction["dosearchinogv"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.input.comment'):", false, null, "");¤		actionsThatNeedReaction["badanswer"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.input.comment'):", false, null, "");¤		actionsThatNeedReaction["doclose"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.input.comment'):", false, null, "");¤		if(eventGuid.startsWith("discardedresponse")){¤			actionsThatNeedReaction[eventGuid] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.input.reason.decline.request'): ", true, "$garHelper.getText('requestpropincludejs.decline')", "");¤		}¤	#end¤	actionsThatNeedReaction["repeat"] = new ActionThatNeedReaction (null, true, "$garHelper.getText('requestpropincludejs.repeat')");¤	actionsThatNeedReaction["retest"] = new ActionThatNeedReaction ("$garHelper.getText('requestpropincludejs.input.reason.retest'): ", false, null, "(!) *$garHelper.getText('requestpropincludejs.return.to.retest').* ");¤	¤	return actionsThatNeedReaction[eventGuid];¤}¤ ¤/*private*/ function showUserCommentAndCloseDiscussionControls(eventGuid) {¤	$('user_comment_row').style.display = 'none';¤	$('close_discussion_row').style.display = 'none';¤	$('user_comment_text').value = "";¤	¤	var activeStateName = '$garHelper.getText("MDProcess.ConfluenceMDChange.Requests.AbstractRequestLifeCycle.StateModel.Active")';¤	¤	var actionThatNeedReaction = getReactionForAction (eventGuid);¤	if (actionThatNeedReaction != null) {¤		if (actionThatNeedReaction.request != null) {¤			if(eventGuid == 'rollback' && document.getElementById("event_val").innerHTML == activeStateName) {¤				$('put_comment_in_body').style.display = '';¤			}¤			else if($('put_comment_in_body').style.display == ''){¤				$('put_comment_in_body').style.display = 'none';¤			}¤			¤			$('user_comment_row').style.display = '';			¤			$('user_comment_id').innerHTML = actionThatNeedReaction.request;¤			¤			var textAction = '$garHelper.getText("MDProcess.ContractChange.Entities.ContractRequestLifecycle.StateModel.OnFinApprove")';¤			var stateRequest = '$request.state';¤			if(stateRequest == textAction){¤				var dataProtocol = new Date();¤				var day = dataProtocol.getUTCDate();¤				var month = dataProtocol.getUTCMonth() + 1;¤				if (day < 10) {¤					day = "0" + day;¤				}	¤				if (month <10) {¤					month = "0" + month;¤				}¤				var dateWithoutTime = day + '.' + month + '.' + dataProtocol.getUTCFullYear();¤				var text = '$garHelper.getText("requestpropincludejs.protocol.from.and.number")';¤				text = text.replace('{0}', dateWithoutTime);¤				$('user_comment_text').value = text;¤			}¤		}¤		if (actionThatNeedReaction.autoclose == true) {¤			$('close_discussion_row').style.display = '';									¤		}		¤	}¤}¤¤/*private*/ function showExecutorEventDecisionControls() {¤	$('event_decision_row').style.display = 'none';¤	$('executor_event_comment').value = "";¤	#if(!$request.isUvsQuery)¤	if(multipleExecutors()) {¤		$('event_decision_row').style.display = '';¤	}¤		¤	#end¤}¤¤/*private*/ function multipleExecutors() {¤	#if($request)¤		return $request.request.executors.size() > 1 == true || $request.request.hasResultDecision() == false;¤	#else¤	return false;¤	#end¤}¤¤/*private*/ function addExtendParamsForReactionToAction (actionThatNeedReaction, params) {¤	var isNeedCloseDiscussion = false;¤	var summaryUserText = null;¤	var summaryAutoComment = null;¤	¤	if (actionThatNeedReaction != null) {¤		if (actionThatNeedReaction.request != null) {¤			summaryUserText = $('user_comment_text').value;¤			var curList = document.getElementById("event_list");¤			var eventValue = curList.options[curList.selectedIndex].value;¤		¤			if (summaryUserText.length > 0 && eventValue.startsWith("discardedresponse") == false) {¤				params += "&summaryUserText=" + encodeURIComponent (actionThatNeedReaction.prefixForUserText+summaryUserText);¤			}¤		}¤		¤		if (actionThatNeedReaction.autoclose == true && $('is_need_close_discussion').checked == true) {¤			isNeedCloseDiscussion = true;¤			params += "&isCloseDiscussion=true";¤			summaryAutoComment = actionThatNeedReaction.autocloseMessage;¤			params += "&autoSummaryComment=" + encodeURIComponent (summaryAutoComment);¤		}¤		if ($('is_need_put_comment_in_body').checked == true) {¤			params += "&isPutCommentInBody=true";¤		}¤	}¤	return params;¤}¤¤/*private*/ function checkUnrecoverableState(eventGuid) {¤	var unrecoverableStates = $H('$requestHelper.getUnrecoverableStatesJs()'.evalJSON());¤	var stateMsg = unrecoverableStates.get(eventGuid);¤	if(stateMsg) {¤		return confirm(stateMsg);¤	}¤¤	return true;¤}¤¤/*public*/ function toggleAll (prefix) {¤	showProgressImage(true, prefix);¤¤	if(prefix == "type"){¤    	var curList = document.getElementById(prefix+"_list");¤    	if(curList.selectedIndex >= 0) {¤    		var typeValue = curList.options[curList.selectedIndex].innerHTML;¤    		if(typeValue == '$garHelper.getText("requesttype.error")' && (¤    			(document.getElementById("findin_release_val") != null ¤    				&& document.getElementById("findin_release_val").innerHTML == '') ||¤    			(document.getElementById("findin_release_val") == null ¤    				&& (document.getElementById("findInBuild_selector") == null || ¤    						document.getElementById("findInBuild_selector") != null ¤    						&& document.getElementById("findInBuild_selector").innerHTML == '')¤    			)	¤    		)){¤				showProgressImage(false, prefix);¤    			alert("Для ошибки необходимо заполнить поле Найдено в");¤    			return false;¤    		}¤    	}¤	}¤¤	var params = buildParams (prefix);¤¤	if(prefix == "event"){¤    	var curList = document.getElementById(prefix+"_list");¤    	if(curList.selectedIndex >= 0) {¤    		var eventValue = curList.options[curList.selectedIndex].value;¤			var textAction = '$garHelper.getText("MDProcess.ConfluenceMDChange.Requests.AbstractRequestLifeCycle.StateModel.Active")';¤    		var stateRequest = '$request.state';¤    		if((eventValue == "finish1" || eventValue == "finish2" || eventValue == "close" && stateRequest == textAction) && "$requestHelper.createAnotherRequestThenClosedRequest()" == "true"){¤				var response = confirm("$garHelper.getText('requestpropincludecommonjs.question.past.modification.in.the.other.project')?");¤				if (response == true){¤					params += "&createAnotherRequest=true";¤				}¤    		}¤		}¤		#if($request.isCase && $request.hasProlongationDecision)¤    	var prolongationDecisionList = document.getElementById("prolongationDecision_list");¤		params += "&prolongationDecision=" + prolongationDecisionList.options[prolongationDecisionList.selectedIndex].value;¤		#end¤	}¤	¤	if(params != false) {¤		if(!checkUnrecoverableState(getEventGuid ())) {¤			showProgressImage(false, prefix);¤			return false;¤		}¤	¤		var actionThatNeedReaction = getReactionForAction (getEventGuid ());¤		params = addExtendParamsForReactionToAction(actionThatNeedReaction, params);	¤		if(getEventGuid() != '' && multipleExecutors()) {¤			params += "&eventComment=" + encodeURIComponent($F('executor_event_comment'));¤		}¤		¤		if (actionThatNeedReaction != null) {¤			doRequest (actionURL, params, true);¤		} else {¤			doRequest (actionURL, params, false);¤		}		¤		¤		return false;¤	}¤}¤¤/*private*/ function buildParams (aPrefix) {¤	var params = "entityId=${request.request.page.id}";¤	if($('newParentPageTitle') != null){¤		if($('newParentPageTitle').value != '') {¤			params += '&newParentPageTitle=' + encodeURIComponent($('newParentPageTitle').value);¤		} else if($('parentPageStringRequest') != null){¤			var newParentTitle = $('parentPageStringRequest').value;¤			if (newParentTitle != '') {¤				if ("$garHelper.escapeJavaScript($requestParentPage)" == "false" || "$garHelper.escapeJavaScript($requestParentPage.title)" != newParentTitle) {¤					params += '&newParentPageTitle=' + encodeURIComponent(newParentTitle);¤				}¤			}		¤		}¤		if($('newParentPageIsRequest').value != '') {¤			params += '&newParentPageIsRequest=true';¤		}¤	¤		if($('newParentPageSpaceKey').value != '') {¤			params += '&newParentPageSpaceKey=' + encodeURIComponent($('newParentPageSpaceKey').value);¤		} else {¤			var newSpaceKey = $('newSpaceKeyRequest').value;¤			if (newSpaceKey != '') {¤				if ("$garHelper.escapeJavaScript($requestSpaceKey)" == "false" || "$garHelper.escapeJavaScript($requestSpaceKey)" != newSpaceKey) {¤					params += '&newParentPageSpaceKey=' + encodeURIComponent(newSpaceKey);¤				}¤			}		¤		}¤	}¤	¤	for (var i = 0; i < allEditCtrl.length; i++) {¤		var prefix = allEditCtrl[i];¤		var divCtrl = $(prefix + "_div");¤		if(divCtrl != null) {¤			if ($(prefix+"_text") != null && divCtrl.style.display != 'none') {¤				params += "&" + prefix + "=" + encodeURIComponent($(prefix+"_text").value);¤			}¤		}¤	}¤	for (var i = 0; i < allListCtrl.length; i++) {¤		var prefix = allListCtrl[i];¤		var divCtrl = document.getElementById (prefix + "_div");¤		if(divCtrl != null) {¤    		if(divCtrl.style.display != 'none') { ¤    			var curList = document.getElementById(prefix+"_list");¤    			if(curList.selectedIndex >= 0) {¤    				#if($request.isUvsQuery)¤    					params += getParamEvent(curList, prefix);¤    				#else¤    					params += "&" + prefix + "=" + encodeURIComponent(curList.options[curList.selectedIndex].value);¤    				#end¤    			} else if(prefix == 'findInBuild'){¤    				params += "&" + prefix + "=0";¤				}¤    		}¤		}¤	}¤	#if($request.isUvsQuery)¤		params += getAdditionalParams();¤	#end¤	if(window['allMultiListCtrl'] != undefined) {¤		var J = jQuery;¤    	J.each(allMultiListCtrl, function(i, ctrlId) {¤    		var ctrlParams = '';¤			J('#' + ctrlId + '_list:visible option').each(function() {¤    			ctrlParams += '&' + ctrlId + '=' + encodeURIComponent(J(this).val());¤    		});¤			params += ctrlParams;¤    	});¤	}¤	¤	if(typeof(window['saveAllOpenEaPanels']) != "undefined") {¤	 	var validationResult = saveAllOpenEaPanels();¤		if(validationResult == false) {¤			showProgressImage(false, aPrefix);¤			return false;¤		}¤		// dummy params to understand wheather external authors were modified¤		params += "&eaIds=-1&eaEmails=dummy&eaNames=dummy&eaComments=dummy";¤    	for(var i=0; i<currentExternalAuthors.length; i++) {¤			params += "&eaIds=" + currentExternalAuthors[i].id;¤    		params += "&eaEmails=" + currentExternalAuthors[i].mail;¤    		params += "&eaNames=" + currentExternalAuthors[i].name;¤    		params += "&eaComments=" + currentExternalAuthors[i].comment;¤    	}¤	}¤	return params;¤}¤¤/*private*/ function doRequestWithoutRendering(requestURL, params, onComplete, onError) {¤	if(ajaxMutex) {¤		alert("$garHelper.getText('load.another.request')");¤		return;¤	}¤	ajaxMutex = true;¤	¤	new Ajax.Request(requestURL, {¤		method: 'post',¤		parameters: params,¤		onSuccess: function(xmlhttp) {¤			ajaxMutex = false;¤			¤			showChangingMessage(false);¤			showEditForm(true);¤		¤			var errorBlock = xmlhttp.responseXML.getElementsByTagName("has-error")[0];¤			if (errorBlock == null) {¤				hideValidationMessage();¤				onComplete(xmlhttp.responseXML);¤			} else {¤				showValidationMessage(errorBlock.firstChild.nodeValue);¤##				onError();¤			}¤		},¤		onFailure: function(xmlhttp) {¤			ajaxMutex = false;¤		¤			alert("$garHelper.getText('saving.the.page.failed')");¤			window.location.reload(true);¤			return;¤		}¤	});¤}¤¤/*private*/ function onRequestSuccessful(xmlhttp) {¤	var requestMovedBlock = xmlhttp.responseXML.getElementsByTagName("requestMoved")[0];¤	if(requestMovedBlock != null) {¤	// request's parent changed - need to reload page¤		window.location.reload(true);¤		return;¤	}¤	// set ajax response content¤	document.getElementById("requestPropSelector").innerHTML = ¤		xmlhttp.responseXML.getElementsByTagName("form-content")[0].firstChild.nodeValue;¤	¤	reInitListeners();¤		¤	/*¤	if(typeof(window['reCreateEaPanels']) != "undefined") {¤		reCreateEaPanels();¤	}¤	if($('completionTime_text') != null) {¤		initCompletionTimeCalendar();¤	}¤	$('editPropertiesPanel').onkeydown=submitEnter;¤	setMainPanelWidth();¤	*/¤#*	¤	if (needToReloadPage) {¤		window.location.replace("$req.contextPath/pages/viewpage.action?pageId=" + $request.request.page.id);					¤	}¤*#	¤}¤¤/*private*/ function doRequest (requestURL, params, needToReloadPage) {¤	if(ajaxMutex) {¤		alert("$garHelper.getText('load.another.request')");¤		showProgressImage(false);¤		return;¤	}¤	ajaxMutex = true;¤	¤	var actionThatNeedReaction = getReactionForAction (getEventGuid());¤	¤	new Ajax.Request(requestURL, {¤		method: 'post',¤		parameters: params,¤		evalJS: 'force',¤		onSuccess: function(xmlhttp) {¤			ajaxMutex = false;¤			showProgressImage(false);¤			var errorBlock = xmlhttp.responseXML.getElementsByTagName("has-error")[0];¤			¤				if (errorBlock == null) {¤					hideValidationMessage();¤					var hasPostAction = actionThatNeedReaction != null && (actionThatNeedReaction.request != null || actionThatNeedReaction.autoclose == true);¤					if("$request.getStateSortValue()" == "64"){¤						var createdQuery = xmlhttp.responseXML.getElementsByTagName("createdquery")[0];¤						if (createdQuery != null) {¤							window.location.replace(createdQuery.firstChild.nodeValue);¤						}else{¤							window.location.reload(true);¤						}¤						return;¤					}	¤					else{	¤						if (hasPostAction || multipleExecutors()) {¤							window.location.reload(true);¤							return;¤						} else {¤							onRequestSuccessful(xmlhttp);¤						}¤					}¤				} else {¤					showChangingMessage(false);¤					showEditForm(true);¤					var errorCode = errorBlock.getAttribute("code");¤					onRequestError(errorCode, errorBlock, needToReloadPage);¤				}¤				if(typeof(window['showNewParentDialogButton']) != "undefined") {¤						showNewParentDialogButton();¤				}¤		},¤		onFailure: function(xmlhttp) {¤			ajaxMutex = false;¤		¤			alert("$garHelper.getText('saving.the.page.failed')");¤			window.location.reload(true);¤			return;¤		}¤	});¤}¤¤/*private*/ function showProgress(show, controlsPrefix) { ¤	if(show) {¤	} else {¤	}¤}¤¤/*private*/ function showValidationMessage(msg) {¤	$('msgValidateFailed').style.display='';¤	$('msgValidateFailed').innerHTML = msg;¤}¤¤/*private*/ function hideValidationMessage() {¤	$('msgValidateFailed').style.display = 'none';¤}¤¤/*private*/ function showEditForm(show) {¤	$('editPropertiesPanel').style.display = show ? '' : 'none';¤}¤¤/*private*/ function showProgressImage(show, aToggledPrefix) {¤	if(aToggledPrefix && aToggledPrefix != 'undefined') {¤		toggledPrefix = aToggledPrefix;¤	}¤	if(toggledPrefix && toggledPrefix != 'undefined') {	¤		var progressImg = $(toggledPrefix + '_progress');¤    	if(progressImg) {¤    		show ? progressImg.show() : progressImg.hide();¤    	}¤    	¤    	var toggledButton = $(toggledPrefix + '_button_done');¤    	if(toggledButton) {¤			toggledButton.disabled = show;¤    	}¤	}¤}¤¤/*private*/ function showChangingMessage(show) {¤	if(show) {¤		$('msgAboutChanging').innerHTML = "<ul>$garHelper.getText('changing.name') ...</ul>";¤		$('msgAboutChanging').style.display = '';	¤	} else {¤		$('msgAboutChanging').style.display = 'none';	¤	}¤}¤¤/*public*/ function showUpdateCtrl(prefix) {¤	var elem_div = prefix + "_div";¤	if(document.getElementById (elem_div) == null || document.getElementById (elem_div).style.display == 'none') {¤		//////////////////¤		for (var i = 0; i < allEditCtrl.length; i++) {¤			var buttonCtrl = document.getElementById (allEditCtrl[i] + "_button_done");¤			if (buttonCtrl != null)  {¤    			if (buttonCtrl.style.display != 'none') {¤    				buttonCtrl.style.display = 'none';¤    			}¤			}¤		}¤		for (var i = 0; i < allListCtrl.length; i++) {¤			var buttonCtrl = document.getElementById (allListCtrl[i] + "_button_done");¤			if (buttonCtrl != null)  {¤				if (buttonCtrl.style.display != 'none') {¤					buttonCtrl.style.display = 'none';¤				}¤			}¤		}¤		¤		for (var i = 0; i < allCheckBoxCtrl.length; i++) {¤			var buttonCtrl = document.getElementById (allCheckBoxCtrl[i] + "_button_done");¤			if (buttonCtrl != null)  {¤				if (buttonCtrl.style.display != 'none') {¤					buttonCtrl.style.display = 'none';¤				}¤			}¤		}¤		////////////		¤		var elem_edit_link = prefix + "_edit_link";¤		if(document.getElementById (elem_edit_link) != null){¤			document.getElementById (elem_edit_link).style.display = 'none';		¤			var doneButton = document.getElementById (prefix + "_button_done");¤			if(doneButton != null)  {¤				doneButton.style.display = ''¤			}¤		}	¤		if(document.getElementById (elem_div) != null){¤			document.getElementById (elem_div).style.display = '';¤		}	¤		stackEditPlaces[stackEditPlaces.length] = prefix;¤		¤		if(prefix == 'findInBuild') {¤			buildFindInReleaseSelect();¤		} else if(prefix == 'event') {¤			doCheckEvent(getEventGuid());¤		}¤	}¤}¤¤/*public*/ function doCloseDiv(prefix) {¤	var elem_div = prefix + "_div";¤	var elem_edit_link = prefix + "_edit_link";¤	document.getElementById (elem_div).style.display = 'none';¤	document.getElementById (elem_edit_link).style.display = '';¤	if(prefix == 'findInBuild') {¤		if(document.getElementById('findInBuild_selector'))¤			document.getElementById('findInBuild_selector').innerHTML=document.getElementById('hidden_findin_data').innerHTML;¤	}¤	else if(prefix == 'forecast' && document.getElementById(prefix + "_text")){¤		document.getElementById(prefix + "_text").value = '';¤	}¤	else if(prefix == 'location_request' && document.getElementById("parentPageStringRequest")){¤		document.getElementById("parentPageStringRequest").value = '';¤	}¤	¤	var newStackEditPlaces = new Array ();¤	for (var i = 0; i < stackEditPlaces.length; i++) {¤		if (stackEditPlaces[i] != prefix) {¤			newStackEditPlaces[newStackEditPlaces.length] = stackEditPlaces[i];¤		}¤	}¤	stackEditPlaces = newStackEditPlaces;¤	if (stackEditPlaces.length != 0 && stackEditPlaces[stackEditPlaces.length-1] != prefix) {¤		var buttonCtrl = document.getElementById (stackEditPlaces[stackEditPlaces.length-1] + "_button_done");¤		buttonCtrl.style.display = '';¤	}¤	document.getElementById ("msgValidateFailed").style.display='none';¤}¤¤/*private*/ function doCheckEvent(eventGuid) {¤	if($('state_info_row') != null){¤		$('state_info_row').style.display = 'none';¤	}¤	if($('event_list_title') != null){		¤		$('event_list_title').style.width = '30%';¤	}¤	if($('event_list_cell') != null){	¤		$('event_list_cell').style.width = '50%';¤	}¤	if($('event_list_archive_cell') != null){	¤		$('event_list_archive_cell').style.display = 'none';¤	}¤	if($('event_list_assign_cell') != null){¤		$('event_list_assign_cell').style.display = 'none';¤	}¤	if($('priority_info_row') != null){	¤		$('priority_info_row').style.display = 'none';¤	}¤	¤	#if($request.isContract)¤		$('visa_rework_row').style.display = 'none';¤	#end¤	¤	if(eventGuid == 'archive' || eventGuid == 'assign') {¤		if($('priority_info_row') != null){	¤			$('priority_info_row').style.display = '';¤		}¤		if(eventGuid == 'archive') {¤			$('event_list_archive_cell').style.display = '';¤		} else if(eventGuid == 'assign') {¤			$('event_list_assign_cell').style.display = '';¤		}¤	}¤	#if($request.isContract)¤	if(eventGuid == 'needtoreview') {¤		$('visa_rework_row').style.display = '';¤	}¤	#end¤	¤	showUserCommentAndCloseDiscussionControls (eventGuid);¤	showExecutorEventDecisionControls();¤	#if($request.isUvsQuery)¤		changeDiscardedComment(eventGuid);¤	#end¤}¤¤/*public*/ function checkEvent(eventGuid) {¤	doCheckEvent(eventGuid);¤	tryShowNewParentDialog(eventGuid);¤}¤¤/*private*/ function newParentPageSelected() {¤	var eventGuid = getEventGuid();¤	if(eventGuid == 'repeat') {¤		$('state_info_row').style.display = '';¤		$('event_button_done_row').rowSpan = "2";¤	}	¤/*	$('new_parent_dialog_button').style.display = "";*/¤	$('state_info').innerHTML=$('newParentPageTitle').value;¤	if($('parentPageStringRequest') != null) {¤		$('parentPageStringRequest').value = $('newParentPageTitle').value;¤	}¤	if($('newSpaceKeyRequest') != null) {¤		var selectbox = $('newSpaceKeyRequest');¤		$('newParentPageSpaceKey').value = selectbox.options[selectbox.selectedIndex].value;¤	}¤}¤¤/*private*/ function tryShowNewParentDialog(eventGuid) {¤	if($('new_parent_dialog_button') != null){¤		showNewParentDialogButton();¤		if(eventGuid == 'repeat') {¤			$('newParentPageIsRequest').value = "true";¤			window.open('/users/spacepagepicker.action?pageId=$request.request.page.space.homePage.id&formname=parentPageForm&onClose=newParentPageSelected&currentspace=$spaceKey&fieldname=newParentPageTitle&spaceOnly=true&filterPanelKey=request_selection&filterPageGroup=request', 'link_inserter', 'width=620, height=400, resizable, scrollbars=yes');¤		} else {¤			$('parentPageStringRequest').value = "";¤			$('newParentPageTitle').value = "";¤			$('newParentPageIsRequest').value = "";¤		}¤	}¤	return false;¤}¤¤/*public*/ function showNewParentDialogButton() {¤	var eventGuid = getEventGuid();¤	if(eventGuid == 'repeat') {¤		$('new_parent_dialog_button').style.display = "";¤	} else {¤		$('new_parent_dialog_button').style.display = "none";¤	}¤	$('event_button_done_row').rowSpan = "1";¤}¤¤/*public*/ function getEventGuid() {¤	if ($('event_div') != null && $('event_div').style.display == "none") {¤		return '';¤	}¤¤	var eventListCtrl = $('event_list');¤	if(eventListCtrl != null && eventListCtrl.selectedIndex != -1) {¤		return eventListCtrl.options[eventListCtrl.selectedIndex].value;¤	} else {¤		return '';¤	}¤}¤¤function onRequestError(errorCode, errorBlock, needToReloadPage) {¤	if (errorCode == "4") {¤		var executor = document.getElementById("executor_info").getAttribute("userlogin");¤		var executorFullName = document.getElementById("executor_info").getAttribute("userfullname");¤		var currentUser = '$currentUser';¤		var text = "$garHelper.getText('requestpropincludejs.you.have.active.request')?";¤		if(executor != currentUser) {¤			text = "$garHelper.getText('requestpropincludejs.user.have') " + executorFullName + " $garHelper.getText('requestpropincludejs.user.have.active.request')?";¤		}¤		var r = confirm(text);¤		if (r == true) {¤			var changeActivityStateURL = "$req.contextPath/ru/garant/MDProcess/ConfluenceMDChange/RequestSupport/RequestXPlugin/RequestXPackage/changeactivitystate.action";¤			var changeActivityStateParams = "entityId=${request.request.page.id}&autoStopAnotherActive=true";¤			var onSuccessCallback = function () {¤				window.location.replace("$req.contextPath/pages/viewpage.action?pageId=" + $request.request.page.id);¤			}¤			doRequestWithoutRendering (changeActivityStateURL, changeActivityStateParams, onSuccessCallback, onSuccessCallback);¤		}					¤	} ¤	else {¤		showValidationMessage(errorBlock.firstChild.nodeValue);¤	}¤}¤¤/* ========= REQUEST USER PROPERTIES ========= */¤¤/*private*/ var userPropertyInProgress = false;¤¤/*private*/ function do_userproperty_label_callback(response) {¤    changingUserPropertyInProgress('');¤    add_label_callback(response);¤    disableDeleteLabelLinks();¤    userPropertyInProgress = false;¤}¤¤/*private*/ function userproperty_label_errorhandler() {¤    changingUserPropertyInProgress('');¤    disableDeleteLabelLinks();¤    userPropertyInProgress = false;¤    handleError("$garHelper.getText('requestpropincludejs.error.in.handling.request')");¤}¤¤/*private*/ function doAddUserPropertyLabel(entityId, labelId) {¤    if (!userPropertyInProgress) {¤        userPropertyInProgress = true;¤        changingUserPropertyInProgress("$garHelper.getText('requestpropincludejs.add.user.properties')...");¤        AddLabelToEntity.addLabelAny(entityId, labelId, {callback:do_userproperty_label_callback, errorHandler:userproperty_label_errorhandler});¤    }¤}¤/*private*/ function doRemoveUserPropertyLabel(entityId, labelId) {¤    if (!userPropertyInProgress) {¤        userPropertyInProgress = true;¤        changingUserPropertyInProgress("$garHelper.getText('requestpropincludejs.remove.user.properties')...");¤        RemoveLabelFromEntity.removeLabelAny(entityId, labelId, {callback:do_userproperty_label_callback, errorHandler:userproperty_label_errorhandler});¤    }¤}¤¤/*public*/ function doUserPropertyLabel(entityId, labelId, checkedCtrl) {¤    if (checkedCtrl.checked) {¤        doAddUserPropertyLabel(entityId, labelId);¤    } else {¤        doRemoveUserPropertyLabel(entityId, labelId);¤    }¤}¤¤/*public*/ function initCompletionTimeCalendar() {¤	garCalendar.setup({¤		inputField : "completionTime_text", //*¤		ifFormat : "%d.%m.%Y",¤		step : 1¤	});¤}¤¤/* ========= END REQUEST USER PROPERTIES ========= */¤¤</script>¤¤##UC_END*48A40A9602B6_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/request-prop-include-common-js|48A40A9602B6
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (vm)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"19037031284"))
	    quid       	"48A40A9602B6"
	    documentation 	"содержит общие javascript'ы для request-prop-include.vm"
	    stereotype 	"VM"
	    language   	"MDA Generator")
	(object Class "spaceconfig_mdk"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/spaceconfig_mdk|48D349E50334
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (vm)"
		    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/spaceconfig_mdk.vm")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"vm:*48D349E50334_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*48D349E50334_CUSTOM_CONTENT*¤¤#requireResource("legacy.confluence.web.resources:prototype")¤¤#set($news=$garRequestHelper.getNews($action.key))¤#set($report=$garRequestHelper.getReport($action.key))¤#set($briefing=$garRequestHelper.getBriefing($action.key))¤#set($fault=$garRequestHelper.getFault($action.key))¤#set($updatePo=$garRequestHelper.getUpdatePo($action.key))¤#set($weeklyReport=$garRequestHelper.getWeeklyReport($action.key))¤#set($shortTypeReport=$garRequestHelper.getShortTypeReport($action.key))¤¤<script language="JavaScript">¤¤var news = $news;¤var report = $report;¤var briefing = $briefing;¤var fault = $fault;¤var updatePo = $updatePo;¤var weeklyReport = $weeklyReport;¤var shortTypeReport = $shortTypeReport;¤¤function toggleNews (flag) {¤	news = flag == true;¤}¤¤function toggleReport (flag) {¤	report = flag == true;¤	if(flag == true){¤		document.getElementById("checkStandartTypeReport").checked = true;¤		document.getElementById("checkStandartTypeReport").disabled = false;¤		document.getElementById("checkShortTypeReport").disabled = false;¤		toggleShortTypeReport (false);¤	}else{¤		document.getElementById("checkStandartTypeReport").checked = false;¤		document.getElementById("checkShortTypeReport").checked = false;¤		document.getElementById("checkStandartTypeReport").disabled = true;¤		document.getElementById("checkShortTypeReport").disabled = true;¤		toggleShortTypeReport (false);¤	}¤}¤function toggleBriefing (flag) {¤	briefing = flag == true;¤}¤function toggleFault (flag) {¤	fault = flag == true;¤}¤¤function toggleUpdatePo(flag){¤	updatePo = flag == true;¤}¤¤function toggleWeeklyReport (flag) {¤	weeklyReport = flag == true;¤}¤¤function toggleShortTypeReport (flag) {¤	shortTypeReport = flag == true;¤	if(flag == true){¤		document.getElementById("checkStandartTypeReport").checked = false;¤	}else{¤		document.getElementById("checkShortTypeReport").checked = false;¤	}¤}¤¤function toggleSave () {¤	document.getElementById("space_config_mdk").innerHTML = "$garHelper.getText('spaceconfig.saving')...";¤	¤	xmlhttp = getXmlHttp();¤	var requestURL  = "$req.contextPath/ru/garant/MDProcess/ConfluenceMDChange/RequestSupport/RequestXPlugin/RequestXPackage/mdkspaceconfigsave.action";¤	requestURL += "?key=$action.key"¤			+ "&news="¤			+ news¤			+ "&report="¤			+ report¤			+ "&briefing="¤			+ briefing¤			+ "&fault="¤			+ fault¤			+ "&updatePo="¤			+ updatePo¤			+ "&weeklyReport="¤			+ weeklyReport¤			+ "&shortTypeReport="¤			+ shortTypeReport;¤	xmlhttp.open("GET", requestURL, true);¤	¤	xmlhttp.onreadystatechange=function()¤	{¤		if (xmlhttp.readyState==4 && xmlhttp.status==200) {¤			if(xmlhttp.responseText == "success") {¤				$("space_config_mdk").innerHTML = "$garHelper.getText('spaceconfigmdk.save.complete')!"¤			} else {¤				$("space_config_mdk").innerHTML = "$garHelper.getText('spaceconfigmdk.error.while.saving.setting')!"¤			}¤		}¤	}¤¤	xmlhttp.send(null);¤}¤¤</script>¤¤<html>¤	<head>¤		<title>$garHelper.getText('settings.mdk.space')</title>¤	</head>¤	¤#applyDecorator("root")¤	#decoratorParam("helper" $action.helper)¤	#decoratorParam("context" "space-administration")¤	#decoratorParam("mode"  "view-space-administration")¤			¤#applyDecorator ("root")¤	#decoratorParam ("context" "spaceadminpanel")¤	#decoratorParam ("selection" $action.selection)¤	#decoratorParam ("title" $action.getActionName($action.getClass().getName()))¤	#decoratorParam ("selectedTab" "admin")¤	#decoratorParam("helper" $action.helper)	¤¤<form><div id="space_config_mdk" style="padding-top: 0px;">				¤	<table>¤		<tr>¤			<td align="left" align="left">¤				<span class="formtitle" style="font-size:10pt;" align="center">¤					$garHelper.getText('spaceconfigmdk.choose.types.news'):¤				</span>¤			</td>¤		</tr>¤		<tr>¤			<td style="border: 1px solid rgb(204, 204, 204);" colspan="3">¤				<table align="left" valign="center">¤					<tr>¤						<td>¤							<input id="checkNews" type="checkbox" #if($news == true)checked="checked" #end value="true" name="checkNews" onclick="toggleNews(checkNews.checked)"/>¤						</td>	¤						<td valign="top" nowrap="" align="left">¤							<span class="smalltext" style="font-size:10pt;" align="right">$garHelper.getText('spaceconfigmdk.news')</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;¤						</td>¤						<td>¤							<input id="checkReport" type="checkbox" #if($report == true)checked="checked"#end value="true" name="checkReport" onclick="toggleReport(checkReport.checked)"/>¤						</td>	¤						<td valign="top" nowrap="" align="left">¤							<span class="smalltext" style="font-size:10pt;" align="right">$garHelper.getText('spaceconfigmdk.report'):</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;¤						</td>	¤##: ¤						<td>¤							<input id="checkStandartTypeReport" type="radio" #if($report == false)disabled="true"#end #if($shortTypeReport == false && $report == true)checked="checked" #end value="false" name="checkStandartTypeReport" onclick="toggleShortTypeReport(false)"/>¤						</td>	¤						<td valign="top" nowrap="" align="left">¤							<span class="smalltext" style="font-size:10pt;" align="right">&#1089;&#1090;&#1072;&#1085;&#1076;&#1072;&#1088;&#1090;&#1085;&#1099;&#1081;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;¤						</td>	¤						<td>¤							<input id="checkShortTypeReport" type="radio" #if($report == false)disabled="true"#end #if($shortTypeReport == true && $report == true)checked="checked" #end value="true" name="checkShortTypeReport" onclick="toggleShortTypeReport(true)"/>¤						</td>	¤						<td valign="top" nowrap="" align="left">¤							<span class="smalltext" style="font-size:10pt;" align="right">&#1082;&#1088;&#1072;&#1090;&#1082;&#1080;&#1081;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;¤						</td>	¤¤						<td>¤							<input id="checkBriefing" type="checkbox" #if($briefing == true)checked="checked" #end value="true" name="checkBriefing" onclick="toggleBriefing(checkBriefing.checked)"/>¤						</td>	¤						<td valign="top" nowrap="" align="left">¤							<span class="smalltext" style="font-size:10pt;" align="right">$garHelper.getText('spaceconfigmdk.briefing')</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;¤						</td>¤						<td>¤							<input id="checkFault" type="checkbox" #if($fault == true)checked="checked" #end value="true" name="checkFault" onclick="toggleFault(checkFault.checked)"/>¤						</td>	¤						<td valign="top" nowrap="" align="left">¤							<span class="smalltext" style="font-size:10pt;" align="right">$garHelper.getText('spaceconfigmdk.fault')</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;¤						</td>¤						<td>¤							<input id="checkUpdatePo" type="checkbox" #if($updatePo == true)checked="checked" #end value="true" name="checkUpdatePo" onclick="toggleUpdatePo(checkUpdatePo.checked)"/>¤						</td>	¤						<td valign="top" nowrap="" align="left">¤							<span class="smalltext" style="font-size:10pt;" align="right">$garHelper.getText('spaceconfigmdk.update.po')</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;¤						</td>¤¤						<td>¤							<input id="checkWeeklyReport" type="checkbox" #if($weeklyReport == true)checked="checked" #end value="true" name="checkWeeklyReport" onclick="toggleWeeklyReport(checkWeeklyReport.checked)"/>¤						</td>	¤						<td valign="top" nowrap="" align="left">¤							<span class="smalltext" style="font-size:10pt;" align="right">$garHelper.getText('spaceconfigmdk.weeklyreport')</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;¤						</td>	¤					</tr>¤				</table>¤			</td>¤		</tr>		¤		<tr>¤			<td align="right"><input type=button value="$garHelper.getText('add.name')" onClick="toggleSave();"/>&nbsp;&nbsp;<input type=button value="$garHelper.getText('cancel.name')" onClick="location.replace('${req.contextPath}/spaces/spaceadmin.action?key=$action.key');"/></td>¤		</tr>¤	</table>¤</div></form>¤#end¤#end¤</html>¤¤##UC_END*48D349E50334_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (vm)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"19038940916"))
	    quid       	"48D349E50334"
	    documentation 	
|настройки MDK спейса:
|- типы новостей
	    
	    stereotype 	"VM"
	    language   	"MDA Generator")
	(object Class "request-prop-include-js"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (vm)"
		    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/request-prop-include-js.vm")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"vm:*48E9BEDD0014_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*48E9BEDD0014_CUSTOM_CONTENT*¤¤#parse("/ConfluenceMDChange/RequestView/request-prop-include-common-js.vm")¤¤<script type="text/javascript" language="JavaScript">¤¤var actionURL = "$req.contextPath/ru/garant/MDProcess/ConfluenceMDChange/RequestSupport/RequestXPlugin/RequestXPackage/editrequest.action";¤var allEditCtrl = ["forecast", "priorityCalculationType", "releasePriorityCalculationType", "location_request"];¤var allListCtrl = ["type", "event", "executor", "developer", "tester", "importance", "release", "findInBuild"];¤var allCheckBoxCtrl = [];¤¤function togglePriorityChange(up, user) {¤	var immediate = getImmediate();¤	var val = "";¤	if(up == true) {¤		val = immediate ? (user != null ? "RELEASE_USER_IMMEDIATE_FIRST" : "RELEASE_IMMEDIATE_FIRST") : (user != null ? "RELEASE_USER_NOT_IMMEDIATE_FIRST" : "RELEASE_NOT_IMMEDIATE_FIRST");¤	} else {¤		val = immediate ? (user != null ? "RELEASE_USER_IMMEDIATE_LAST" : "RELEASE_IMMEDIATE_LAST") : (user != null ? "RELEASE_USER_NOT_IMMEDIATE_LAST" : "RELEASE_NOT_IMMEDIATE_LAST");¤	}¤	var params = "entityId=${request.request.page.id}";¤	params += "&priorityRecalculationType=" + val;¤	params += "&isNeedPriorityChange=true";¤	doRequestWithoutRendering (actionURL, params, onPriorityChangedCallback, new function(){});¤	return false;¤}¤¤var onPriorityChangedCallback = function(xmlDoc) {¤	var newPosEl = xmlDoc.getElementsByTagName("newPos")[0];¤	var newPosExecutorEl = xmlDoc.getElementsByTagName("newPosExecutor")[0];¤	var immediate = xmlDoc.getElementsByTagName("immediate")[0];¤	¤	if(newPosEl != null) {¤		$('positionByPriority').innerHTML = newPosEl.firstChild.nodeValue;¤	}¤	if(newPosExecutorEl != null) {¤		$('ownerPriorityPosition').innerHTML = newPosExecutorEl.firstChild.nodeValue;¤	}¤	invertImmediateTooltips(immediate.firstChild.nodeValue);¤}¤¤¤</script>¤¤##UC_END*48E9BEDD0014_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/request-prop-include-js|48E9BEDD0014
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (vm)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"19032931985"))
	    quid       	"48E9BEDD0014"
	    documentation 	"содержит скрипты, специфичные для работы с запросами"
	    stereotype 	"VM"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"19016103291"))
		    quid       	"48E9BF170021"
		    stereotype 	"include"
		    supplier   	"Logical View::MDProcess::ConfluenceMDChange::RequestView::request-prop-include-common-js"
		    quidu      	"48A40A9602B6")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"19016103677"))
		    quid       	"4926AA370061"
		    stereotype 	"include"
		    supplier   	"Logical View::MDProcess::ConfluencePlugins::CalendarView::calendar_includes"
		    quidu      	"4926A91F0398"))
	    language   	"MDA Generator")
	(object Class "request-location-form"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (vm)"
		    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/request-location-form.vm")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"vm:*48F59F9201A2_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*48F59F9201A2_CUSTOM_CONTENT*¤¤#set($availableSpaces = $request.availableSpacesForRequest)¤¤<script>¤¤<!--¤¤function blankParent()¤{¤    var parentTextBox = document.getElementById('parentPageStringRequest');¤    var selectbox = document.getElementById('newSpaceKeyRequest');¤    var space = selectbox.options[selectbox.selectedIndex].value;¤    var currentSpace = '$generalUtil.htmlEscapeQuotes($spaceKey)';¤¤    if(currentSpace != space)¤    {¤        parentTextBox.value='';¤    }¤    else¤    {¤        parentTextBox.value='$!parentPageStringRequest';¤    }¤}¤¤function hideRequestLocationDiv()¤{¤    $('location_request_div').style.display = 'none';¤    #if ($availableSpaces.size() > 1)¤        publishFormData($('newSpaceKeyRequest'), $('space_info'), $('space_content'));¤    #end¤    publishFormData($('parentPageStringRequest'), $('parent_info'), $('parent_content'));¤¤    $('location_request_edit_link').innerHTML = "$garHelper.getText('edit.name.caps')";¤    highlight($('location_request_info'));¤}¤¤function showRequestLocationDiv()¤{¤    $('location_request_div').style.display = 'block';¤    $('location_request_edit_link').innerHTML = "$garHelper.getText('done.name.caps')";¤}¤¤function toggleLocationRequest()¤{¤    if($('location_request_div').style.display == 'none')¤    {¤       showRequestLocationDiv();¤    }¤    else¤    {¤        hideRequestLocationDiv();¤    }¤    return false;¤}¤¤¤¤function showSelectNewParentWindowForRequest() {¤	var mapForFiltrateLabels = new Object();¤	var currentSpace = $('newSpaceKeyRequest').value;¤	#foreach ($space in $availableSpaces)¤		mapForFiltrateLabels['$space.key'] = "$requestHelper.getFilterLabelStringForPageSelectionToMoveRequest($request.request)";¤	#end			¤	window.open('/users/spacepagepicker.action?pageId=$request.request.page.id&formname=parentPageForm&onClose=newParentPageSelected&currentspace=' + currentSpace + '&fieldname=newParentPageTitle&spaceOnly=true' + mapForFiltrateLabels[currentSpace], 'link_inserter', 'width=620, height=400, resizable, scrollbars=yes'); ¤	return false;¤}¤¤//-->¤</script>¤¤¤<div id="location_request_div" class="toggleFormDiv" style="padding: 8px; background-color: #f0f0f0;">¤    #fielderrorExecuteFunction ('parentPageStringRequest' 'showLocationDiv()')¤    <table>¤        <tr>¤            <td valign="top">¤                <div>¤                    <div>¤                        <span class="formtitle">$garHelper.getText('space-title')</span>¤						¤                        <br />¤                        <select id="newSpaceKeyRequest" name="newSpaceKeyRequest" tabindex="3" onChange="blankParent();">¤                        #foreach ($space in $availableSpaces)¤                            <option value="$space.getKey()" #if( $newSpaceKeyRequest == $space.getKey() ) selected#end>$webwork.htmlEncode($space.name)</option>¤                        #end¤                        </select>¤                    </div>¤                </div>¤            </td>¤            <td valign="top" nowrap>¤            	#set ($actionNameStart = $req.getRequestURL().lastIndexOf('/') + 1)¤				#set ($actionNameShort = $req.getRequestURL().substring($actionNameStart))¤            	¤				<div>¤					<div class="formtitle">$garHelper.getText('parent-page')</div>¤					¤					<input type="text" name="parentPageStringRequest" size="30" value="#if($parentPageStringRequest)$webwork.htmlEncode($parentPageStringRequest)#end" tabindex="2" id="parentPageStringRequest"/>¤					<a href="#" onClick="return showSelectNewParentWindowForRequest()" title="$garHelper.getText('com.atlassian.confluence.user.actions.SpacePagePickerAction.action.name')"  tabindex="disabled"><img src="/images/icons/document_zoom_in_16.gif" width="16" height="16" border="0"  tabindex="disabled" align="absmiddle"></a>¤				</div>¤				¤             </td>¤        </tr>¤        #if (!$hideHierarchyCheckbox && $action.hasPermittedChildren())¤        <tr>¤            <td id="hierarchy_checkbox_area" colspan="2">¤                    <input id="hierarchy_checkbox" tabindex="4" type="checkbox" name="moveHierarchy" #if ($moveHierarchy) checked="true" #end  disabled=true value="true" />¤                    <label for="hierarchy_checkbox">¤						<span id="hierarchy_text" class="smalltext">$garHelper.getText("move.children")</span>¤                    </label>¤            </td>¤            <td>&nbsp;</td>¤        </tr>¤        #end¤    </table>¤</div>¤¤<script>¤    #if($locationShowing)¤        showRequestLocationDiv();¤    #end¤</script>¤¤##UC_END*48F59F9201A2_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/request-location-form|48F59F9201A2
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (vm)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"19038594340"))
	    quid       	"48F59F9201A2"
	    documentation 	"изменение местоположения запроса"
	    stereotype 	"VM"
	    language   	"MDA Generator")
	(object Class "spaceconfig_requestimportances"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (vm)"
		    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/spaceconfig_requestimportances.vm")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (vm)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Модель проекта "MDProcess"/ConfluenceMDChange/RequestView/spaceconfig_requestimportances|4B741C2201B7
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"vm:*4B741C2201B7_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*4B741C2201B7_CUSTOM_CONTENT*¤¤#set($allImportances = $garEntityHelper.allImportances)¤#set($importances = $garEntityHelper.getImportances($action.key))¤¤#macro(checkImportance $importanceId)¤	#foreach($selectedImportance in $importances)¤		#if($importanceId == $selectedImportance.id)¤			checked¤		#end¤	#end¤#end¤¤#macro(renderImportance $importance)¤<td>¤	<input type="checkbox" name="importances" value="$importance.id" #checkImportance($importance.id)/>¤	$garHelper.getText("spaceconfig.importance.${importance.id}")¤</td>¤#end¤¤<table>¤	<tr>¤		#foreach($importance in $allImportances)¤			#if($velocityCount % 2 != 0)¤				#renderImportance($importance)¤			#end¤		#end¤		¤		#*¤		<td>¤            <input type="checkbox" id="importanceCritical" name="importances" value="1"¤            	#checkImportance(1)/>¤            $garHelper.getText('spaceconfig.importance.critical')¤		</td>¤		<td>¤			<input type="checkbox" id="importanceNormal" name="importances" value="2" ¤            	#checkImportance(2)/>¤            $garHelper.getText('spaceconfig.importance.normal')¤		</td> *#¤	</tr>¤	<tr>¤		#foreach($importance in $allImportances)¤			#if($velocityCount % 2 == 0)¤				#renderImportance($importance)¤			#end¤		#end¤		¤		#*¤		<td>¤			<input type="checkbox" id="importanceMajor" name="importances" value="3" ¤            	#checkImportance(3)/>¤            $garHelper.getText('spaceconfig.importance.major')¤		</td>¤		<td>¤			<input type="checkbox" id="importanceMinor" name="importances" value="4"¤            	#checkImportance(4)/>¤            $garHelper.getText('spaceconfig.importance.minor')¤		</td> *#¤	</tr>¤</table>¤¤##UC_END*4B741C2201B7_CUSTOM_CONTENT*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"19032927631"))
	    quid       	"4B741C2201B7"
	    documentation 	"содержит общую разметку для выбора допустимых значений важности запросов"
	    stereotype 	"VM"
	    language   	"MDA Generator")
	(object Class "attachments-form"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"1355311798924185")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (vm)"
		    value      	"w:/MDProcess/java/src/etc/ConfluenceMDChange/RequestView/attachments-form.vm")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (vm)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"vm:*50C86AB6039C_CUSTOM_CONTENT*"
		    value      	(value Text 
|##UC_BEGIN*50C86AB6039C_CUSTOM_CONTENT*¤<html>¤<head>¤    <title>$!page.title</title>¤</head>¤¤#set ($max = $action.maxAttachments - 1)¤¤<!-- call the appropriate decorator for the given content (page or blogpost) -->¤#applyDecorator("root")¤    #decoratorParam("helper" $action.helper)¤    #decoratorParam("mode" "view-attachments")¤    #decoratorParam("context" "$action.page.type")¤¤    #requireResource("confluence.web.resources:attachments")¤¤    <body>¤¤<script type="text/javascript" language="JavaScript">¤	function removeAttachments(){¤		var ids = "";¤		jQuery("input[name='fileName']:checked").each(function(index){¤			if(ids != ""){¤				ids += ",";¤			}¤			ids += $(this).id;¤		});¤	¤		window.location.replace("$req.contextPath/ru/garant/MDProcess/ConfluenceMDChange/RequestCommandSupport/RequestCommandXPlugin/RequestCommandXPackage/removeattachments.action?pageId=$pageId&&attachmentsIds=" + ids);¤	}¤	¤	function checkedAll(){¤		jQuery("input[name='fileName']").each(function(index){¤			if($(this).checked == true){¤				$(this).checked = false;¤			}else{¤				$(this).checked = true;¤			}¤		});¤	}¤</script>    ¤¤    <fieldset class="hidden parameters">¤        <input type="hidden" id="show-history-text" value="$action.getText('show.attachment.history')">¤        <input type="hidden" id="hide-history-text" value="$action.getText('hide.attachment.history')">¤    </fieldset>¤¤    <div class="pagecontent"><div id="viewAttachmentsDiv">¤¤        <div id="view-attachments" class="attachment-section">¤        <h2>$action.getText("attached.files.heading")</h2>¤        ¤        #if ($latestVersionsOfAttachments.size() > 0)¤            #set ($contextPath = "$req.contextPath/pages/viewpageattachments.action?pageId=$pageId&sortBy=$sortBy&")¤            #set ($sortPathPrefixHtml = "?pageId=$page.id&sortBy=")¤            #set ($showActions = "true")¤            #set ($old = "true")¤            #set ($attachmentHelper = $action)¤¤<fieldset class="hidden parameters">¤    <input type="hidden" id="removeAttachmentWarning" value="$action.getText('remove.attachment.confirmation.message')">¤</fieldset>¤¤<table class="tableview attachments">¤    <tr>¤        #if ($old == "true")¤            <th class="expand-column">&nbsp;</th>¤        #end¤        <th><input name="files" type="checkbox" onClick="checkedAll();" value="true"/>#sortLink("name", "${sortPathPrefixHtml}name" $action.getText('name.word'))</th>¤        <th>#sortLink("size", "${sortPathPrefixHtml}size" $action.getText('file.size'))</th>¤        <th>$action.getText('creator.name')</th>¤        <th>#sortLink("createddate" "${sortPathPrefixHtml}createddate" $action.getText('columnheading.creation.date'))</th>¤        <th class="comment">$action.getText('comment.name')</th>¤        #if ($showActions == "true")¤            <th>&nbsp;</th>¤        #end¤    </tr>¤¤    ## Create a dummy Attachment ID, for when there aren't attachment IDs set (e.g. WebDAV)¤    #set ($dummyAttachmentId = 1)¤¤    #foreach( $attachment in $latestVersionsOfAttachments )¤        #set ($currentAttachmentId = $attachment.id)¤¤        ## When the attachment ID isn't set (e.g. when we're using WebDAV), assign it an arbitrary number and increment¤        #if ($currentAttachmentId.intValue() == 0)¤            #set ($currentAttachmentId = $dummyAttachmentId)¤            #set ($dummyAttachmentId = $dummyAttachmentId + 1)¤        #end¤¤        #set ($oldVersions = $attachmentHelper.getPreviousVersions($attachment))¤¤        #if ($action.highlight.contains($attachment.fileName))¤        <tr class="attachment-highlight" id="attachment_$currentAttachmentId">¤        #else¤        <tr id="attachment-$currentAttachmentId">¤        #end¤            #if ($old == "true")¤                <td class="attachment-history">¤                    #if ($oldVersions.size() > 0)¤                        <a href="#" title="$action.getText('show.attachment.history')">$action.getText('show.attachment.history')</a>¤                    #end¤                </td>¤            #end¤            <td>¤				<input name="fileName" id="$attachment.id" type="checkbox" value="true"/>¤                <a name="$generalUtil.htmlEncode($generalUtil.urlEncode($page.title))-attachment-$generalUtil.htmlEncode($generalUtil.urlEncode($attachment.fileName))">#parse ("/pages/includes/attachment_icon.vm")</a>¤                <a class="filename" href="$generalUtil.htmlEncode("${req.contextPath}${attachment.downloadPathWithoutVersion}")" title="$generalUtil.htmlEncodeAndReplaceSpaces($attachment.fileName)" >$generalUtil.htmlEncode($generalUtil.shortenString($attachment.fileName, 35))</a>¤            </td>¤            <td>$attachment.niceFileSize</td>¤            <td>#usernameLink($attachment.creatorName)</td>¤            <td>$action.dateFormatter.formatDateTime($attachment.creationDate)</td>¤            <td class="comment">¤                #if ($attachment.comment && $attachment.comment.trim().length() > 0)¤                    $generalUtil.htmlEncode($attachment.comment)¤                #else¤                    &nbsp;¤                #end¤            </td>¤            #if ($showActions == "true")¤            <td class="attachment-actions">¤                #set ($webInterfaceContext = $attachmentHelper.getWebInterfaceContext($action.webInterfaceContext, $attachment))¤                #set($webItems = $action.webInterfaceManager.getDisplayableItems("system.attachment", $webInterfaceContext))¤                #if ($webItems.size() > 0)¤                    #foreach ($item in $webItems)¤                        #set ($isCurrent = ($context == $item.key))¤			#if ($velocityCount > 1) | #end¤                        #renderItemLink($item $isCurrent $webInterfaceContext)¤                    #end¤                #else¤                    &nbsp;¤                #end¤            </td>¤            #end¤        </tr>¤¤        #if ($old == "true" && $oldVersions.size() > 0)¤            #foreach( $previousVersionOfAttachment in $oldVersions )¤                <tr class="history-$currentAttachmentId historicalAttachmentRow hidden">¤                    <td>&nbsp;</td>¤                    <td>¤                        <a class="filename" href="$generalUtil.htmlEncode("$req.contextPath$previousVersionOfAttachment.downloadPath")">Version $previousVersionOfAttachment.getVersion()</a>¤                    </td>¤                    <td>#if(!$attachmentHelper.attachmentsInWebDavFolder)$previousVersionOfAttachment.niceFileSize#else &nbsp; #end</td>¤                    <td>¤                        #if (!$attachmentHelper.attachmentsInWebDavFolder)¤                            #usernameLink($previousVersionOfAttachment.creatorName)¤                        #else¤                            &nbsp;¤                        #end¤                    </td>¤                    <td>#if(!$attachmentHelper.attachmentsInWebDavFolder)$action.dateFormatter.formatDateTime($previousVersionOfAttachment.creationDate)#else &nbsp; #end</td>¤                    <td class="comment">¤                        #if (!$attachmentHelper.attachmentsInWebDavFolder && $previousVersionOfAttachment.comment && $previousVersionOfAttachment.comment.trim().length() > 0)¤                            $generalUtil.htmlEncode($previousVersionOfAttachment.comment)¤                        #else¤                            &nbsp;¤                        #end¤                    </td>¤                    #if ($showActions == "true")¤                        <td>&nbsp;</td>¤                    #end¤                </tr>¤            #end¤        #end¤    #end¤</table>¤¤##            <input id="removeAttachments" type="button" onClick="removeAttachments();" title="$action.getText('attachments.remove')"></a>¤           		  <a id="remove-link" class="confluence-button" href="#" onClick="removeAttachments();" title="$action.getText('comment.remove')">$action.getText('comment.remove')</a>¤				  <a id="back-link" class="confluence-button" href="$req.contextPath/pages/viewpage.action?pageId=$pageId" title="&#1042;&#1077;&#1088;&#1085;&#1091;&#1090;&#1100;&#1089;&#1103;&#32;&#1085;&#1072;&#32;&#1089;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1091;">&#1042;&#1077;&#1088;&#1085;&#1091;&#1090;&#1100;&#1089;&#1103;&#32;&#1085;&#1072;&#32;&#1089;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1091;</a>¤##            #if ($action.latestVersionsOfAttachments.size() > 1)¤##                  <a id="download-all-link" class="confluence-button" href="$req.contextPath/pages/downloadallattachments.action?pageId=$pageId" title="$action.getText('download.all.desc')">$action.getText('download.all')</a>¤##           #end¤            #pagination($action.paginationSupport $contextPath)¤        #else¤            $action.getText('currently.no.attachments')¤        #end¤        </div>¤¤    </div></div>¤¤    </body>¤#end¤</html>¤##UC_END*50C86AB6039C_CUSTOM_CONTENT*
		    )))
	    quid       	"50C86AB6039C"
	    documentation 	"форма отображения вложений для удаления"
	    stereotype 	"VM"
	    language   	"MDA Generator"))
    logical_presentations 	(list unit_reference_list
	(object ClassDiagram "Main"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsChanged"
		    value      	""))
	    quid       	"477E279F036A"
	    title      	"Main"
	    zoom       	80
	    max_height 	28350
	    max_width  	21600
	    origin_x   	394
	    origin_y   	506
	    items      	(list diagram_item_list
		(object ClassView "Class" "Logical View::MDProcess::ConfluenceMDChange::RequestView::request-data-selector" @1
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(420, 1506)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@1
			location   	(187, 1476)
			fill_color 	13434879
			nlines     	1
			max_width  	466
			justify    	0
			label      	"request-data-selector")
		    stereotype 	(object ItemLabel
			Parent_View 	@1
			location   	(187, 1426)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	466
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    fill_color 	14790645
		    quidu      	"474C5868012D"
		    width      	484
		    height     	184
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::MDProcess::ConfluenceMDChange::RequestView::configok" @2
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"426")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"1722")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"214")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(138, 591)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@2
			location   	(45, 561)
			fill_color 	13434879
			nlines     	1
			max_width  	186
			justify    	0
			label      	"configok")
		    stereotype 	(object ItemLabel
			Parent_View 	@2
			location   	(45, 511)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	186
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    fill_color 	14790645
		    quidu      	"470F718E027A"
		    width      	204
		    height     	184
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::MDProcess::ConfluenceMDChange::RequestView::configerror" @3
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"438")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"1527")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"236")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(159, 396)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@3
			location   	(50, 366)
			fill_color 	13434879
			nlines     	1
			max_width  	218
			justify    	0
			label      	"configerror")
		    stereotype 	(object ItemLabel
			Parent_View 	@3
			location   	(50, 316)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	218
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    fill_color 	14790645
		    quidu      	"470F714203D4"
		    width      	236
		    height     	184
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::MDProcess::ConfluenceMDChange::RequestView::spaceconfig" @4
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"450")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"1317")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"272")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"164"))
		    location   	(174, 186)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@4
			location   	(48, 155)
			fill_color 	13434879
			nlines     	1
			max_width  	252
			justify    	0
			label      	"spaceconfig")
		    stereotype 	(object ItemLabel
			Parent_View 	@4
			location   	(48, 105)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	252
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    fill_color 	14790645
		    quidu      	"470B98A40133"
		    width      	270
		    height     	186
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::MDProcess::ConfluenceMDChange::RequestView::createrequest-selectpage" @5
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"1932")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"1287")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"508")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"164"))
		    location   	(1698, 714)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@5
			location   	(1433, 684)
			fill_color 	13434879
			nlines     	1
			max_width  	530
			justify    	0
			label      	"createrequest-selectpage")
		    stereotype 	(object ItemLabel
			Parent_View 	@5
			location   	(1433, 634)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	530
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    fill_color 	14790645
		    quidu      	"470B60AF03A4"
		    width      	548
		    height     	184
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::MDProcess::ConfluenceMDChange::RequestView::createrequest-form" @6
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"1875")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"663")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"380")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"164"))
		    location   	(1098, 702)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@6
			location   	(913, 672)
			fill_color 	13434879
			nlines     	1
			max_width  	370
			justify    	0
			label      	"createrequest-form")
		    stereotype 	(object ItemLabel
			Parent_View 	@6
			location   	(913, 622)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	370
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    fill_color 	14790645
		    quidu      	"4702393000B1"
		    width      	388
		    height     	184
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::MDProcess::ConfluenceMDChange::RequestView::request-prop-include" @7
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(414, 1740)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@7
			location   	(189, 1710)
			fill_color 	13434879
			nlines     	1
			max_width  	450
			justify    	0
			label      	"request-prop-include")
		    stereotype 	(object ItemLabel
			Parent_View 	@7
			location   	(189, 1660)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	450
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    fill_color 	14790645
		    quidu      	"475F874D031D"
		    width      	468
		    height     	184
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::MDProcess::ConfluenceMDChange::RequestView::request-data-external-author" @8
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(1248, 1497)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@8
			location   	(969, 1468)
			fill_color 	13434879
			nlines     	1
			max_width  	558
			justify    	0
			label      	"request-data-external-author")
		    stereotype 	(object ItemLabel
			Parent_View 	@8
			location   	(969, 1418)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	558
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    fill_color 	14790645
		    quidu      	"47FCA8B80234"
		    width      	576
		    height     	182
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @9
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	(object SegLabel @10
			Parent_View 	@9
			location   	(810, 1382)
			font       	(object Font
			    size       	10
			    face       	"Arial"
			    charSet    	204
			    bold       	FALSE
			    italics    	FALSE
			    underline  	FALSE
			    strike     	FALSE
			    color      	0
			    default_color 	TRUE)
			anchor     	10
			anchor_loc 	1
			nlines     	1
			max_width  	450
			justify    	0
			label      	"<<include>>"
			pctDist    	0.500000
			height     	120
			orientation 	0)
		    line_color 	3342489
		    quidu      	"47FCA92C018C"
		    client     	@1
		    supplier   	@8
		    vertices   	(list Points
			(662, 1502)
			(959, 1499))
		    line_style 	0)
		(object ClassView "Class" "Logical View::MDProcess::ConfluenceMDChange::RequestView::spaceconfig_requestproperties" @11
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(939, 180)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@11
			location   	(643, 151)
			fill_color 	13434879
			nlines     	1
			max_width  	592
			justify    	0
			label      	"spaceconfig_requestproperties")
		    stereotype 	(object ItemLabel
			Parent_View 	@11
			location   	(643, 101)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	592
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    fill_color 	14790645
		    quidu      	"480595A4009A"
		    width      	610
		    height     	182
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::MDProcess::ConfluenceMDChange::RequestView::request-data-findin" @12
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(597, 1143)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@12
			location   	(406, 1114)
			fill_color 	13434879
			nlines     	1
			max_width  	382
			justify    	0
			label      	"request-data-findin")
		    stereotype 	(object ItemLabel
			Parent_View 	@12
			location   	(406, 1064)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	382
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    fill_color 	14790645
		    quidu      	"481DAF5B01EB"
		    width      	400
		    height     	182
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @13
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	(object SegLabel @14
			Parent_View 	@13
			location   	(290, 1323)
			font       	(object Font
			    size       	10
			    face       	"Arial"
			    charSet    	204
			    bold       	FALSE
			    italics    	FALSE
			    underline  	FALSE
			    strike     	FALSE
			    color      	0
			    default_color 	TRUE)
			anchor     	10
			anchor_loc 	1
			nlines     	1
			max_width  	450
			justify    	0
			label      	"<<include>>"
			pctDist    	0.500000
			height     	120
			orientation 	0)
		    line_color 	3342489
		    quidu      	"481DAFAA010E"
		    client     	@1
		    supplier   	@12
		    vertices   	(list Points
			(409, 1413)
			(409, 1233))
		    line_style 	3
		    origin_attachment 	(409, 1413)
		    terminal_attachment 	(409, 1233))
		(object UsesView "" @15
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	(object SegLabel @16
			Parent_View 	@15
			location   	(934, 1672)
			font       	(object Font
			    size       	10
			    face       	"Arial"
			    charSet    	204
			    bold       	FALSE
			    italics    	FALSE
			    underline  	FALSE
			    strike     	FALSE
			    color      	0
			    default_color 	TRUE)
			anchor     	10
			anchor_loc 	1
			nlines     	1
			max_width  	450
			justify    	0
			label      	"<<include>>"
			pctDist    	0.823232
			height     	29
			orientation 	0)
		    line_color 	3342489
		    quidu      	"47FCA9F40091"
		    client     	@7
		    supplier   	@8
		    vertices   	(list Points
			(648, 1742)
			(962, 1742)
			(962, 1588))
		    line_style 	3
		    origin_attachment 	(648, 1742)
		    terminal_attachment 	(962, 1588))
		(object UsesView "" @17
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	(object SegLabel @18
			Parent_View 	@17
			location   	(178, 1137)
			font       	(object Font
			    size       	10
			    face       	"Arial"
			    charSet    	204
			    bold       	FALSE
			    italics    	FALSE
			    underline  	FALSE
			    strike     	FALSE
			    color      	0
			    default_color 	TRUE)
			anchor     	10
			anchor_loc 	1
			nlines     	1
			max_width  	450
			justify    	0
			label      	"<<include>>"
			pctDist    	0.762733
			height     	32
			orientation 	0)
		    line_color 	3342489
		    quidu      	"481DAFB001AE"
		    client     	@7
		    supplier   	@12
		    vertices   	(list Points
			(180, 1650)
			(69, 1650)
			(69, 1168)
			(397, 1168))
		    line_style 	3
		    origin_attachment 	(180, 1650)
		    terminal_attachment 	(397, 1168))
		(object ClassView "Class" "Logical View::MDProcess::ConfluenceMDChange::RequestView::request-prop-include-common-js" @19
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(1326, 2112)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@19
			location   	(1003, 2083)
			fill_color 	13434879
			nlines     	1
			max_width  	646
			justify    	0
			label      	"request-prop-include-common-js")
		    stereotype 	(object ItemLabel
			Parent_View 	@19
			location   	(1003, 2033)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	646
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    fill_color 	14790645
		    quidu      	"48A40A9602B6"
		    width      	664
		    height     	182
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::MDProcess::ConfluenceMDChange::RequestView::spaceconfig_mdk" @20
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(1527, 186)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@20
			location   	(1348, 157)
			fill_color 	13434879
			nlines     	1
			max_width  	358
			justify    	0
			label      	"spaceconfig_mdk")
		    stereotype 	(object ItemLabel
			Parent_View 	@20
			location   	(1348, 107)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	358
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    fill_color 	14790645
		    quidu      	"48D349E50334"
		    width      	376
		    height     	182
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::MDProcess::ConfluenceMDChange::RequestView::request-prop-include-js" @21
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(408, 2100)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@21
			location   	(179, 2071)
			fill_color 	13434879
			nlines     	1
			max_width  	458
			justify    	0
			label      	"request-prop-include-js")
		    stereotype 	(object ItemLabel
			Parent_View 	@21
			location   	(179, 2021)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	458
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    fill_color 	14790645
		    quidu      	"48E9BEDD0014"
		    width      	476
		    height     	182
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @22
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	(object SegLabel @23
			Parent_View 	@22
			location   	(530, 1921)
			font       	(object Font
			    size       	10
			    face       	"Arial"
			    charSet    	204
			    bold       	FALSE
			    italics    	FALSE
			    underline  	FALSE
			    strike     	FALSE
			    color      	0
			    default_color 	TRUE)
			anchor     	10
			anchor_loc 	1
			nlines     	1
			max_width  	450
			justify    	0
			label      	"<<include>>"
			pctDist    	0.500000
			height     	120
			orientation 	0)
		    line_color 	3342489
		    quidu      	"48E9BF1000F1"
		    client     	@7
		    supplier   	@21
		    vertices   	(list Points
			(411, 1832)
			(409, 2008))
		    line_style 	0)
		(object UsesView "" @24
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	(object SegLabel @25
			Parent_View 	@24
			location   	(821, 1986)
			font       	(object Font
			    size       	10
			    face       	"Arial"
			    charSet    	204
			    bold       	FALSE
			    italics    	FALSE
			    underline  	FALSE
			    strike     	FALSE
			    color      	0
			    default_color 	TRUE)
			anchor     	10
			anchor_loc 	1
			nlines     	1
			max_width  	450
			justify    	0
			label      	"<<include>>"
			pctDist    	0.500000
			height     	120
			orientation 	0)
		    line_color 	3342489
		    quidu      	"48E9BF170021"
		    client     	@21
		    supplier   	@19
		    vertices   	(list Points
			(646, 2103)
			(993, 2107))
		    line_style 	0)
		(object ClassView "Class" "Logical View::MDProcess::ConfluenceMDChange::RequestView::request-location-form" @26
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(1794, 1443)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@26
			location   	(1574, 1414)
			fill_color 	13434879
			nlines     	1
			max_width  	440
			justify    	0
			label      	"request-location-form")
		    stereotype 	(object ItemLabel
			Parent_View 	@26
			location   	(1574, 1364)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	440
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    fill_color 	14790645
		    quidu      	"48F59F9201A2"
		    width      	458
		    height     	182
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::MDProcess::ConfluencePlugins::UserNotificationUnit::extendednotify" @27
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    location   	(2013, 198)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	13110000
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@27
			location   	(1821, 170)
			nlines     	1
			max_width  	384
			justify    	0
			label      	"extendednotify")
		    stereotype 	(object ItemLabel
			Parent_View 	@27
			location   	(1821, 120)
			anchor     	10
			nlines     	1
			max_width  	384
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    line_color 	13110000
		    fill_color 	16777215
		    quidu      	"4923D14603BD"
		    width      	402
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::MDProcess::ConfluencePlugins::CalendarView::calendar_includes" @28
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    location   	(390, 2445)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	13110000
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@28
			location   	(214, 2417)
			nlines     	1
			max_width  	352
			justify    	0
			label      	"calendar_includes")
		    stereotype 	(object ItemLabel
			Parent_View 	@28
			location   	(214, 2367)
			anchor     	10
			nlines     	1
			max_width  	352
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    line_color 	13110000
		    fill_color 	16777215
		    quidu      	"4926A91F0398"
		    width      	370
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @29
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	(object SegLabel @30
			Parent_View 	@29
			location   	(518, 2279)
			font       	(object Font
			    size       	10
			    face       	"Arial"
			    charSet    	204
			    bold       	FALSE
			    italics    	FALSE
			    underline  	FALSE
			    strike     	FALSE
			    color      	0
			    default_color 	TRUE)
			anchor     	10
			anchor_loc 	1
			nlines     	1
			max_width  	450
			justify    	0
			label      	"<<include>>"
			pctDist    	0.500000
			height     	120
			orientation 	0)
		    line_color 	3342489
		    quidu      	"4926AA370061"
		    client     	@21
		    supplier   	@28
		    vertices   	(list Points
			(402, 2191)
			(394, 2354))
		    line_style 	0)
		(object ClassView "Class" "Logical View::MDProcess::ConfluencePlugins::SelectPageView::formparameters-selectpage" @31
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    location   	(2235, 1077)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	13110000
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@31
			location   	(1952, 1049)
			nlines     	1
			max_width  	566
			justify    	0
			label      	"formparameters-selectpage")
		    stereotype 	(object ItemLabel
			Parent_View 	@31
			location   	(1952, 999)
			anchor     	10
			nlines     	1
			max_width  	566
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    line_color 	13110000
		    fill_color 	16777215
		    quidu      	"4A237F120231"
		    width      	584
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @32
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	(object SegLabel @33
			Parent_View 	@32
			location   	(2069, 845)
			font       	(object Font
			    size       	10
			    face       	"Arial"
			    charSet    	204
			    bold       	FALSE
			    italics    	FALSE
			    underline  	FALSE
			    strike     	FALSE
			    color      	0
			    default_color 	TRUE)
			anchor     	10
			anchor_loc 	1
			nlines     	1
			max_width  	450
			justify    	0
			label      	"<<include>>"
			pctDist    	0.670061
			height     	99
			orientation 	0)
		    line_color 	3342489
		    quidu      	"4A23CC490022"
		    client     	@5
		    supplier   	@31
		    vertices   	(list Points
			(1836, 806)
			(2101, 986))
		    line_style 	0)
		(object ClassView "Class" "Logical View::MDProcess::ConfluencePlugins::EntityView::createentity" @34
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    location   	(486, 855)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	13110000
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@34
			location   	(361, 827)
			nlines     	1
			max_width  	250
			justify    	0
			label      	"createentity")
		    stereotype 	(object ItemLabel
			Parent_View 	@34
			location   	(361, 777)
			anchor     	10
			nlines     	1
			max_width  	250
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    line_color 	13110000
		    fill_color 	16777215
		    quidu      	"4B1F4ACC0111"
		    width      	268
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @35
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	(object SegLabel @36
			Parent_View 	@35
			location   	(471, 64)
			font       	(object Font
			    size       	10
			    face       	"Arial"
			    charSet    	204
			    bold       	FALSE
			    italics    	FALSE
			    underline  	FALSE
			    strike     	FALSE
			    color      	0
			    default_color 	TRUE)
			anchor     	10
			anchor_loc 	1
			nlines     	1
			max_width  	450
			justify    	0
			label      	"<<include>>"
			pctDist    	0.500000
			height     	120
			orientation 	0)
		    line_color 	3342489
		    quidu      	"4B741C1B0181"
		    client     	@4
		    supplier   	@11
		    vertices   	(list Points
			(309, 184)
			(633, 182))
		    line_style 	0)
		(object ClassView "Class" "Logical View::MDProcess::ConfluenceMDChange::RequestView::spaceconfig_requestimportances" @37
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(954, 414)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@37
			location   	(640, 383)
			fill_color 	13434879
			nlines     	1
			max_width  	628
			justify    	0
			label      	"spaceconfig_requestimportances")
		    stereotype 	(object ItemLabel
			Parent_View 	@37
			location   	(640, 333)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	628
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    fill_color 	14790645
		    quidu      	"4B741C2201B7"
		    width      	646
		    height     	186
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @38
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	(object SegLabel @39
			Parent_View 	@38
			location   	(506, 158)
			font       	(object Font
			    size       	10
			    face       	"Arial"
			    charSet    	204
			    bold       	FALSE
			    italics    	FALSE
			    underline  	FALSE
			    strike     	FALSE
			    color      	0
			    default_color 	TRUE)
			anchor     	10
			anchor_loc 	1
			nlines     	1
			max_width  	450
			justify    	0
			label      	"<<include>>"
			pctDist    	0.500000
			height     	120
			orientation 	0)
		    line_color 	3342489
		    quidu      	"4B741C560349"
		    client     	@4
		    supplier   	@37
		    vertices   	(list Points
			(309, 224)
			(635, 320))
		    line_style 	0)
		(object ClassView "Class" "Logical View::MDProcess::ConfluenceMDChange::RequestView::attachments-form" @40
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(2505, 1632)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@40
			location   	(2286, 1600)
			fill_color 	13434879
			nlines     	1
			max_width  	438
			justify    	0
			label      	"attachments-form")
		    stereotype 	(object ItemLabel
			Parent_View 	@40
			location   	(2286, 1550)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	438
			justify    	0
			label      	"<<VM>>")
		    icon_style 	"Label"
		    fill_color 	14790645
		    quidu      	"50C86AB6039C"
		    width      	456
		    height     	188
		    annotation 	8
		    autoResize 	TRUE)))))
