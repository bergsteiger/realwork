
(object Petal
    version    	50
    _written   	"Rose 2006.0.0.060314"
    charSet    	204)

(object Class_Category "LuceneSearchImpl"
    is_unit    	TRUE
    is_loaded  	TRUE
    attributes 	(list Attribute_Set
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"AbstarctOperation"
	    value      	"regular")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"IsNative"
	    value      	"false")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"ApplyedGens"
	    value      	"All")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"NESTED GENERATED WikiPageID (wiki)"
	    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Ìîäåëü ïðîåêòà "MDProcess"/ConfluencePlugins/LuceneSearchImpl/DeafultLuceneSearchStrategy|474D497103CF::474D497103CF;MDProcess,key:MDP,guid:456C0DD70110/Home/Ìîäåëü ïðîåêòà "MDProcess"/ConfluencePlugins/LuceneSearchImpl/DefaultLuceneQueryBuilder|474E89020196::474E89020196;MDProcess,key:MDP,guid:456C0DD70110/Home/Ìîäåëü ïðîåêòà "MDProcess"/ConfluencePlugins/LuceneSearchImpl/DefaultLuceneSearchStrategy|474D497103CF::474D497103CF;MDProcess,key:MDP,guid:456C0DD70110/Home/Ìîäåëü ïðîåêòà "MDProcess"/ConfluencePlugins/LuceneSearchImpl/LuceneQueryBuilder|474E89020196::474E89020196
	    ))
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"WikiPageID (wiki)"
	    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Ìîäåëü ïðîåêòà "MDProcess"/ConfluencePlugins/LuceneSearchImpl|474D490E01A9
	    ))
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"NESTED GENERATED FILES (java)"
	    value      	"w:/MDProcess/java/src/java/ru/garant/MDProcess/ConfluencePlugins/LuceneSearchImpl/DefaultLuceneQueryBuilder.java::474E89020196;w:/MDProcess/java/src/java/ru/garant/MDProcess/ConfluencePlugins/LuceneSearchImpl/DefaultLuceneSearchStrategy.java::474D497103CF")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"NESTED GENERATED FILES (fctr.java)"
	    value      	"w:/MDProcess/java/src/java/ru/garant/MDProcess/ConfluencePlugins/LuceneSearchImpl/DefaultLuceneQueryBuilderFactoryImpl.java::474E89020196;w:/MDProcess/java/src/java/ru/garant/MDProcess/ConfluencePlugins/LuceneSearchImpl/DefaultLuceneSearchStrategyFactoryImpl.java::474D497103CF")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"VisabilityType"
	    value      	"ImplementationAccess")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"SourceType (wiki)"
	    value      	"wiki")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"ElementCreationOrder"
	    value      	"1972"))
    quid       	"474D490E01A9"
    stereotype 	"Impl"
    visible_categories 	(list visibility_relationship_list
	(object Visibility_Relationship
	    quid       	"474E795B035C"
	    supplier   	"Logical View::MDProcess::ConfluencePlugins::SearchStrategies"
	    quidu      	"474E78E20091")
	(object Visibility_Relationship
	    quid       	"474E8D8201B0"
	    supplier   	"Logical View::external::ConfluenceSupport::org.apache.lucene.search"
	    quidu      	"47381348017D")
	(object Visibility_Relationship
	    quid       	"474E8D850258"
	    supplier   	"Logical View::external::ConfluenceSupport::com.atlassian.confluence.spaces"
	    quidu      	"4644047C034A")
	(object Visibility_Relationship
	    quid       	"474E8D880348"
	    supplier   	"Logical View::external::ConfluenceSupport::com.atlassian.confluence.setup.settings"
	    quidu      	"468E77F1001F")
	(object Visibility_Relationship
	    quid       	"474E8D910100"
	    supplier   	"Logical View::external::ConfluenceSupport::com.atlassian.bonnie"
	    quidu      	"468E63F0030D")
	(object Visibility_Relationship
	    quid       	"474E8D9302F7"
	    supplier   	"Logical View::external::ConfluenceSupport::com.atlassian.confluence.user"
	    quidu      	"461492E5005D")
	(object Visibility_Relationship
	    quid       	"474E8D970017"
	    supplier   	"Logical View::external::ConfluenceSupport::com.atlassian.confluence.labels"
	    quidu      	"46487E80005C")
	(object Visibility_Relationship
	    quid       	"474EB0AD0242"
	    supplier   	"Logical View::MDProcess::ConfluencePlugins::Search"
	    quidu      	"474D3CA60168")
	(object Visibility_Relationship
	    quid       	"474FD54F0056"
	    supplier   	"Logical View::external::JavaConfluence::ConfluenceClassPack"
	    quidu      	"45DAC0AA0232")
	(object Visibility_Relationship
	    quid       	"475F8972031B"
	    supplier   	"Logical View::MDProcess::ConfluencePlugins::LabelSupport"
	    quidu      	"475E85080396")
	(object Visibility_Relationship
	    quid       	"478730FE03A2"
	    supplier   	"Logical View::external::JavaTypes"
	    quidu      	"4743D3250007")
	(object Visibility_Relationship
	    quid       	"4787322A0164"
	    supplier   	"Logical View::external::JavaTypes::Lang"
	    quidu      	"474D4C0101B0")
	(object Visibility_Relationship
	    quid       	"478743EC01AE"
	    supplier   	"Logical View::MDProcess::ConfluencePlugins::SearchStrategiesImpl"
	    quidu      	"4787432C0004")
	(object Visibility_Relationship
	    quid       	"4787734C02A2"
	    supplier   	"Logical View::external::JavaTypes::java.util"
	    quidu      	"47591C6102C0")
	(object Visibility_Relationship
	    quid       	"483FA18A02F9"
	    supplier   	"Logical View::MDProcess::ConfluencePlugins::SearchSupport"
	    quidu      	"465FE3730399"))
    exportControl 	"Public"
    logical_models 	(list unit_reference_list
	(object Class "DefaultLuceneSearchStrategy"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Ìîäåëü ïðîåêòà "MDProcess"/ConfluencePlugins/LuceneSearchImpl/DefaultLuceneSearchStrategy|474D497103CF
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"Factory auto reg"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"Factory default impl"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"Factory key"
		    value      	"LUCENE")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"Need unsorted less"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"Servant Pool"
		    value      	"none")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"debug log"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"local supervisor"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"singleton"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (java)"
		    value      	"w:/MDProcess/java/src/java/ru/garant/MDProcess/ConfluencePlugins/LuceneSearchImpl/DefaultLuceneSearchStrategy.java")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (fctr.java)"
		    value      	"w:/MDProcess/java/src/java/ru/garant/MDProcess/ConfluencePlugins/LuceneSearchImpl/DefaultLuceneSearchStrategyFactoryImpl.java")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474D497103CF_CUSTOM_IMPORT*"
		    value      	"//#UC START# *474D497103CF_CUSTOM_IMPORT*¤import java.util.ArrayList;¤import java.util.Arrays;¤¤import com.atlassian.confluence.search.scope.SpaceScope;¤¤import org.apache.lucene.search.BooleanQuery;¤import org.apache.lucene.search.Sort;¤import org.apache.commons.collections.CollectionUtils;¤import bucket.core.actions.PaginationSupport;¤¤import ru.garant.MDProcess.ConfluencePlugins.Search.SearchResult;¤import ru.garant.MDProcess.ConfluencePlugins.SearchStrategies.LuceneQueryBuilder;¤¤import ru.garant.shared.ConfluenceCore.Helpers.ContainerManager;¤¤import ru.garant.shared.Core.Root.NoActiveFactory;¤//#UC END# *474D497103CF_CUSTOM_IMPORT*")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474D497103CF_CUSTOM_CLASS_DEFINITION*"
		    value      	"//#UC START# *474D497103CF_CUSTOM_CLASS_DEFINITION*¤//#UC END# *474D497103CF_CUSTOM_CLASS_DEFINITION*")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474D497103CF_CUSTOM_METHODS_AND_DATA*"
		    value      	(value Text 
|//#UC START# *474D497103CF_CUSTOM_METHODS_AND_DATA*¤	¤	private boolean isAlphaOrDigit(char ch) {¤		return Character.isLetter(ch) || Character.isDigit(ch);¤	}¤	¤    private BooleanQuery addSpacesFields(BooleanQuery resultQuery)¤    {¤    	if (searchingSpaces_ != null){¤            new SpaceScope(searchingSpaces_, ContainerManager.Factory.get().getLabelManager()).restrictQuery(null, resultQuery);¤    	}¤        return resultQuery;¤    }¤¤    private List<String> searchingSpaces_ = null;¤	//#UC END# *474D497103CF_CUSTOM_METHODS_AND_DATA*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474D46ED03B5_474D4C8703CE_474D497103CF_BODY*"
		    value      	(value Text 
|//#UC START# *474D46ED03B5_474D4C8703CE_474D497103CF_BODY*¤		super(queryData);¤		//#UC END# *474D46ED03B5_474D4C8703CE_474D497103CF_BODY*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*478730520199*"
		    value      	(value Text 
|//#UC START# *478730520199*¤		BooleanQuery.setMaxClauseCount(7000);¤		¤		BooleanQuery searchQuery = (BooleanQuery) searchQueryBean_.buildQuery();¤		Sort sorting = queryBuilder.createLuceneSort();¤		Filter filter = queryBuilder.createLuceneFilter(searchQuery);¤		¤		if(sorting != null)¤			return searchBean_.search(searchQuery, filter, sorting);¤		else¤			return searchBean_.search(searchQuery);¤		¤		//#UC END# *478730520199*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474FD21902B2*"
		    value      	(value Text 
|//#UC START# *474FD21902B2*¤		¤		if (initialized_)¤			return;¤		¤		searchBean_ = new SearchBean();¤		try {¤			searchQueryBean_ = new SearchQueryBean(ContainerManager.Factory.get().getSeacher(),¤					ContainerManager.Factory.get().getSpaceManager(), ¤					ContainerManager.Factory.get().getUserAccessor(), ¤					ContainerManager.Factory.get().getLabelManager(),¤					ContainerManager.Factory.get().getSettingsManager());¤			¤			searchBean_.setUserAccessor(ContainerManager.Factory.get().getUserAccessor());¤			searchBean_.setAnyTypeObjectDao (ContainerManager.Factory.get().getAnyTypeObjectDao());¤			searchBean_.setSearcher (ContainerManager.Factory.get().getSeacher());¤			¤			initialized_ = true;¤		}¤		catch (NoActiveFactory e) {¤			Logs.LOG_SEX(e);¤		}¤		//#UC END# *474FD21902B2*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474FD415001C*"
		    value      	(value Text 
|//#UC START# *474FD415001C*¤		¤		if (currentIndex != 0 && currentIndex != (queryTextLenght - 1)) {¤			if (isAlphaOrDigit(queryText.charAt(currentIndex - 1)) && isAlphaOrDigit(queryText.charAt(currentIndex + 1))) {¤				if (queryText.indexOf(" TO ", currentIndex) != currentIndex) {¤					if (currentIndex > 1) {¤						if (queryText.indexOf("TO", currentIndex - 2) != (currentIndex - 2))¤							return true;¤					}¤				}¤			}¤			// fieldLabel:text (fieldLabel:text2 ... -> fieldLabel:text OR¤			// (fieldLabel:text2 ...¤			else if (isAlphaOrDigit(queryText.charAt(currentIndex - 1)) && queryText.charAt(currentIndex + 1) == '(') {¤				if (queryText.indexOf(" OR ", currentIndex) != currentIndex) {¤					if (currentIndex > 1) {¤						if (queryText.indexOf("OR", currentIndex - 2) != (currentIndex - 2))¤							return true;¤					}¤				}¤			}¤		}¤			¤		return false;¤		¤		//#UC END# *474FD415001C*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*4787272901EF*"
		    value      	(value Text 
|//#UC START# *4787272901EF*¤		¤		initialize();¤		¤		// index <= 0 means paging what is why we don't need to rebuild the query¤		if (getPaginationSupport().getStartIndex() < 0) {¤			try {¤				BooleanQuery resultQuery = queryBuilder.createLuceneQuery();¤¤				searchQueryBean_.setSearchWordsLister(new SearchWordsLister());¤¤				String queryString;¤				// if(queryData_.getDebug() == null)¤				queryString = queryToString(resultQuery, queryBuilder.getNormalizedWordsToSearch());¤				// else¤				// queryString = queryData_.getDebug();¤¤				searchQueryBean_.setQueryString(queryString);¤				searchQueryBean_.setSpaceKeys(getQueryData().getSpaces());¤				searchQueryBean_.setType("all");¤				searchQueryBean_.setLastModified("");¤¤				searchBean_.setPaginationSupport(getPaginationSupport());¤			}¤			catch (Exception e) {¤				Logs.LOG_SEX(e);¤			}¤		}¤		//#UC END# *4787272901EF*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474FD45C0165*"
		    value      	(value Text 
|//#UC START# *474FD45C0165*¤		¤		String originalText = query.toString();¤		¤		int modificationPartBeginning = originalText.indexOf(wordsToSearch) + wordsToSearch.length();¤				¤		originalText = originalText.replace(") (", ") OR (");¤		int resultLenght = originalText.length();¤¤		ArrayList<Integer> insertionIndexes = new ArrayList<Integer>();¤		for (int index = modificationPartBeginning; index < (resultLenght - 1) && index != -1; index = originalText¤				.indexOf(' ', index + 1)) {¤			if (needToInsertOR(originalText, index, resultLenght))¤				insertionIndexes.add(index);¤		}¤		¤		if (insertionIndexes.size() == 0)¤			return originalText;¤		¤		StringBuilder result = new StringBuilder(originalText);¤		¤		int addedOffset = 0;¤		int delta = " OR".length();¤		for (Integer insertIndex : insertionIndexes) {¤			result = result.insert(insertIndex + addedOffset, " OR");¤			addedOffset += delta;¤		}¤		¤		return result.toString();¤		¤		//#UC END# *474FD45C0165*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474FD20100B0*"
		    value      	(value Text 
|//#UC START# *474FD20100B0*¤		¤		// remove previous results¤		getSearchResults().clear();¤		try {¤			LuceneQueryBuilder queryBuilder = ¤				LuceneQueryBuilderFactoryManager.getInstance().make(getQueryData(), getQueryData().getFactoryKey());¤			¤			prepareSearchQuery(queryBuilder);¤			¤			switch(getQueryData().getGroupingCondition()){¤			case NONE:¤				SearchResult result = getDefaultSearchResult();¤				result.getPaginationSupport().setItems(executeSearchQuery(queryBuilder));¤				result.setResult(result.getPaginationSupport().getPage());¤				return result;¤			case SPACE:¤				for(String space : getQueryData().getSpaces()) {¤					searchQueryBean_.setSpaceKeys(Arrays.asList(space));¤					PaginationSupport currentPagination = new PaginationSupport(10);¤					searchBean_.setPaginationSupport(currentPagination);¤					¤					SearchResult currentResult = SearchResultFactoryManager.getInstance().make();¤					currentResult.setGroupMark(space);¤					currentResult.setPaginationSupport(currentPagination);¤					currentResult.getPaginationSupport().setItems(executeSearchQuery(queryBuilder));¤					currentResult.setResult(currentResult.getPaginationSupport().getPage());¤					¤					getSearchResults().add(currentResult);¤				}¤				return getSearchResults();¤			default:¤				String message = "DefaultLuceneSearchStrategy::searchResults - Unknown grouping condition";¤				Logs.LOG_E(message);¤				throw new RuntimeException(message);¤			}¤		}¤		catch (Exception e) {¤			Logs.LOG_E ("DefaultLuceneSearchStrategy::searchResults - " + e.toString ());¤			throw new SearchFailedException(e);¤		}¤		¤		//#UC END# *474FD20100B0*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474D474E00BC_474D497103CF*"
		    value      	(value Text 
|//#UC START# *474D474E00BC_474D497103CF*¤		¤		return searchResults();¤		¤		//#UC END# *474D474E00BC_474D497103CF*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*4755456B0065_474D497103CF*"
		    value      	(value Text 
|//#UC START# *4755456B0065_474D497103CF*¤		¤		if(getSearchResults().size() > 1)¤			return getSearchResults().size();¤		else¤			return getDefaultSearchResult().getPaginationSupport().getTotal();¤		¤		//#UC END# *4755456B0065_474D497103CF*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (java)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (fctr.java)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"1973"))
	    quid       	"474D497103CF"
	    stereotype 	"Servant"
	    superclasses 	(list inheritance_relationship_list
		(object Inheritance_Relationship
		    quid       	"4787443E0198"
		    supplier   	"Logical View::MDProcess::ConfluencePlugins::SearchStrategiesImpl::AbstractSearchStrategy"
		    quidu      	"478743B503BB"))
	    operations 	(list Operations
		(object Operation "search_results"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474FD20100B0*"
			    value      	(value Text 
|//#UC START# *474FD20100B0*¤		¤		// remove previous results¤		getSearchResults().clear();¤		try {¤			LuceneQueryBuilder queryBuilder = ¤				LuceneQueryBuilder.Factory.make(getQueryData(), getQueryData().getFactoryKey());¤			¤			prepareSearchQuery(queryBuilder);¤			if(CollectionUtils.isNotEmpty(getQueryData().getJoinIds())){¤				searchBean_.setJoinIds(getQueryData().getJoinIds());¤			}¤			switch(getQueryData().getGroupingCondition()){¤			case NONE:¤				searchingSpaces_ = getQueryData().getSpaces();¤				SearchResult result = getDefaultSearchResult();¤				result.getPaginationSupport().setItems(executeSearchQuery(queryBuilder));¤				result.setResult(result.getPaginationSupport().getPage());¤				return result;¤			case SPACE:¤				for(String space : getQueryData().getSpaces()) {¤					searchingSpaces_ = Arrays.asList(space);¤					PaginationSupport currentPagination = makeGroupPaginationSupport();¤					searchBean_.setPaginationSupport(currentPagination);¤					addGroupSearchResult(space, currentPagination, executeSearchQuery(queryBuilder));¤				}¤				return getSearchResults();¤			default:¤				String message = "DefaultLuceneSearchStrategy::searchResults - Unknown grouping condition";¤				Logs.LOG_E(message);¤				throw new RuntimeException(message);¤			}¤		}¤		catch (Exception e) {¤			Logs.LOG_E ("DefaultLuceneSearchStrategy::searchResults - " + e.toString ());¤			throw new SearchFailedException(e);¤		}¤		¤		//#UC END# *474FD20100B0*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"GetRaises"
			    value      	"4741390900EB")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"474D4C0C02C9")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"1978"))
		    quid       	"474FD20100B0"
		    documentation 	"îñóùåñòâëÿåò ïîèñê"
		    stereotype 	"chg"
		    result     	"Iterable"
		    concurrency 	"Sequential"
		    opExportControl 	"Private"
		    uid        	0
		    quidu      	"474D4C0C02C9")
		(object Operation "initialize"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474FD21902B2*"
			    value      	(value Text 
|//#UC START# *474FD21902B2*¤		¤		if (initialized_)¤			return;¤		¤		searchBean_ = new GarantSearchBean();¤		try {¤			searchBean_.setUserAccessor(ContainerManager.Factory.get().getUserAccessor());¤			searchBean_.setAnyTypeDao (ContainerManager.Factory.get().getAnyTypeDao());¤			searchBean_.setSearcher (ContainerManager.Factory.get().getSeacher());¤			¤			initialized_ = true;¤		}¤		catch (NoActiveFactory e) {¤			Logs.LOG_SEX(e);¤		}¤		//#UC END# *474FD21902B2*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"104031278695"))
		    quid       	"474FD21902B2"
		    documentation 	"èíèöèàëèçèðóåò ïîèñêîâûå ìåõàíèçìû lucene "
		    stereotype 	"chg"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0)
		(object Operation "need_to_insert_OR"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474FD415001C*"
			    value      	(value Text 
|//#UC START# *474FD415001C*¤		¤		if (currentIndex != 0 && currentIndex != (queryTextLenght - 1)) {¤			if (isAlphaOrDigit(queryText.charAt(currentIndex - 1)) && isAlphaOrDigit(queryText.charAt(currentIndex + 1))) {¤				if (queryText.indexOf(" TO ", currentIndex) != currentIndex) {¤					if (currentIndex > 1) {¤						if (queryText.indexOf("TO", currentIndex - 2) != (currentIndex - 2))¤							return true;¤					}¤				}¤			}¤			// fieldLabel:text (fieldLabel:text2 ... -> fieldLabel:text OR¤			// (fieldLabel:text2 ...¤			else if (isAlphaOrDigit(queryText.charAt(currentIndex - 1)) && queryText.charAt(currentIndex + 1) == '(') {¤				if (queryText.indexOf(" OR ", currentIndex) != currentIndex) {¤					if (currentIndex > 1) {¤						if (queryText.indexOf("OR", currentIndex - 2) != (currentIndex - 2))¤							return true;¤					}¤				}¤			}¤		}¤			¤		return false;¤		¤		//#UC END# *474FD415001C*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"3DBFFE100240")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"1980"))
		    quid       	"474FD415001C"
		    documentation 	"îïðåäåëÿåò íóæíî ëè âñòàâëÿòü â òåêóùóþ ïîçèöèþ â òåêñòå çàïðîñà êëþ÷åâîå ñëîâî OR"
		    parameters 	(list Parameters
			(object Parameter "queryText"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"1981"))
			    quid       	"474FD41702F8"
			    type       	"string"
			    quidu      	"3DBFFE240068")
			(object Parameter "currentIndex"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"450A61050251")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"1982"))
			    quid       	"474FD4170327"
			    type       	"integer"
			    quidu      	"450A61050251")
			(object Parameter "queryTextLenght"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"450A61050251")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"1983"))
			    quid       	"474FD4170355"
			    type       	"integer"
			    quidu      	"450A61050251"))
		    result     	"boolean"
		    concurrency 	"Sequential"
		    opExportControl 	"Private"
		    uid        	0
		    quidu      	"3DBFFE100240")
		(object Operation "query_to_string"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474FD45C0165*"
			    value      	(value Text 
|//#UC START# *474FD45C0165*¤		¤		String originalText = query.toString();¤		¤		int modificationPartBeginning = originalText.indexOf(wordsToSearch) + wordsToSearch.length();¤				¤		originalText = originalText.replace(") (", ") OR (");¤		int resultLenght = originalText.length();¤¤		ArrayList<Integer> insertionIndexes = new ArrayList<Integer>();¤		for (int index = modificationPartBeginning; index < (resultLenght - 1) && index != -1; index = originalText¤				.indexOf(' ', index + 1)) {¤			if (needToInsertOR(originalText, index, resultLenght))¤				insertionIndexes.add(index);¤		}¤		¤		if (insertionIndexes.size() == 0)¤			return originalText;¤		¤		StringBuilder result = new StringBuilder(originalText);¤		¤		int addedOffset = 0;¤		int delta = " OR".length();¤		for (Integer insertIndex : insertionIndexes) {¤			result = result.insert(insertIndex + addedOffset, " OR");¤			addedOffset += delta;¤		}¤		¤		return result.toString();¤		¤		//#UC END# *474FD45C0165*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"3DBFFE240068")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"1984"))
		    quid       	"474FD45C0165"
		    documentation 	
|Ïðåîáðàçóeò Lucene çàïðîñ â ñòðîêó. Çàìåíÿåò ïîäñòðîêè ") (" íà ") OR (" è "<ñëîâî> <ñëîâî>" íà "<ñëîâî> OR <ñëîâî>", êðîìå ñëó÷àåâ, êîãäà îäíèì èç ñëîâ ÿâëÿåòñÿ êëþ÷åâîå ñëîâî "TO". Äàííîå ïðåîáðàçîâàíèå íåîáõîäèìî, òê Confluence èñïîëüçóåò â êà÷åñòâå îïåðàòîðà ïî óìîë÷àíèþ íå ñòàíäàðòíûé OR, à AND, òàêæå îíî íå çàòðàãèâàåò ââåäåííûå êëþ÷åâûå ñëîâà.
		    
		    parameters 	(list Parameters
			(object Parameter "query"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"4738137301A5")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"1985"))
			    quid       	"474FD45E00DC"
			    type       	"Query"
			    quidu      	"4738137301A5")
			(object Parameter "words_to_search"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"1986"))
			    quid       	"474FD45E0111"
			    type       	"string"
			    quidu      	"3DBFFE240068"))
		    result     	"string"
		    concurrency 	"Sequential"
		    opExportControl 	"Private"
		    uid        	0
		    quidu      	"3DBFFE240068")
		(object Operation "prepare_search_query"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*4787272901EF*"
			    value      	(value Text 
|//#UC START# *4787272901EF*¤		initialize();¤		searchBean_.setPaginationSupport(getPaginationSupport());¤		//#UC END# *4787272901EF*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"1987"))
		    quid       	"4787272901EF"
		    documentation 	"âûïîëíÿåò èíèöèàëèçèöèþ, êîíñòðóèðóåò lucene çàïðîñ è ïðåäàåò åãî îáúåêòàì ïîèñêà Confluence"
		    stereotype 	"chg"
		    parameters 	(list Parameters
			(object Parameter "query_builder"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"47627C660000")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"1988"))
			    quid       	"4787276A03B9"
			    type       	"LuceneQueryBuilder"
			    quidu      	"47627C660000"))
		    concurrency 	"Sequential"
		    opExportControl 	"Private"
		    uid        	0)
		(object Operation "execute_search_query"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*478730520199*"
			    value      	(value Text 
|//#UC START# *478730520199*¤		BooleanQuery.setMaxClauseCount(7000);¤		BooleanQuery resultQuery = queryBuilder.createLuceneQuery();¤		BooleanQuery searchQuery = addSpacesFields(resultQuery);¤¤		Sort sorting = queryBuilder.createLuceneSort();¤		¤		List ret;¤		if(sorting != null && sorting.getSort().length > 0)¤			ret = searchBean_.search(searchQuery, null, sorting);¤		else¤			ret = searchBean_.search(searchQuery);¤		¤		return ret;¤		¤		//#UC END# *478730520199*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"4787732E0216")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"1989"))
		    quid       	"478730520199"
		    documentation 	"âûïîëíÿåò çàïðîñ è âîçâðàùàåò ðåçóëüòàòû"
		    stereotype 	"chg"
		    parameters 	(list Parameters
			(object Parameter "query_builder"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"47627C660000")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"1990"))
			    quid       	"4787329B01E7"
			    type       	"LuceneQueryBuilder"
			    quidu      	"47627C660000"))
		    result     	"java.util::List"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0))
	    class_attributes 	(list class_attribute_list
		(object ClassAttribute "initialized"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ValueInitialized"
			    value      	"true")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"3DBFFE100240")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"1974"))
		    quid       	"474FD1DB015B"
		    type       	"boolean"
		    quidu      	"3DBFFE100240"
		    initv      	"false"
		    Containment 	"By Value")
		(object ClassAttribute "search_bean"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ValueInitialized"
			    value      	"true")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"4CA304CB012A")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474FD4EA02EF_GET_ACCESSOR*"
			    value      	(value Text 
|//#UC START# *474FD4EA02EF_GET_ACCESSOR*¤		return searchBean_;¤		//#UC END# *474FD4EA02EF_GET_ACCESSOR*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474FD4EA02EF_SET_ACCESSOR*"
			    value      	(value Text 
|//#UC START# *474FD4EA02EF_SET_ACCESSOR*¤		searchBean_ = searchBean;¤		//#UC END# *474FD4EA02EF_SET_ACCESSOR*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"104022572434"))
		    quid       	"474FD4EA02EF"
		    stereotype 	"property"
		    type       	"GarantSearchBean"
		    quidu      	"4CA304CB012A"
		    exportControl 	"Public"
		    Containment 	"By Value")
		(object ClassAttribute "key"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ValueInitialized"
			    value      	"true")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"474D66B00119")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"1977"))
		    quid       	"47B573F302CE"
		    stereotype 	"switch"
		    type       	"SearchStrategyType"
		    quidu      	"474D66B00119"
		    initv      	"LUCENE"
		    exportControl 	"Public"
		    Containment 	"By Value"))
	    language   	"MDA Generator")
	(object Class "DefaultLuceneQueryBuilder"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (java)"
		    value      	"w:/MDProcess/java/src/java/ru/garant/MDProcess/ConfluencePlugins/LuceneSearchImpl/DefaultLuceneQueryBuilder.java")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E89020196_CUSTOM_IMPORT*"
		    value      	"//#UC START# *474E89020196_CUSTOM_IMPORT*¤import java.util.ArrayList;¤import java.util.Date;¤import java.util.List;¤import java.util.regex.Pattern;¤¤import org.apache.commons.lang.StringUtils;¤import org.apache.lucene.search.QueryFilter;¤import org.apache.lucene.search.BooleanClause;¤import org.apache.lucene.search.SortField;¤import org.apache.lucene.search.ConstantScoreRangeQuery;¤import org.apache.lucene.queryParser.ParseException;¤import org.apache.lucene.queryParser.QueryParser;¤¤import ru.garant.shared.Core.Root.NoActiveFactory;¤¤import org.apache.lucene.analysis.WhitespaceAnalyzer;¤import org.apache.lucene.index.Term;¤import org.apache.lucene.search.RangeQuery;¤import org.apache.lucene.search.TermQuery;¤import org.apache.lucene.util.Version;¤import org.hsqldb.lib.StringUtil;¤¤import ru.garant.MDProcess.ConfluencePlugins.SearchSupport.AbstractExtractor;¤¤import ru.garant.MDProcess.ConfluencePlugins.Search.QueryLabelProviderFactoryManager;¤import ru.garant.MDProcess.ConfluencePlugins.Search.QueryLabelGroup;¤import ru.garant.MDProcess.ConfluencePlugins.Search.SortingCondition;¤import ru.garant.MDProcess.ConfluencePlugins.SearchSupportTypes.SortingType;¤¤import ru.garant.MDProcess.ConfluencePlugins.IndexingSupport.GarRussianAnalyzer;¤import ru.garant.MDProcess.ConfluencePlugins.LabelSupport.LabelGroupName;¤//#UC END# *474E89020196_CUSTOM_IMPORT*")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E89020196_CUSTOM_CLASS_DEFINITION*"
		    value      	"//#UC START# *474E89020196_CUSTOM_CLASS_DEFINITION*¤//#UC END# *474E89020196_CUSTOM_CLASS_DEFINITION*")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E89020196_CUSTOM_METHODS_AND_DATA*"
		    value      	(value Text 
|//#UC START# *474E89020196_CUSTOM_METHODS_AND_DATA*¤	¤	private static final String LUCENE_ESCAPE_CHARS = "[\\\\+\\-\\!\\(\\)\\:\\^\\]\\{\\}\\~\\?\\.\\,\\;\\`\\[\\<\\>\\@\\#\\$\\%\\&\\/\\|\\\"\\'\\\n\\\t\\\r]";¤	private static final Pattern LUCENE_PATTERN = Pattern.compile(LUCENE_ESCAPE_CHARS);¤	private static final String REPLACEMENT_STRING = "\\\\$0";¤	¤	// ñîçäàåò ñïèñîê çàïðîñîâ äëÿ îäíîãî èíäåêñèðîâàííîãî ïîëÿ è ìíîæåñòâà¤	// ïàðàìåòðîâ¤	protected java.util.List<org.apache.lucene.search.Query> createFieldQueries (final String fieldName, final java.util.List<?> fieldValues) {¤		if (fieldValues == null || fieldValues.size() == 0)¤			return new ArrayList<Query>();¤¤		List<Query> result = new ArrayList<Query>(fieldValues.size());¤		for (Object fieldValue : fieldValues) {¤			result.add(createFieldQuery(fieldName, fieldValue.toString()));¤		}¤¤		return result;¤	}¤	¤	protected Query createDateRangeQuery (String fieldName, Date from, Date to) {¤		if (from != null && !from.equals(new Date(0)) && to != null && !to.equals(new Date(0))) {¤			String fromStr = StringUtils.lowerCase(AbstractExtractor.encodeDate(from));¤			String toStr = StringUtils.lowerCase(AbstractExtractor.encodeDate(to));¤			return createRangeFieldQuery(fieldName, fromStr, toStr);¤		}¤		return null;¤	}¤	¤	protected BooleanQuery createNullQuery () {¤		BooleanQuery result = new BooleanQuery();¤		addSubquery(result, createFieldQuery(EMPTY_QUERY_TEXT, "aaa"), Occur.MUST);¤		return result;¤	}¤	¤	// ñîçäàòü çàïðîñ äëÿ ñòðàíèö¤	private BooleanQuery createQueryForHeaders() {¤¤		BooleanQuery resultQuery = new BooleanQuery();¤		BooleanQuery typeQuery = new BooleanQuery();¤¤		if(!(queryData_.getSearchInPage() &&  queryData_.getSearchInHeaders()))¤			return resultQuery;¤¤		String textToSearch = isEmpty(normalizedWordsToSearch_) ? EMPTY_QUERY_TEXT : normalizedWordsToSearch_;¤¤		Query query =ContainerManager.Factory.get().getSeacher().buildStandardQuery(new String[]{FIELD_TITLE}, textToSearch);¤¤		addSubquery(typeQuery, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_PAGE), Occur.SHOULD);¤		addSubquery(typeQuery, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_BLOGPOST), Occur.SHOULD);¤¤		BooleanQuery result = new BooleanQuery();¤		addSubquery(result, query, Occur.MUST);¤		addSubquery(result, typeQuery, Occur.MUST);¤		addSubquery(result, createQueryForFilters(), Occur.MUST);¤¤		return result;¤	}¤¤	private BooleanQuery createQueryForSources(String normalizedWordsToSearch) {¤		¤		BooleanQuery result = new BooleanQuery();¤		¤		String textToSearch = normalizedWordsToSearch;¤		¤		boolean inHeader = queryData_.getSearchInHeaders();¤		boolean inText = queryData_.getSearchInText();¤		boolean inComments = queryData_.getSearchInComments();¤		boolean inAttachmnets = queryData_.getSearchInAttachments();¤		if (false == (inHeader || inText || inComments || inAttachmnets)) {¤			inHeader = true;¤			inText = true;¤			inComments = true;¤			inAttachmnets = true;			¤		}¤		¤		if (inHeader) {¤			BooleanQuery res = new BooleanQuery();¤			if (!StringUtils.isEmpty(textToSearch)) {¤				Query q = ContainerManager.Factory.get().getSeacher().buildStandardQuery(new String[]{FIELD_TITLE}, makePhraseQuery(textToSearch));¤				addSubquery(¤					res¤					, q ¤					, Occur.MUST¤				);¤			}¤			¤			BooleanQuery sub = new BooleanQuery ();¤			addSubquery(sub, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_PAGE), Occur.SHOULD);¤			addSubquery(sub, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_BLOGPOST), Occur.SHOULD);			¤			res.add(sub, Occur.MUST);¤			¤			res.setBoost(9);¤			addSubquery(result, res, Occur.SHOULD);¤		}¤		if (inText) {¤			BooleanQuery res = new BooleanQuery();¤			if (!StringUtils.isEmpty(textToSearch)) {¤				addSubquery(¤					res¤					, ContainerManager.Factory.get().getSeacher().buildStandardQuery(new String[]{FIELD_CONTENT_BODY}, makePhraseQuery(textToSearch))¤					, Occur.MUST¤				);¤			}¤			¤			BooleanQuery sub = new BooleanQuery ();¤			addSubquery(sub, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_PAGE), Occur.SHOULD);¤			addSubquery(sub, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_BLOGPOST), Occur.SHOULD);			¤			res.add(sub, Occur.MUST);¤			¤			res.setBoost(7);¤			addSubquery(result, res, Occur.SHOULD);¤		}¤		if (inComments) {¤			BooleanQuery res = new BooleanQuery();			¤			if (!StringUtils.isEmpty(textToSearch)) {¤				addSubquery(¤					res¤					, ContainerManager.Factory.get().getSeacher().buildStandardQuery(new String[]{FIELD_CONTENT_BODY}, textToSearch)¤					, Occur.MUST¤				);¤			}¤			addSubquery(res, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_COMMENT), Occur.MUST);¤			¤			res.setBoost(5);			¤			addSubquery(result, res, Occur.SHOULD);¤		}¤		if (inAttachmnets) {¤			BooleanQuery res = new BooleanQuery();¤			¤			if (!StringUtils.isEmpty(textToSearch)) {			¤				BooleanQuery sub = new BooleanQuery();			¤				addSubquery(¤					sub¤					, ContainerManager.Factory.get().getSeacher().buildStandardQuery(new String[]{FIELD_CONTENT_BODY}, textToSearch)¤					, Occur.SHOULD¤				);¤				addSubquery(¤					sub¤					, ContainerManager.Factory.get().getSeacher().buildStandardQuery(new String[]{"filename"}, textToSearch)¤					, Occur.SHOULD¤				);¤				res.add(sub, Occur.MUST);¤			}			¤			¤			addSubquery(res, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_ATTACHMENT), Occur.MUST);¤			¤			res.setBoost(3);			¤			addSubquery(result, res, Occur.SHOULD);¤		}¤		return result;¤	}¤	¤	private BooleanQuery createQueryForType () {¤		BooleanQuery result = new BooleanQuery();¤		if (true == queryData_.getSearchInBlogpost() && false == queryData_.getSearchInPage()) {¤			BooleanQuery sub = new BooleanQuery();¤			addSubquery(sub, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_BLOGPOST), Occur.SHOULD);¤			addSubquery(sub, createFieldQuery(FIELD_OWN_PAGE_TYPE, FIELD_CONTENT_TYPE_BLOGPOST), Occur.SHOULD);¤			result.add(sub, Occur.MUST);		¤		} else if (false == queryData_.getSearchInBlogpost() && true == queryData_.getSearchInPage()) {¤			BooleanQuery sub = new BooleanQuery();¤			addSubquery(sub, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_PAGE), Occur.SHOULD);¤			addSubquery(sub, createFieldQuery(FIELD_OWN_PAGE_TYPE, FIELD_CONTENT_TYPE_PAGE), Occur.SHOULD);¤			result.add(sub, Occur.MUST);		¤		}¤¤		addSubquery(result, createQueryForLabels(), Occur.MUST);¤		return result;¤	}¤	¤	private BooleanQuery createQueryForParentId () {¤		BooleanQuery result = new BooleanQuery();¤		if(queryData_.getParentId() > 0){¤			String parentId = queryData_.getParentId() + "";¤			addSubquery(result, createFieldQuery(FIELD_PARENT_ID, parentId), Occur.MUST);¤		}¤		return  result;¤	}¤¤	private String makePhraseQuery (final String textToSearch) {¤		return "\"" + textToSearch + "\"~70";¤	}¤	//#UC END# *474E89020196_CUSTOM_METHODS_AND_DATA*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Ìîäåëü ïðîåêòà "MDProcess"/ConfluencePlugins/LuceneSearchImpl/DefaultLuceneQueryBuilder|474E89020196
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (fctr.java)"
		    value      	"w:/MDProcess/java/src/java/ru/garant/MDProcess/ConfluencePlugins/LuceneSearchImpl/DefaultLuceneQueryBuilderFactoryImpl.java")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"Factory auto reg"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"Factory default impl"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"Factory key"
		    value      	"SIMPLE")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"Need unsorted less"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"Servant Pool"
		    value      	"none")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"debug log"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"local supervisor"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"singleton"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*47627B9903D7_47627BF8012C_474E89020196_BODY*"
		    value      	(value Text 
|//#UC START# *47627B9903D7_47627BF8012C_474E89020196_BODY*¤		this.queryData_ = queryData;¤		normalizedWordsToSearch_ = queryData.getWordsToSearch() != null ? purgeDelimiters(queryData¤				.getWordsToSearch()) : "";¤		//#UC END# *47627B9903D7_47627BF8012C_474E89020196_BODY*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E9CA60150*"
		    value      	(value Text 
|//#UC START# *474E9CA60150*¤¤		for(Query query : subqueries)¤			targetQuery.add(query, occur);¤¤		//#UC END# *474E9CA60150*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E9CE301B9*"
		    value      	(value Text 
|//#UC START# *474E9CE301B9*¤¤		if(subquery != null && !isEmpty(subquery.toString()))¤			targetQuery.add(subquery, occur);¤¤		//#UC END# *474E9CE301B9*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*475F8C350036*"
		    value      	(value Text 
|//#UC START# *475F8C350036*¤		for (QueryLabelGroup group : groups) {¤			switch (group.getLabelElement().getType()) {¤			case LABEL:¤				BooleanQuery labelSubQuery = new BooleanQuery();¤¤				addSubquery(labelSubQuery, createFieldQuery(FIELD_LABEL, group.getLabelElement().getName()), Occur.SHOULD);¤				if (queryData_.getSearchInAttachments() || queryData_.getSearchInComments())¤					addSubquery(labelSubQuery, createFieldQuery(FIELD_OWN_PAGE_LABEL_TEXT, group.getLabelElement().getName()),¤							Occur.SHOULD);¤¤				addSubquery(targetQuery, labelSubQuery, convertLogicOpeartion(group.getLogicOperation()));¤¤				break;¤			case GROUP:¤				// labels for news processed specially¤				if(group.getLabelElement().getName().equals(LabelGroupName.NEWS.toString()))¤					break;¤¤				BooleanQuery unionSubQuery = new BooleanQuery();¤				addUnionSubqueries(unionSubQuery, labelProvider.convertQueryGroup(group), labelProvider);¤				addSubquery(targetQuery, unionSubQuery, convertLogicOpeartion(group.getLogicOperation()));¤				break;¤			}¤		}¤		//#UC END# *475F8C350036*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E9D0B02C0*"
		    value      	(value Text 
|//#UC START# *474E9D0B02C0*¤¤		return queryData_.getSearchInHeaders() || queryData_.getSearchInText()¤				|| queryData_.getSearchInAttachments() || queryData_.getSearchInComments();¤¤		//#UC END# *474E9D0B02C0*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*475F893903A5*"
		    value      	(value Text 
|//#UC START# *475F893903A5*¤¤		switch (operation) {¤		case AND:¤			return Occur.MUST;¤		case NOT_OR:¤			return Occur.MUST_NOT;¤		case OR:¤			return Occur.SHOULD;¤		default:¤			throw new IllegalArgumentException("Unsupported operation from ru.garant.MDProcess.ConfluencePlugins.LabelSupport.LogicOperation");¤		}¤¤		//#UC END# *475F893903A5*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E9D7F018A*"
		    value      	(value Text 
|//#UC START# *474E9D7F018A*¤¤		return isEmpty(fieldValue) ? null : new TermQuery(new Term(fieldName, fieldValue));¤¤		//#UC END# *474E9D7F018A*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E9DFC017D*"
		    value      	(value Text 
|//#UC START# *474E9DFC017D*¤¤		BooleanQuery result = new BooleanQuery();¤¤		if (!queryData_.getSearchInAttachments())¤			return result;¤¤		addSubquery(result, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_ATTACHMENT), Occur.MUST);¤		if (queryData_.getSearchInBlogpost()) {¤			if (!queryData_.getSearchInPage())¤				// set search only for blogposts attachments¤				addSubquery(result, createFieldQuery(FIELD_OWN_PAGE_TYPE, FIELD_CONTENT_TYPE_BLOGPOST),¤						Occur.MUST);¤		}¤		else // set not to search in blogpost attachments¤			addSubquery(result, createFieldQuery(FIELD_OWN_PAGE_TYPE, FIELD_CONTENT_TYPE_BLOGPOST),¤					Occur.MUST_NOT);¤¤		if (queryData_.getFilterActive())¤			addSubquery(result, createFieldQuery(FIELD_OWN_PAGE_LABEL_TEXT, FIELD_LABEL_FILTER_ACTIVE),¤					Occur.MUST);¤¤		return result;¤¤		//#UC END# *474E9DFC017D*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E9E13036B*"
		    value      	(value Text 
|//#UC START# *474E9E13036B*¤¤		BooleanQuery result = new BooleanQuery();¤		if (!queryData_.getAuthorIsCreator() && !queryData_.getAuthorIsLastModifier())¤			return result;¤¤		if (queryData_.getAuthorIsCreator()) {¤			BooleanQuery subQuery = new BooleanQuery();¤			addSubqueries(subQuery, createFieldQueries(FIELD_AUTHOR_CREATOR, queryData_.getAuthors()), Occur.SHOULD);¤			addSubquery(result, subQuery, Occur.SHOULD);¤		}¤¤		if (queryData_.getAuthorIsLastModifier()) {¤			BooleanQuery subQuery = new BooleanQuery();¤			addSubqueries(subQuery, createFieldQueries(FIELD_AUTHOR_LAST_MODIFIER, queryData_.getAuthors()), Occur.SHOULD);¤			addSubquery(result, subQuery, Occur.SHOULD);¤		}¤¤		return result;¤¤		//#UC END# *474E9E13036B*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E9E5D0362*"
		    value      	(value Text 
|//#UC START# *474E9E5D0362*¤¤		BooleanQuery result = new BooleanQuery();¤¤		if (!queryData_.getSearchInComments())¤			return result;¤¤		addSubquery(result, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_COMMENT), Occur.MUST);¤¤		if (queryData_.getSearchInBlogpost()) {¤			if (!queryData_.getSearchInPage())¤				// set search only for blogposts comments¤				addSubquery(result, createFieldQuery(FIELD_OWN_PAGE_TYPE, FIELD_CONTENT_TYPE_BLOGPOST),¤						Occur.MUST);¤		}¤		else // set not to search in blogpost comments¤			addSubquery(result, createFieldQuery(FIELD_OWN_PAGE_TYPE, FIELD_CONTENT_TYPE_BLOGPOST),¤					Occur.MUST_NOT);¤¤¤		if (queryData_.getFilterActive())¤			addSubquery(result, createFieldQuery(FIELD_OWN_PAGE_LABEL_TEXT, FIELD_LABEL_FILTER_ACTIVE),¤					Occur.MUST);¤		¤		if(queryData_.getFilterArchive())¤			addSubquery(result, createFieldQuery(FIELD_LABEL, FIELD_LABEL_FILTER_ARCHIVE), Occur.MUST_NOT);¤¤		return result;¤¤		//#UC END# *474E9E5D0362*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E9E94023F*"
		    value      	(value Text 
|//#UC START# *474E9E94023F*¤¤		BooleanQuery result = new BooleanQuery();¤¤¤		if (queryData_.getFilterActive())¤			addSubquery(result, createFieldQuery(FIELD_LABEL, FIELD_LABEL_FILTER_ACTIVE), Occur.MUST);¤¤		if (queryData_.getFilterAttachments()) {¤			String attachmentNumberString = AuthorExtractor.encodeInt(1);¤			attachmentNumberString = attachmentNumberString.substring(0, 3) + "*";¤			addSubquery(result, createFieldQuery(FIELD_ATTACHMENT, attachmentNumberString), Occur.MUST);¤		}¤¤		return result;¤¤		//#UC END# *474E9E94023F*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E9EA602CE*"
		    value      	(value Text 
|//#UC START# *474E9EA602CE*¤¤		BooleanQuery result = new BooleanQuery();¤¤		QueryLabelProvider labelProvider = null;¤		try {¤			labelProvider = QueryLabelProviderFactoryManager.getInstance().make();¤		}¤		catch (NoActiveFactory e) {¤			Logs.LOG_SEX(e);¤			return result;¤		}¤¤		addUnionSubqueries(result, queryData_.getGroups(), labelProvider);¤¤		return result;¤¤		//#UC END# *474E9EA602CE*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*4760E5DE02AF*"
		    value      	(value Text 
|//#UC START# *4760E5DE02AF*¤		BooleanQuery newsQuery = new BooleanQuery();¤¤		boolean searchInDocuments = queryData_.getSearchInHeaders() || queryData_.getSearchInText();¤		if(!(queryData_.getSearchInBlogpost() && searchInDocuments))¤			return newsQuery;¤¤		addSubquery(newsQuery, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_BLOGPOST), Occur.MUST);¤¤		QueryLabelProvider labelProvider = null;¤		try {¤			labelProvider = QueryLabelProviderFactoryManager.getInstance().make();¤		}¤		catch (NoActiveFactory e) {¤			Logs.LOG_SEX(e);¤			return newsQuery;¤		}¤¤		BooleanQuery newsLabelQuery = new BooleanQuery();¤		for (QueryLabelGroup group : queryData_.getGroups()) {¤			if (group.getLabelElement().getName().equals(LabelGroupName.NEWS.toString())) {¤				addUnionSubqueries(newsLabelQuery, labelProvider.convertQueryGroup(group), labelProvider);¤				break;¤			}¤		}¤		addSubquery(newsQuery, newsLabelQuery, Occur.SHOULD);¤¤		BooleanQuery result = new BooleanQuery();¤		addSubquery(result, newsQuery, Occur.MUST);¤		//filters¤		addSubquery(result, createQueryForFilters(), Occur.MUST);¤¤		return result;¤¤		//#UC END# *4760E5DE02AF*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*4760F1C50294*"
		    value      	(value Text 
|//#UC START# *4760F1C50294*¤¤		BooleanQuery pageQuery = new BooleanQuery();¤¤		boolean searchInDocuments = queryData_.getSearchInHeaders() || queryData_.getSearchInText();¤		if(!(queryData_.getSearchInPage() && searchInDocuments))¤			return pageQuery;¤¤		addSubquery(pageQuery, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_PAGE), Occur.MUST);¤¤		BooleanQuery result = new BooleanQuery();¤		addSubquery(result, pageQuery, Occur.MUST);¤		addSubquery(result, createQueryForFilters(), Occur.MUST);¤¤		return result;¤¤		//#UC END# *4760F1C50294*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E9EAF02DE*"
		    value      	(value Text 
|//#UC START# *474E9EAF02DE*¤¤		BooleanQuery result = new BooleanQuery();¤¤		Date createdWithinFrom = queryData_.getCreatedWithinFrom();¤		Date createdWithinTo = queryData_.getCreatedWithinTo();¤		if (createdWithinTo != null && !createdWithinTo.equals(new Date(0)) && createdWithinFrom != null¤				&& !createdWithinFrom.equals(new Date(0))) {¤			String from = AuthorExtractor.encodeDate(createdWithinFrom);¤			String to = AuthorExtractor.encodeDate(createdWithinTo);¤			addSubquery(result, createRangeFieldQuery(FIELD_TIMESTAMP_CREATION, from, to), Occur.MUST);¤		}¤		¤		Date lastModifiedWithinFrom = queryData_.getLastModifiedWithinFrom();¤		Date lastModifiedWithinTo = queryData_.getLastModifiedWithinTo();¤		if (lastModifiedWithinFrom != null && !lastModifiedWithinFrom.equals(new Date(0))¤				&& lastModifiedWithinTo != null && !lastModifiedWithinTo.equals(new Date(0))) {¤			String from = AuthorExtractor.encodeDate(lastModifiedWithinFrom);¤			String to = AuthorExtractor.encodeDate(lastModifiedWithinTo);¤			addSubquery(result, createRangeFieldQuery(FIELD_TIMESTAMP_LAST_MODIFICATION, from, to),¤					Occur.MUST);¤		}¤¤		return result;¤¤		//#UC END# *474E9EAF02DE*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E9EC6026C*"
		    value      	(value Text 
|//#UC START# *474E9EC6026C*¤¤		BooleanQuery result = new BooleanQuery();¤¤		String textToSearch = isEmpty(normalizedWordsToSearch_) ? EMPTY_QUERY_TEXT : normalizedWordsToSearch_;¤¤		if (queryData_.getSearchInHeaders() && !queryData_.getSearchInText())¤			addSubquery(result, createFieldQuery(FIELD_TITLE, textToSearch), Occur.SHOULD);¤		else if (!queryData_.getSearchInHeaders() && queryData_.getSearchInText())¤			addSubquery(result, createFieldQuery(FIELD_CONTENT_BODY, textToSearch), Occur.SHOULD);¤		else¤			addSubquery(result, createFieldQuery("", textToSearch), Occur.SHOULD);¤¤		return result;¤¤		//#UC END# *474E9EC6026C*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E9ED20371*"
		    value      	(value Text 
|//#UC START# *474E9ED20371*¤¤		return (isEmpty(from) || isEmpty(to)) ? null : new RangeQuery(new Term(fieldName, from), new Term(¤				fieldName, to), true);¤¤		//#UC END# *474E9ED20371*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E9F2403D8*"
		    value      	(value Text 
|//#UC START# *474E9F2403D8*¤¤		return str == null || str.length() == 0 || str.contains("()");¤¤		//#UC END# *474E9F2403D8*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*474E9F2E00BC*"
		    value      	(value Text 
|//#UC START# *474E9F2E00BC*¤¤		StringBuilder result = new StringBuilder ();¤¤		// we split words and delimenters¤		StringTokenizer st = new StringTokenizer (str, DELIMITER_STRING, false);¤		while (st.hasMoreTokens())¤			result.append(st.nextToken()).append(" ");¤¤		int len = result.length ();¤		if (len > 0)¤			result = result.deleteCharAt(len - 1);¤¤		return result.toString();¤¤		//#UC END# *474E9F2E00BC*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*47A707650309_474E89020196*"
		    value      	(value Text 
|//#UC START# *47A707650309_474E89020196*¤		¤		Filter filter = new QueryFilter(query);¤		return filter;¤		¤		//#UC END# *47A707650309_474E89020196*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*47627C740131_474E89020196*"
		    value      	(value Text 
|//#UC START# *47627C740131_474E89020196*¤		¤		BooleanQuery result = new BooleanQuery();¤		if (!canCreateQuery())¤			return result;¤		¤		BooleanQuery subQueryPagesNewsCommentsAttachments = new BooleanQuery(); ¤		addSubquery(subQueryPagesNewsCommentsAttachments, createQueryForPages(), Occur.SHOULD);¤		addSubquery(subQueryPagesNewsCommentsAttachments, createQueryForNews(), Occur.SHOULD);¤		addSubquery(subQueryPagesNewsCommentsAttachments, createQueryForComments(), Occur.SHOULD);¤		addSubquery(subQueryPagesNewsCommentsAttachments, createQueryForAttachments(), Occur.SHOULD);¤		¤		BooleanQuery subQueryDocumentsAndLabels = new BooleanQuery();¤		addSubquery(subQueryDocumentsAndLabels, subQueryPagesNewsCommentsAttachments, Occur.MUST);¤		addSubquery(subQueryDocumentsAndLabels, createQueryForLabels(), Occur.MUST);¤		¤		// queries for Authors and Timestamps¤		BooleanQuery subQueryAuthorsTimestamps = new BooleanQuery();¤		addSubquery(subQueryAuthorsTimestamps, createQueryForAuthors(), Occur.MUST);¤		addSubquery(subQueryAuthorsTimestamps, createQueryForTimestamps(), Occur.MUST);¤		¤		// queries for everything except words¤		BooleanQuery subQueryAllExceptWords = new BooleanQuery();¤		addSubquery(subQueryAllExceptWords, subQueryDocumentsAndLabels, Occur.MUST);¤		addSubquery(subQueryAllExceptWords, subQueryAuthorsTimestamps, Occur.MUST);¤		¤		addSubquery(result, createQueryForWords(), Occur.MUST);¤		addSubquery(result, subQueryAllExceptWords, isEmpty(normalizedWordsToSearch_) ? Occur.SHOULD : Occur.MUST);¤		¤		return result;¤		¤		//#UC END# *47627C740131_474E89020196*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*47691F3D0089_474E89020196*"
		    value      	(value Text 
|//#UC START# *47691F3D0089_474E89020196*¤		¤		List<SortingCondition> sortingConditions = queryData_.getSortingConditions();¤		if (sortingConditions == null || sortingConditions.size() == 0)¤			return null;¤		SortingCondition condition = sortingConditions.get(0);¤¤		if (condition.getSortingType() == SortingType.CREATION_DATE)¤			return new Sort(FIELD_TIMESTAMP_CREATION, condition.getReverse());¤		else if (condition.getSortingType() == SortingType.LAST_MODIFICATION_DATE)¤			return new Sort(FIELD_TIMESTAMP_LAST_MODIFICATION, condition.getReverse());¤¤		return null;¤		¤		//#UC END# *47691F3D0089_474E89020196*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*476920680145_474E89020196_GET*"
		    value      	(value Text 
|//#UC START# *476920680145_474E89020196_GET*¤		return normalizedWordsToSearch_;¤		//#UC END# *476920680145_474E89020196_GET*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (java)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (fctr.java)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"1991"))
	    quid       	"474E89020196"
	    documentation 	"êîíñòðóêòîð lucene çàïðîñîâ"
	    stereotype 	"Servant"
	    realized_interfaces 	(list realize_rel_list
		(object Realize_Relationship
		    quid       	"47627CDD023E"
		    supplier   	"Logical View::MDProcess::ConfluencePlugins::SearchStrategies::LuceneQueryBuilder"
		    quidu      	"47627C660000"))
	    operations 	(list Operations
		(object Operation "add_subqueries"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474E9CA60150*"
			    value      	(value Text 
|//#UC START# *474E9CA60150*¤¤		for(Query query : subqueries)¤			addSubquery(targetQuery, query, occur);¤¤		//#UC END# *474E9CA60150*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2018"))
		    quid       	"474E9CA60150"
		    documentation 	"äîáàâëÿåò ìíîæåñòâî çàïðîñîâ â öåëåâîé çàïðîñ"
		    parameters 	(list Parameters
			(object Parameter "target_query"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"4739624C011F")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2019"))
			    quid       	"475F8CFA00DE"
			    type       	"BooleanQuery"
			    quidu      	"4739624C011F")
			(object Parameter "subqueries"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"474EA09B02C8")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2020"))
			    quid       	"474E9CAD0164"
			    type       	"LuceneQueryBuilderQueryList"
			    quidu      	"474EA09B02C8")
			(object Parameter "occur"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"473AC429015E")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2021"))
			    quid       	"474E9CAD01B2"
			    type       	"Occur"
			    quidu      	"473AC429015E"))
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0)
		(object Operation "add_subquery"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474E9CE301B9*"
			    value      	(value Text 
|//#UC START# *474E9CE301B9*¤¤		if (subquery != null && !isEmpty(subquery.toString())) {¤			Occur currentOccur = occur;¤			Query currentSubquery = subquery;¤			¤			/* ¤			 * workaround on an error parsing BooleanQueries¤			 * prevent "... AND (NOT <CLAUSE>) ..." situation¤			 * this should be "... (NOT <CLAUSE>) ..."¤			*/¤			if (subquery instanceof BooleanQuery && currentOccur == Occur.MUST) {¤				BooleanClause[] clauses = ((BooleanQuery) subquery).getClauses();¤				if (clauses != null && clauses.length == 1 && clauses[0].getOccur() == Occur.MUST_NOT) {¤					currentOccur = Occur.MUST_NOT;¤					currentSubquery = clauses[0].getQuery();¤				}¤			}¤			targetQuery.add(currentSubquery, currentOccur);¤		}¤¤		//#UC END# *474E9CE301B9*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2022"))
		    quid       	"474E9CE301B9"
		    documentation 	"äîáàâëÿåò íå null ïîäçàïðîñ â öåëåâîé çàïðîñ"
		    parameters 	(list Parameters
			(object Parameter "target_query"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"4739624C011F")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2023"))
			    quid       	"475F8D0C01BB"
			    type       	"BooleanQuery"
			    quidu      	"4739624C011F")
			(object Parameter "subquery"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"4738137301A5")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2024"))
			    quid       	"474E9CE500AC"
			    type       	"Query"
			    quidu      	"4738137301A5")
			(object Parameter "occur"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"473AC429015E")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2025"))
			    quid       	"474E9CE500DB"
			    type       	"Occur"
			    quidu      	"473AC429015E"))
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0)
		(object Operation "can_create_query"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474E9D0B02C0*"
			    value      	(value Text 
|//#UC START# *474E9D0B02C0*¤¤		return queryData_.getSearchInHeaders() || queryData_.getSearchInText()¤				|| queryData_.getSearchInAttachments() || queryData_.getSearchInComments();¤¤		//#UC END# *474E9D0B02C0*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"3DBFFE100240")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2026"))
		    quid       	"474E9D0B02C0"
		    documentation 	"ïðîâåðÿåò âîçìîæíîñòü ïîèñêà ïî òèïàì äîêóìåíòîâ"
		    result     	"boolean"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0
		    quidu      	"3DBFFE100240")
		(object Operation "create_field_query"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474E9D7F018A*"
			    value      	(value Text 
|//#UC START# *474E9D7F018A*¤¤		return isEmpty(fieldValue) ? null : new TermQuery(new Term(fieldName, fieldValue));¤¤		//#UC END# *474E9D7F018A*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"4738137301A5")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2027"))
		    quid       	"474E9D7F018A"
		    documentation 	"ñîçäàåò çàïðîñ äëÿ ïîëÿ èíäåêñèðîâàíèÿ è åãî çíà÷åíèÿ"
		    parameters 	(list Parameters
			(object Parameter "field_name"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2028"))
			    quid       	"474FCB5C0010"
			    type       	"string"
			    quidu      	"3DBFFE240068")
			(object Parameter "field_value"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2029"))
			    quid       	"474FCB62037F"
			    type       	"string"
			    quidu      	"3DBFFE240068"))
		    result     	"Query"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0
		    quidu      	"4738137301A5")
		(object Operation "create_query_for_attachments"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474E9DFC017D*"
			    value      	(value Text 
|//#UC START# *474E9DFC017D*¤¤		BooleanQuery result = new BooleanQuery();¤		BooleanQuery resultText = new BooleanQuery();¤¤		if (!queryData_.getSearchInAttachments())¤			return result;¤¤		String textToSearch = isEmpty(normalizedWordsToSearch_) ? EMPTY_QUERY_TEXT : normalizedWordsToSearch_;¤		Query queryForTitle = ContainerManager.Factory.get().getSeacher().buildStandardQuery(new String[]{FIELD_TITLE}, textToSearch);¤		Query queryForBody = ContainerManager.Factory.get().getSeacher().buildStandardQuery(new String[]{FIELD_CONTENT_BODY}, textToSearch);¤		Query queryForFilename = ContainerManager.Factory.get().getSeacher().buildStandardQuery(new String[]{"filename"}, textToSearch);¤¤		addSubquery(resultText, queryForTitle, Occur.SHOULD);¤		addSubquery(resultText, queryForBody, Occur.SHOULD);¤		addSubquery(resultText, queryForFilename, Occur.SHOULD);¤¤		addSubquery(result, resultText, Occur.MUST);¤¤		addSubquery(result, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_ATTACHMENT), Occur.MUST);¤		if (queryData_.getSearchInBlogpost()) {¤			if (!queryData_.getSearchInPage())¤				// set search only for blogposts attachments¤				addSubquery(result, createFieldQuery(FIELD_OWN_PAGE_TYPE, FIELD_CONTENT_TYPE_BLOGPOST),¤						Occur.MUST);¤		}¤		else // set not to search in blogpost attachments¤			addSubquery(result, createFieldQuery(FIELD_OWN_PAGE_TYPE, FIELD_CONTENT_TYPE_BLOGPOST),¤					Occur.MUST_NOT);¤¤		if (queryData_.getFilterActive())¤			addSubquery(result, createFieldQuery(FIELD_OWN_PAGE_LABEL_TEXT, FIELD_LABEL_FILTER_ACTIVE),¤					Occur.MUST);¤¤		return result;¤¤		//#UC END# *474E9DFC017D*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"4739624C011F")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2030"))
		    quid       	"474E9DFC017D"
		    documentation 	"ñîçäàåò Lucene çàïðîñû äëÿ ïîèñêà ïî àòòà÷ìåíòàì"
		    result     	"BooleanQuery"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0
		    quidu      	"4739624C011F")
		(object Operation "create_query_for_authors"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474E9E13036B*"
			    value      	(value Text 
|//#UC START# *474E9E13036B*¤¤		BooleanQuery result = new BooleanQuery();¤		if (!queryData_.getAuthorIsCreator() && !queryData_.getAuthorIsLastModifier())¤			return result;¤¤		if (queryData_.getAuthorIsCreator()) {¤			BooleanQuery subQuery = new BooleanQuery();¤			addSubqueries(subQuery, createFieldQueries(FIELD_AUTHOR_CREATOR, queryData_.getAuthors()), Occur.SHOULD);¤			addSubquery(result, subQuery, Occur.SHOULD);¤		}¤¤		if (queryData_.getAuthorIsLastModifier()) {¤			BooleanQuery subQuery = new BooleanQuery();¤			addSubqueries(subQuery, createFieldQueries(FIELD_AUTHOR_LAST_MODIFIER, queryData_.getAuthors()), Occur.SHOULD);¤			addSubquery(result, subQuery, Occur.SHOULD);¤		}¤¤		return result;¤¤		//#UC END# *474E9E13036B*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"4739624C011F")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2031"))
		    quid       	"474E9E13036B"
		    documentation 	"ñîçäàåò Lucene çàïðîñû äëÿ ïîèñêà ïî àâòîðàì äîêóìåíòîâ"
		    result     	"BooleanQuery"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0
		    quidu      	"4739624C011F")
		(object Operation "create_query_for_comments"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474E9E5D0362*"
			    value      	(value Text 
|//#UC START# *474E9E5D0362*¤¤		BooleanQuery result = new BooleanQuery();¤¤		if (!queryData_.getSearchInComments())¤			return result;¤¤		String textToSearch = isEmpty(normalizedWordsToSearch_) ? EMPTY_QUERY_TEXT : normalizedWordsToSearch_;¤		Query query =ContainerManager.Factory.get().getSeacher().buildStandardQuery(new String[]{FIELD_CONTENT_BODY}, textToSearch);¤		addSubquery(result, query, Occur.MUST);¤¤		addSubquery(result, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_COMMENT), Occur.MUST);¤¤		if (queryData_.getSearchInBlogpost()) {¤			if (!queryData_.getSearchInPage())¤				// set search only for blogposts comments¤				addSubquery(result, createFieldQuery(FIELD_OWN_PAGE_TYPE, FIELD_CONTENT_TYPE_BLOGPOST),¤						Occur.MUST);¤		}¤		else // set not to search in blogpost comments¤			addSubquery(result, createFieldQuery(FIELD_OWN_PAGE_TYPE, FIELD_CONTENT_TYPE_BLOGPOST),¤					Occur.MUST_NOT);¤¤¤		if (queryData_.getFilterActive())¤			addSubquery(result, createFieldQuery(FIELD_OWN_PAGE_LABEL_TEXT, FIELD_LABEL_FILTER_ACTIVE),¤					Occur.MUST);¤		¤		if(queryData_.getFilterArchive())¤			addSubquery(result, createFieldQuery(FIELD_LABEL, FIELD_LABEL_FILTER_ARCHIVE), Occur.MUST_NOT);¤¤		return result;¤¤		//#UC END# *474E9E5D0362*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"4739624C011F")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2032"))
		    quid       	"474E9E5D0362"
		    documentation 	"ñîçäàåò Lucene çàïðîñû ïî êîììåíòàðèÿì"
		    result     	"BooleanQuery"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0
		    quidu      	"4739624C011F")
		(object Operation "create_query_for_filters"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474E9E94023F*"
			    value      	(value Text 
|//#UC START# *474E9E94023F*¤¤		BooleanQuery result = new BooleanQuery();¤¤		if (queryData_.getFilterActive()) {¤			addSubquery(result, createFieldQuery(FIELD_LABEL, FIELD_LABEL_FILTER_ACTIVE), Occur.MUST);¤		}¤¤		if (queryData_.getFilterAttachments()) {¤			String attachmentNumberString = AuthorExtractor.encodeInt(1);¤			attachmentNumberString = attachmentNumberString.substring(0, 3) + "*";¤			addSubquery(result, createFieldQuery(FIELD_ATTACHMENT, attachmentNumberString), Occur.MUST);¤		}¤¤		if(queryData_.getFilterArchive()) {¤			addSubquery(result, createFieldQuery(FIELD_LABEL, FIELD_LABEL_FILTER_ARCHIVE), Occur.MUST_NOT);¤		}¤		¤		return result;¤¤		//#UC END# *474E9E94023F*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"4739624C011F")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2033"))
		    quid       	"474E9E94023F"
		    documentation 	"ñîçäàåò Lucene çàïðîñ äëÿ ïàðàòðîâ äîïîëíèòåëüíîé ôèëüòðàöèè"
		    result     	"BooleanQuery"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0
		    quidu      	"4739624C011F")
		(object Operation "create_query_for_labels"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474E9EA602CE*"
			    value      	(value Text 
|//#UC START# *474E9EA602CE*¤¤		BooleanQuery result = new BooleanQuery();¤¤		QueryLabelProvider labelProvider = null;¤		try {¤			labelProvider = QueryLabelProvider.Factory.make();¤		}¤		catch (NoActiveFactory e) {¤			Logs.LOG_SEX(e);¤			return result;¤		}¤¤		addUnionSubqueries(result, queryData_.getGroups(), labelProvider);¤¤		return result;¤¤		//#UC END# *474E9EA602CE*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"4739624C011F")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2034"))
		    quid       	"474E9EA602CE"
		    documentation 	"ñîçäàåò çàïðîñû äëÿ ìåòîê äîêóìåíòîâ"
		    result     	"BooleanQuery"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0
		    quidu      	"4739624C011F")
		(object Operation "create_query_for_timestamps"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474E9EAF02DE*"
			    value      	(value Text 
|//#UC START# *474E9EAF02DE*¤¤		BooleanQuery result = new BooleanQuery();¤¤		Date createdWithinFrom = queryData_.getCreatedWithinFrom();¤		Date createdWithinTo = queryData_.getCreatedWithinTo();¤		addSubquery(result, createDateRangeQuery(FIELD_TIMESTAMP_CREATION, createdWithinFrom, createdWithinTo), Occur.MUST);¤		¤		Date lastModifiedWithinFrom = queryData_.getLastModifiedWithinFrom();¤		Date lastModifiedWithinTo = queryData_.getLastModifiedWithinTo();¤		addSubquery(result, createDateRangeQuery(FIELD_TIMESTAMP_LAST_MODIFICATION, lastModifiedWithinFrom,¤													lastModifiedWithinTo), Occur.MUST);¤		¤		return result;¤¤		//#UC END# *474E9EAF02DE*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"4739624C011F")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2035"))
		    quid       	"474E9EAF02DE"
		    documentation 	"ñîçäàåò Lucene çàïðîñû äëÿ ïîèñêà ñ èñïîëüçîâàíèåì âðåìåííûõ çíà÷åíèé"
		    result     	"BooleanQuery"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0
		    quidu      	"4739624C011F")
		(object Operation "create_query_for_words"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474E9EC6026C*"
			    value      	(value Text 
|//#UC START# *474E9EC6026C*¤¤		BooleanQuery result = new BooleanQuery();¤¤		String textToSearch = isEmpty(normalizedWordsToSearch_) ? EMPTY_QUERY_TEXT : normalizedWordsToSearch_;¤¤		if (queryData_.getSearchInHeaders() && !queryData_.getSearchInText())¤			addSubquery(result, createFieldQuery(FIELD_TITLE, textToSearch), Occur.SHOULD);¤		else if (!queryData_.getSearchInHeaders() && queryData_.getSearchInText())¤			addSubquery(result, createFieldQuery(FIELD_CONTENT_BODY, textToSearch), Occur.SHOULD);¤		else¤			addSubquery(result, createFieldQuery("", textToSearch), Occur.SHOULD);¤¤		return result;¤¤		//#UC END# *474E9EC6026C*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"4739624C011F")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2036"))
		    quid       	"474E9EC6026C"
		    documentation 	"ñîçäàåò Lucene çàïðîñû äëÿ êëþ÷åâûõ ñëîâ"
		    result     	"BooleanQuery"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0
		    quidu      	"4739624C011F")
		(object Operation "create_range_field_query"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474E9ED20371*"
			    value      	(value Text 
|//#UC START# *474E9ED20371*¤		return (isEmpty(from) || isEmpty(to)) ? null : new ConstantScoreRangeQuery(fieldName, from, to, true, false);¤		//#UC END# *474E9ED20371*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"4738137301A5")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2037"))
		    quid       	"474E9ED20371"
		    documentation 	"ñîçäàåò Lucene çàïðîñ äëÿ âðåìåííûõ ïàðàìåòðîâ"
		    parameters 	(list Parameters
			(object Parameter "field_name"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2038"))
			    quid       	"474FCB5502BA"
			    type       	"string"
			    quidu      	"3DBFFE240068")
			(object Parameter "from"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2039"))
			    quid       	"474E9ED400FE"
			    type       	"string"
			    quidu      	"3DBFFE240068")
			(object Parameter "to"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2040"))
			    quid       	"474E9ED4015C"
			    type       	"string"
			    quidu      	"3DBFFE240068"))
		    result     	"Query"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0
		    quidu      	"4738137301A5")
		(object Operation "is_empty"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474E9F2403D8*"
			    value      	(value Text 
|//#UC START# *474E9F2403D8*¤¤		return str == null || str.length() == 0 || str.contains("()");¤¤		//#UC END# *474E9F2403D8*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"3DBFFE100240")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2041"))
		    quid       	"474E9F2403D8"
		    documentation 	
|ïðîâåðÿåò ÿâëÿåòñÿ ëè âõîäíàÿ ñòðîêà null'îì, ïóñòîé ñòðîêîé, ïóñòûì çàïðîñîì( "()" ) 
		    
		    parameters 	(list Parameters
			(object Parameter "str"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2042"))
			    quid       	"474E9F260155"
			    type       	"string"
			    quidu      	"3DBFFE240068"))
		    result     	"boolean"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0
		    quidu      	"3DBFFE100240")
		(object Operation "purge_delimiters"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*474E9F2E00BC*"
			    value      	(value Text 
|//#UC START# *474E9F2E00BC*¤¤//		StringBuilder result = new StringBuilder ();¤//¤//		// we split words and delimenters¤//		StringTokenizer st = new StringTokenizer (str, DELIMITER_STRING, false);¤//		while (st.hasMoreTokens())¤//			result.append(st.nextToken()).append(" ");¤//¤//		int len = result.length ();¤//		if (len > 0)¤//			result = result.deleteCharAt(len - 1);¤//¤//		return result.toString();¤		¤		return LUCENE_PATTERN.matcher(str).replaceAll(REPLACEMENT_STRING);¤¤		//#UC END# *474E9F2E00BC*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"3DBFFE240068")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2043"))
		    quid       	"474E9F2E00BC"
		    documentation 	"î÷èùàåò âõîäíóþ ñòðîêó îò ðàçäåëèòåëåé, ïåðå÷èñëåííûõ â êîíñòàíòå DELIMITER_STRING"
		    parameters 	(list Parameters
			(object Parameter "str"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2044"))
			    quid       	"474E9F2F02AE"
			    type       	"string"
			    quidu      	"3DBFFE240068"))
		    result     	"string"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0
		    quidu      	"3DBFFE240068")
		(object Operation "convert_logic_opeartion"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*475F893903A5*"
			    value      	(value Text 
|//#UC START# *475F893903A5*¤¤		switch (operation) {¤		case AND:¤			return Occur.MUST;¤		case NOT_OR:¤			return Occur.MUST_NOT;¤		case OR:¤			return Occur.SHOULD;¤		default:¤			throw new IllegalArgumentException("Unsupported operation from ru.garant.MDProcess.ConfluencePlugins.LabelSupport.LogicOperation");¤		}¤¤		//#UC END# *475F893903A5*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"473AC429015E")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2045"))
		    quid       	"475F893903A5"
		    documentation 	"ïðåîáðàçóåò ëîãè÷åñêóþ îïåðàöèþ íàä ãðóïïîé label'îâ â ëîãè÷åñêóþ Lucene îïåðàöèþ"
		    parameters 	(list Parameters
			(object Parameter "operation"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"475E852002D3")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2046"))
			    quid       	"475F895F0230"
			    type       	"LogicOperation"
			    quidu      	"475E852002D3"))
		    result     	"Occur"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0
		    quidu      	"473AC429015E")
		(object Operation "add_union_subqueries"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*475F8C350036*"
			    value      	(value Text 
|//#UC START# *475F8C350036*¤		for (QueryLabelGroup group : groups) {¤			switch (group.getLabelElement().getType()) {¤			case LABEL:¤				BooleanQuery labelSubQuery = new BooleanQuery();¤¤				addSubquery(labelSubQuery, createFieldQuery(FIELD_LABEL, group.getLabelElement().getName()), Occur.SHOULD);¤				if (queryData_.getSearchInAttachments() || queryData_.getSearchInComments())¤					addSubquery(labelSubQuery, createFieldQuery(FIELD_OWN_PAGE_LABEL_TEXT, group.getLabelElement().getName()),¤							Occur.SHOULD);¤¤				addSubquery(targetQuery, labelSubQuery, convertLogicOpeartion(group.getLogicOperation()));¤¤				break;¤			case GROUP:¤				// labels for news processed specially¤				if(group.getLabelElement().getName().equals(LabelGroupName.NEWS.toString()))¤					break;¤¤				BooleanQuery unionSubQuery = new BooleanQuery();¤				addUnionSubqueries(unionSubQuery, labelProvider.convertQueryGroup(group), labelProvider);¤				addSubquery(targetQuery, unionSubQuery, convertLogicOpeartion(group.getLogicOperation()));¤				break;¤			}¤		}¤		//#UC END# *475F8C350036*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2047"))
		    quid       	"475F8C350036"
		    documentation 	"ðåêóðñèâíî äîáàâëÿåò ïîäçàïðîñû äëÿ ãðóïï label'îâ"
		    parameters 	(list Parameters
			(object Parameter "target_query"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"4739624C011F")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2048"))
			    quid       	"475F8CF602B8"
			    type       	"BooleanQuery"
			    quidu      	"4739624C011F")
			(object Parameter "groups"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"475E8848022A")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2049"))
			    quid       	"475F8C980004"
			    type       	"QueryLabelGroupList"
			    quidu      	"475E8848022A")
			(object Parameter "label_provider"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"475E87380302")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2050"))
			    quid       	"475F8E820203"
			    type       	"QueryLabelProvider"
			    quidu      	"475E87380302"))
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0)
		(object Operation "create_query_for_news"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*4760E5DE02AF*"
			    value      	(value Text 
|//#UC START# *4760E5DE02AF*¤		BooleanQuery newsQuery = new BooleanQuery();¤¤		if(!(queryData_.getSearchInBlogpost() && queryData_.getSearchInText()))¤			return newsQuery;¤¤		String textToSearch = isEmpty(normalizedWordsToSearch_) ? EMPTY_QUERY_TEXT : normalizedWordsToSearch_;¤		Query query = ContainerManager.Factory.get().getSeacher().buildStandardQuery(new String[]{FIELD_CONTENT_BODY}, textToSearch);¤		addSubquery(newsQuery, query, Occur.MUST);¤		addSubquery(newsQuery, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_BLOGPOST), Occur.MUST);¤¤//		QueryLabelProvider labelProvider = null;¤//		try {¤//			labelProvider = QueryLabelProviderFactoryManager.getInstance().make();¤//		}¤//		catch (NoActiveFactory e) {¤//			Logs.LOG_SEX(e);¤//			return newsQuery;¤//		}¤¤//		BooleanQuery newsLabelQuery = new BooleanQuery();¤//		for (QueryLabelGroup group : queryData_.getGroups()) {¤//			if (group.getLabelElement().getName().equals(LabelGroupName.NEWS.toString())) {¤//				addUnionSubqueries(newsLabelQuery, labelProvider.convertQueryGroup(group), labelProvider);¤//				break;¤//			}¤//		}¤//		addSubquery(newsQuery, newsLabelQuery, Occur.MUST);¤¤		BooleanQuery result = new BooleanQuery();¤		addSubquery(result, newsQuery, Occur.MUST);¤		//filters¤		addSubquery(result, createQueryForFilters(), Occur.MUST);¤¤		return result;¤¤		//#UC END# *4760E5DE02AF*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"4739624C011F")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2051"))
		    quid       	"4760E5DE02AF"
		    documentation 	" ñîçäàòü çàïðîñ äëÿ íîâîñòåé"
		    result     	"BooleanQuery"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0
		    quidu      	"4739624C011F")
		(object Operation "create_query_for_pages"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*4760F1C50294*"
			    value      	(value Text 
|//#UC START# *4760F1C50294*¤¤		BooleanQuery pageQuery = new BooleanQuery();¤¤		if(!(queryData_.getSearchInPage() && queryData_.getSearchInText()))¤			return pageQuery;¤¤		String textToSearch = isEmpty(normalizedWordsToSearch_) ? EMPTY_QUERY_TEXT : normalizedWordsToSearch_;¤		Query query = ContainerManager.Factory.get().getSeacher().buildStandardQuery(new String[]{FIELD_CONTENT_BODY}, textToSearch);¤		addSubquery(pageQuery, query, Occur.MUST);¤		addSubquery(pageQuery, createFieldQuery(FIELD_CONTENT_TYPE, FIELD_CONTENT_TYPE_PAGE), Occur.MUST);¤¤		BooleanQuery result = new BooleanQuery();¤		addSubquery(result, pageQuery, Occur.MUST);¤		addSubquery(result, createQueryForFilters(), Occur.MUST);¤¤		return result;¤¤		//#UC END# *4760F1C50294*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"4739624C011F")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2052"))
		    quid       	"4760F1C50294"
		    documentation 	"  ñîçäàòü çàïðîñ äëÿ ñòðàíèö"
		    result     	"BooleanQuery"
		    concurrency 	"Sequential"
		    opExportControl 	"Protected"
		    uid        	0
		    quidu      	"4739624C011F"))
	    class_attributes 	(list class_attribute_list
		(object ClassAttribute "normalized_words_to_search"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ValueInitialized"
			    value      	"true")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"3DBFFE240068")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2015"))
		    quid       	"4769217A02EF"
		    type       	"string"
		    quidu      	"3DBFFE240068"
		    Containment 	"By Value")
		(object ClassAttribute "key"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ValueInitialized"
			    value      	"true")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"452257A0036F")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2016"))
		    quid       	"47B574040226"
		    stereotype 	"switch"
		    type       	"a-string"
		    quidu      	"452257A0036F"
		    initv      	"SIMPLE"
		    exportControl 	"Public"
		    Containment 	"By Value"))
	    language   	"MDA Generator"
	    nestedClasses 	(list nestedClasses
		(object Class "LuceneQueryBuilderConstants"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"1992"))
		    quid       	"474EAD1F0213"
		    documentation 	" êîíñòàíòû äëÿ ðàáîòû ñ lucene"
		    stereotype 	"Constants"
		    exportControl 	"Private"
		    class_attributes 	(list class_attribute_list
			(object ClassAttribute "EMPTY_QUERY_TEXT"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"1993"))
			    quid       	"474EADB70074"
			    documentation 	"ìàðêåð, îáîçíà÷àþùèé, ÷òî â ïîëå çàïðîñà íå áûëî ââåäåíî êëþ÷åâûõ ñëîâ"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"SeachConstantsHelperConstants::EMPTY_QUERY_TEXT"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_ATTACHMENT"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"1994"))
			    quid       	"474EADD40397"
			    documentation 	"èìÿ èíäåêñèðóåìîãî ïîëÿ Lucene äëÿ ïîèñêà äëÿ ïîèñêà äîêóìåíòîâ ñ àòòà÷ìåíòàìè"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"AuthorExtractor::GarFieldsName::GarFieldNameAttachmentsCount"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_AUTHOR_CREATOR"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"1995"))
			    quid       	"474EADDB021E"
			    documentation 	"èìÿ èíäåêñèðîâàííîãî ïîëÿ äëÿ îïðåäåëåíèÿ àâòîðà äîêóìåíòà"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"AuthorExtractor::GarFieldsName::GarFieldNameAuthorCreator"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_AUTHOR_LAST_MODIFIER"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"1996"))
			    quid       	"474EADE30090"
			    documentation 	"èìÿ èíäåêñèðîâàííîãî ïîëÿ äëÿ îïðåäåëåíèÿ àâòîðà ïîñëåäíåãî èçìåíåíèÿ"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"AuthorExtractor::GarFieldsName::GarFieldNameAuthorLastModifier"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_CONTENT_BODY"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"1997"))
			    quid       	"474EADEC030E"
			    documentation 	"èìÿ èíäåêñèðîâàííîãî ïîëÿ, îïðåäåëÿþùåå òåêñò äîêóìåíòà"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"contentBody"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_CONTENT_TYPE"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"1998"))
			    quid       	"474EADF40016"
			    documentation 	"èìÿ èíäåêñèðóåìîãî ïîëÿ Lucene (èñïîëüçóåòñÿ äëÿ çàïðîñà òèïà äîêóìåíòà)"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"type"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_CONTENT_TYPE_ATTACHMENT"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"1999"))
			    quid       	"474EADFA02DE"
			    documentation 	"çíà÷åíèå èíäåêñèðóåìîãî ïîëÿ Lucene äëÿ ïîèñêà ïî òèïàì äîêóìåòîâ, ñëóæèò äëÿ ïîèñêà àòòà÷ìåíòîâ"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"attachment"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_CONTENT_TYPE_BLOGPOST"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2000"))
			    quid       	"474EAE00021D"
			    documentation 	"çíà÷åíèå èíäåêñèðóåìîãî ïîëÿ Lucene (èñïîëüçóåòñÿ äëÿ èäåíòèôèêàöèè òèïà äîêóìåíòà)"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"blogpost"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_CONTENT_TYPE_COMMENT"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2001"))
			    quid       	"474EAE17006E"
			    documentation 	"çíà÷åíèå èíäåêñèðóåìîãî ïîëÿ Lucene äëÿ ïîèñêà ïî òèïàì äîêóìåòîâ, ñëóæèò äëÿ ïîèñêà êîììåíòàðèåâ"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"comment"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_CONTENT_TYPE_PAGE"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2002"))
			    quid       	"474EAE1D0015"
			    documentation 	"çíà÷åíèå èíäåêñèðóåìîãî ïîëÿ Lucene (èñïîëüçóåòñÿ äëÿ èäåíòèôèêàöèè òèïà äîêóìåíòà)"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"page"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_CONTENT_TYPE_SPACEDESC"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2003"))
			    quid       	"474EAE240184"
			    documentation 	"çíà÷åíèå èíäåêñèðóåìîãî ïîëÿ Lucene (èñïîëüçóåòñÿ äëÿ èäåíòèôèêàöèè òèïà äîêóìåíòà)"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"spacedesc"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_CONTENT_TYPE_USERINFO"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2004"))
			    quid       	"474EAE2A0199"
			    documentation 	"çíà÷åíèå èíäåêñèðóåìîãî ïîëÿ Lucene (èñïîëüçóåòñÿ äëÿ èäåíòèôèêàöèè òèïà äîêóìåíòà)"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"userinfo"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_LABEL"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2005"))
			    quid       	"474EAE300084"
			    documentation 	"èìÿ èíäåêñèðóåìîãî ïîëÿ Lucene (èñïîëüçóåòñÿ äëÿ çàïðîñà ïî ìåòêàì)"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"labelText"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_LABEL_FILTER_ACTIVE"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2006"))
			    quid       	"474EAE3B01BB"
			    documentation 	"çíà÷åíèå èíäåêñèðóåìîãî ïîëÿ Lucene äëÿ ïîèñêà ýëåìåíòîâ êîäà ïî ìåòêàì, ñëóæèò äëÿ ïîèñêà àêòèâíûõ äîêóìåíòîâ"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"open"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_LABEL_FILTER_ARCHIVE"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2007"))
			    quid       	"474EAE4102A1"
			    documentation 	"çíà÷åíèå èíäåêñèðóåìîãî ïîëÿ Lucene äëÿ ïîèñêà ýëåìåíòîâ êîäà ïî ìåòêàì, ñëóæèò äëÿ ïîèñêà àðõèâíûõ äîêóìåíòîâ"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"archivecomment"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_OWN_PAGE_LABEL_TEXT"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2008"))
			    quid       	"474EAE4D0093"
			    documentation 	"ïîëå, îïðåäåëÿþùåå ñâîéñòâà àòòà÷ìåíòà"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"AuthorExtractor::GarFieldsName::GarFieldNameOwnPageLabelText"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_OWN_PAGE_TYPE"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2009"))
			    quid       	"474EAE5301D9"
			    documentation 	"èìÿ ïîëÿ èíäåêñèðîâàíèÿ, èñïîëüçóåòñÿ äëÿ ïîèñêà ïî àòòà÷ìåíòàì"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"AuthorExtractor::GarFieldsName::GarFieldNameOwnPageType"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_TIMESTAMP_CREATION"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2010"))
			    quid       	"474EAE5B020F"
			    documentation 	"èìÿ èíäåêñèðîâàííîãî ïîëÿ, îïðåäåëÿþùåå âðåìÿ ñîçäàíèÿ äîêóìåíòà"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"AuthorExtractor::GarFieldsName::GarFieldNameTimestampCreation"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_TIMESTAMP_LAST_MODIFICATION"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2011"))
			    quid       	"474EAE610275"
			    documentation 	"èìÿ èíäåêñèðîâàííîãî ïîëÿ, îïðåäåëÿþùåå âðåìÿ ïîñëåäíåãî èçìåíåíèÿ äîêóìåíòà"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"AuthorExtractor::GarFieldsName::GarFieldNameTimestampLastModification"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_TITLE"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2012"))
			    quid       	"474EAE670260"
			    documentation 	"èìÿ èíäåêñèðîâàííîãî ïîëÿ, îïðåäåëÿþùåå çàãîëîâîê äîêóìåíòà"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"title"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "DELIMITER_STRING"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2013"))
			    quid       	"4750193E00B2"
			    documentation 	"óäàëÿåìûå ðàçäåëèòåëè èç ïîëüçîâàòåëüñêîãî çàïðîñà"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	
|. ,!:;-`()[]<>@#$%^&+-/|\\\'\"\n\r\t
			    
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_LABEL_FILTER_ARCHIVE_DOCUMENT"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"2014"))
			    quid       	"490C235800FA"
			    documentation 	"çíà÷åíèå èíäåêñèðóåìîãî ïîëÿ Lucene äëÿ ïîèñêà ýëåìåíòîâ, ñëóæèò äëÿ ïîèñêà àðõèâíûõ äîêóìåíòîâ"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"archive"
			    exportControl 	"Public"
			    Containment 	"By Value")
			(object ClassAttribute "FIELD_PARENT_ID"
			    attributes 	(list Attribute_Set
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ElementCreationOrder"
				    value      	"1329820919084599")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"AbstarctOperation"
				    value      	"regular")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ValueInitialized"
				    value      	"true")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"IsNative"
				    value      	"false")
				(object Attribute
				    tool       	"MDA Generator"
				    name       	"ResolvedTypeGuid"
				    value      	"3DBFFE240068"))
			    quid       	"4F4374F70020"
			    documentation 	"ïîèñê âíóòðè ðîäèòåëÿ"
			    type       	"string"
			    quidu      	"3DBFFE240068"
			    initv      	"parentid"
			    exportControl 	"Public"
			    Containment 	"By Value")))))
	(object Class "LuceneQueryBuilderQueryList"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"2053"))
	    quid       	"474EA09B02C8"
	    documentation 	" ñïèñîê"
	    stereotype 	"List"
	    exportControl 	"Private"
	    language   	"MDA Generator")
	(object Class "GarantSearchBean"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"regular")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (java)"
		    value      	"w:/MDProcess/java/src/java/ru/garant/MDProcess/ConfluencePlugins/LuceneSearchImpl/GarantSearchBean.java")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (java)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*4CA304CB012A_CUSTOM_IMPORT*"
		    value      	"//#UC START# *4CA304CB012A_CUSTOM_IMPORT*¤import java.util.ArrayList;¤import java.util.Collections;¤import java.util.HashSet;¤import java.util.List;¤import java.util.ListIterator;¤import java.util.Map;¤import java.util.Set;¤import java.util.TreeSet;¤¤import org.apache.log4j.Category;¤import org.apache.lucene.index.Term;¤import org.apache.lucene.misc.ChainedFilter;¤import org.apache.lucene.search.Filter;¤import org.apache.lucene.search.FilteredQuery;¤import org.apache.lucene.search.Query;¤import org.apache.lucene.search.Sort;¤¤import bucket.core.persistence.hibernate.HibernateHandle;¤¤import com.atlassian.bonnie.Searcher;¤import com.atlassian.bonnie.search.BaseDocumentBuilder;¤import com.atlassian.confluence.core.persistence.AnyTypeDao;¤import com.atlassian.confluence.search.actions.SearchResultWithExcerpt;¤import com.atlassian.confluence.search.lucene.DocumentFieldName;¤import com.atlassian.confluence.search.lucene.filter.ContentPermissionsFilter;¤import com.atlassian.confluence.search.lucene.filter.TermFilter;¤import com.atlassian.confluence.search.v2.SearchResultType;¤import com.atlassian.confluence.user.AuthenticatedUserThreadLocal;¤import com.atlassian.confluence.user.UserAccessor;¤import com.atlassian.user.User;¤import com.atlassian.user.search.page.Pager;¤import com.atlassian.util.profiling.UtilTimerStack;¤//#UC END# *4CA304CB012A_CUSTOM_IMPORT*")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*4CA304CB012A_CUSTOM_CLASS_DEFINITION*"
		    value      	"//#UC START# *4CA304CB012A_CUSTOM_CLASS_DEFINITION*¤//#UC END# *4CA304CB012A_CUSTOM_CLASS_DEFINITION*")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"java:*4CA304CB012A_CUSTOM_METHODS_AND_DATA*"
		    value      	(value Text 
|//#UC START# *4CA304CB012A_CUSTOM_METHODS_AND_DATA*¤	@Override¤	public List search(Query query, Filter passedFilter, Sort sort) {¤		// TODO Auto-generated method stub¤        UtilTimerStack.push("GarantSearchBean.search()");¤¤        try¤        {¤            int startIndex = getPaginationSupport().getStartIndexValue();¤            {¤                if (startIndex < 0)¤                    startIndex = 0;¤            }¤¤            int resultPerPage = getPaginationSupport().getCountOnEachPage();¤¤            Filter filterContainer = includeAdditionalFilters(passedFilter);¤            int numFilters = 2; // ContentPermissionFilter & TermFilter to filter out change documents¤            if (passedFilter != null)¤                numFilters++;¤¤            int[] filteredCounts = new int[numFilters]; // no longer used but required by the¤            // com.atlassian.bonnie.Searcher API¤¤            Set fields = anyTypeDao_ == null ? null : GARANT_DEFAULT_FIELD_SET;¤¤            // Use a filtered query to filter before scoring and by that speed up queries¤            FilteredQuery filteredQuery = new FilteredQuery(query, filterContainer);¤            // The Math.max() hack is to make sure that we don't overflow the results int by doubling it, which would¤            // lead to a negative number, and Bad Things Happening.¤            List searchResults;¤    		if (hasGroupByStrategy ()) {¤    			List current = new ArrayList();¤    			int i = 0;¤    			final int PAGE_COUNT = 1000;¤    			boolean flagExistElemets = false;¤     			while (true) {¤     				flagExistElemets = false;¤    				List res = searcher_.searchForFields(filteredQuery, fields, i, PAGE_COUNT, null, sort, filteredCounts);¤     				for(Object r : res){¤     					if(r != null){¤     						flagExistElemets = true;¤     					}	¤     				}¤     				if (!flagExistElemets) {¤     					break;¤     				}¤     				current.addAll(res);¤    				i += PAGE_COUNT;¤    			}¤     			searchResults = getGroupByStrategy().apply (current, startIndex);¤    		} else if (joinIds_ != null && joinIds_.size() > 0) {¤    			List current = new ArrayList();¤    			int i = 0;¤    			final int PAGE_COUNT = 100000;¤    			boolean flagExistElemets = false;¤    			while (true) {¤    				flagExistElemets = false;¤     				List res = searcher_.searchForFields(filteredQuery, fields, i, PAGE_COUNT, null, sort, filteredCounts);¤     				for(Object r : res){¤     					if (r != null) {¤         					flagExistElemets = true;¤     						String handle = (String)((Map)r).get(BaseDocumentBuilder.FieldName.HANDLE);¤     						if (isExistInJoinIds(new HibernateHandle(handle))) {¤     							current.add(r);¤     						}¤     					}¤     				}¤     				if (!flagExistElemets) {¤     					break;¤     				}¤     				i += PAGE_COUNT;¤    			}¤    			searchResults = current;¤    		} else {¤    			searchResults = searcher_.searchForFields(¤                        filteredQuery, fields, startIndex, Math.max(resultPerPage, resultPerPage * 2), null, sort, filteredCounts);¤    		}¤¤			//ÂÀÐÈÀÍÒ 1¤			//ãðóïïèðóåì ðåçóëüòàòû ïîèñêà ïî êëàññàì â Map<String, List<Long>>, ãäå ïåðâîå - èìÿ êëàññà, âòîðîå ñïèñîê íàéäåííûõ àé-äèøíèêîâ ýòîãî êëàññà¤			¤			//áåæèì ïî ìàïå è íà anyTypeDao_ äëÿ êàæäîãî èìåíè êëàññà âûçûâàåì findByIdsAndClassName¤			¤			//òî ÷òî íàøëîñü êëàäåì â ìàïó Map<Long, Object> - àé-äèøíèê îáúåêòà íà ñàì îáúåêò¤			¤			//áåæèì ïî ðåçóëüòàòû ïîèñêà è óäàëàåì òîãî ÷åãî íåò â ìàïå, à åñëè åñòü êëàäåì â ðåçóëüòàò ïîèñêà îáúåêò¤¤		if (startIndex < searchResults.size()) {¤                ListIterator it = searchResults.listIterator(startIndex);¤¤                int allCount = 0;¤                for (int i = startIndex; it.hasNext() && ((joinIds_ == null) ? i < startIndex + resultPerPage: true);)¤                {¤                	allCount ++;¤                    Map searchResult = (Map) it.next();¤                    if (searchResult == null)¤                    {¤                        // We've skipped so many search results that we would have to go back to the searcher to get more.¤                        // Give up at this point, really.¤                   		break;¤                     }¤¤                    if (anyTypeDao_ != null)¤                    {¤                        String handle = (String) searchResult.get(BaseDocumentBuilder.FieldName.HANDLE);¤                        String content = (String) searchResult.get(BaseDocumentBuilder.FieldName.CONTENT_BODY);¤                        HibernateHandle hh = new HibernateHandle(handle);¤                        Object resultObject = anyTypeDao_.findByHandle(hh);¤¤                        // If we can get a result object, replace what's in the results currently¤                        if (resultObject != null)¤                        {¤                            SearchResultWithExcerpt srwe = new SearchResultWithExcerpt(content, resultObject);¤                            it.set(srwe);¤¤                            // Increment the count, so we move to the next item in the list¤                            i++;¤                        }¤                        // Otherwise remove the current result, as we don't want it displayed in the results, but don't increment, otherwise we skip the next result¤                        else¤                        {¤                            it.remove();¤                        }¤                    }¤                    else¤                    {¤                        SearchResultWithExcerpt srwe = new SearchResultWithExcerpt(searchResult);¤                        it.set(srwe);¤                        i++;¤                    }¤                }¤            }¤			int size = searchResults.size();¤            setResults(searchResults);¤        }¤        catch (Throwable e)¤        {¤            setResults(Collections.EMPTY_LIST);¤            log_.error("Error while searching the site!", e);¤        }¤¤        UtilTimerStack.pop("GarantSearchBean.search()");¤        return getPaginationSupport().getItems();¤	}¤	¤    private Filter includeAdditionalFilters(Filter filter)¤    {¤        /**¤         * HACK: because we can't use higher level v2 search abstractions like {@link com.atlassian.confluence.search.v2.searchfilter.SearchResultTypeSearchFilter#CONTENT}¤         */¤        final TermFilter documentTypeFilter = new TermFilter(new Term(DocumentFieldName.DOCUMENT_TYPE, SearchResultType.CONTENT.name()));¤¤        List<Filter> filters = new ArrayList<Filter>();¤        filters.add(createContentPermissionFilter()); ¤        filters.add(documentTypeFilter);¤¤        if (filter != null)¤            filters.add(filter);¤¤        return new ChainedFilter(filters.toArray(new Filter[filters.size()]), ChainedFilter.AND);¤    }¤¤    private ContentPermissionsFilter createContentPermissionFilter()¤    {¤        User user = AuthenticatedUserThreadLocal.getUser();¤        Pager groups = user != null ? userAccessor_.getGroups(user) : null;¤¤        return new ContentPermissionsFilter(user, groups);¤    }¤¤    public void setSearcher(Searcher searcher)¤    {¤        this.searcher_ = searcher;¤        super.setSearcher(searcher);¤    }¤¤    public void setAnyTypeDao(AnyTypeDao anyTypeDao)¤    {¤        this.anyTypeDao_ = anyTypeDao;¤        super.setAnyTypeDao(anyTypeDao);¤    }¤¤    public void setUserAccessor(UserAccessor userAccessor)¤    {¤        this.userAccessor_ = userAccessor;¤        super.setUserAccessor(userAccessor);¤    }¤¤    private Searcher searcher_;¤    private AnyTypeDao anyTypeDao_;¤    private UserAccessor userAccessor_;¤¤    private static Category log_ = Category.getInstance(GarantSearchBean.class);¤    private static Set GARANT_DEFAULT_FIELD_SET = new HashSet();¤¤    private Set<Long> joinIds_ = null;¤    public void setJoinIds (List<Long> ids) {¤    	joinIds_ = new TreeSet<Long>(ids);¤    }¤    ¤    private boolean isExistInJoinIds (HibernateHandle hh) {¤    	return joinIds_.contains(Long.valueOf(hh.getId()));¤    }¤	//#UC END# *4CA304CB012A_CUSTOM_METHODS_AND_DATA*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|MDProcess,key:MDP,guid:456C0DD70110/Home/Ìîäåëü ïðîåêòà "MDProcess"/ConfluencePlugins/LuceneSearchImpl/GarantSearchBean|4CA304CB012A
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"104031297737"))
	    quid       	"4CA304CB012A"
	    documentation 	"SearchBean ñ ãàðàíòîâñêèìè ïåðåäåëàííûìè ÷àñòÿìè"
	    stereotype 	"SimpleClass"
	    superclasses 	(list inheritance_relationship_list
		(object Inheritance_Relationship
		    quid       	"4CA308610331"
		    supplier   	"Logical View::external::JavaConfluence::ConfluenceClassPack::SearchBean"
		    quidu      	"4739B00101C7"))
	    operations 	(list Operations
		(object Operation "has_group_by_strategy"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"3DBFFE100240")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"104031298467")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*4CA316AF03BE*"
			    value      	(value Text 
|//#UC START# *4CA316AF03BE*¤		if(groupByStrategy_ == null)¤			return false;¤		return true;¤		//#UC END# *4CA316AF03BE*
			    )))
		    quid       	"4CA316AF03BE"
		    result     	"boolean"
		    concurrency 	"Sequential"
		    opExportControl 	"Public"
		    uid        	0
		    quidu      	"3DBFFE100240"))
	    class_attributes 	(list class_attribute_list
		(object ClassAttribute "group_by_strategy"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"final")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ValueInitialized"
			    value      	"true")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ResolvedTypeGuid"
			    value      	"4CA19FE50051")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"104031298058")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*4CA316640270_GET_ACCESSOR*"
			    value      	(value Text 
|//#UC START# *4CA316640270_GET_ACCESSOR*¤		return groupByStrategy_;¤		//#UC END# *4CA316640270_GET_ACCESSOR*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"java:*4CA316640270_SET_ACCESSOR*"
			    value      	(value Text 
|//#UC START# *4CA316640270_SET_ACCESSOR*¤		groupByStrategy_ = groupByStrategy;¤		//#UC END# *4CA316640270_SET_ACCESSOR*
			    )))
		    quid       	"4CA316640270"
		    stereotype 	"property"
		    type       	"AbstractGroupByStrategy"
		    quidu      	"4CA19FE50051"
		    exportControl 	"Public"
		    Containment 	"By Value"))
	    language   	"MDA Generator")
	(object Association "$UNNAMED$0"
	    quid       	"474EA0D20109"
	    roles      	(list role_list
		(object Role "$UNNAMED$1"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2054"))
		    quid       	"474EA0D2031B"
		    supplier   	"Logical View::external::ConfluenceSupport::org.apache.lucene.search::Query"
		    quidu      	"4738137301A5"
		    Containment 	"By Value"
		    is_navigable 	TRUE)
		(object Role "$UNNAMED$2"
		    quid       	"474EA0D2032B"
		    supplier   	"Logical View::MDProcess::ConfluencePlugins::LuceneSearchImpl::LuceneQueryBuilderQueryList"
		    quidu      	"474EA09B02C8"
		    is_aggregate 	TRUE)))
	(object Association "$UNNAMED$3"
	    quid       	"474EB0220326"
	    roles      	(list role_list
		(object Role "query_data"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"2017"))
		    quid       	"474EB023018A"
		    label      	"query_data"
		    supplier   	"Logical View::MDProcess::ConfluencePlugins::Search::SearchQueryData"
		    quidu      	"474C22A90245"
		    Containment 	"By Value"
		    exportControl 	"Private"
		    is_navigable 	TRUE)
		(object Role "$UNNAMED$4"
		    quid       	"474EB0230194"
		    supplier   	"Logical View::MDProcess::ConfluencePlugins::LuceneSearchImpl::DefaultLuceneQueryBuilder"
		    quidu      	"474E89020196"
		    is_aggregate 	TRUE))))
    logical_presentations 	(list unit_reference_list
	(object ClassDiagram "Main"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsChanged"
		    value      	""))
	    quid       	"474D4967015A"
	    title      	"Main"
	    zoom       	80
	    max_height 	28350
	    max_width  	21600
	    origin_x   	0
	    origin_y   	732
	    items      	(list diagram_item_list
		(object ClassView "Class" "Logical View::MDProcess::ConfluencePlugins::LuceneSearchImpl::DefaultLuceneSearchStrategy" @1
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(1035, 756)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@1
			location   	(105, 482)
			fill_color 	13434879
			nlines     	1
			max_width  	1860
			justify    	0
			label      	"DefaultLuceneSearchStrategy")
		    stereotype 	(object ItemLabel
			Parent_View 	@1
			location   	(105, 432)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	1860
			justify    	0
			label      	"<<Servant>>")
		    icon_style 	"Label"
		    fill_color 	12842435
		    quidu      	"474D497103CF"
		    compartment 	(object Compartment
			Parent_View 	@1
			location   	(105, 544)
			font       	(object Font
			    size       	10
			    face       	"Arial"
			    charSet    	204
			    bold       	FALSE
			    italics    	FALSE
			    underline  	FALSE
			    strike     	FALSE
			    color      	0
			    default_color 	TRUE)
			icon_style 	"Icon"
			fill_color 	16777215
			anchor     	2
			nlines     	10
			max_width  	1806
			justify    	1)
		    width      	1878
		    height     	672
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::external::ConfluenceSupport::org.apache.lucene.search::Query" @2
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    location   	(1194, 2778)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	658120
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@2
			location   	(974, 2750)
			fill_color 	13434879
			nlines     	1
			max_width  	440
			justify    	0
			label      	" Query")
		    stereotype 	(object ItemLabel
			Parent_View 	@2
			location   	(974, 2700)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	440
			justify    	0
			label      	"<<SimpleClass>>")
		    icon_style 	"Label"
		    line_color 	14803425
		    fill_color 	14803425
		    quidu      	"4738137301A5"
		    width      	458
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::MDProcess::ConfluencePlugins::LuceneSearchImpl::LuceneQueryBuilderQueryList" @3
		    ShowCompartmentStereotypes 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(2247, 2811)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@3
			location   	(1881, 2780)
			fill_color 	13434879
			nlines     	1
			max_width  	732
			justify    	0
			label      	"LuceneQueryBuilderQueryList")
		    stereotype 	(object ItemLabel
			Parent_View 	@3
			location   	(1881, 2730)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	732
			justify    	0
			label      	"<<List>>")
		    icon_style 	"Label"
		    fill_color 	15787730
		    quidu      	"474EA09B02C8"
		    width      	750
		    height     	186
		    annotation 	8
		    autoResize 	TRUE)
		(object AssociationViewNew "$UNNAMED$0" @4
		    location   	(1647, 2791)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"474EA0D20109"
		    roleview_list 	(list RoleViews
			(object RoleView "$UNNAMED$1" @5
			    Parent_View 	@4
			    location   	(363, 931)
			    stereotype 	TRUE
			    line_color 	3342489
			    quidu      	"474EA0D2031B"
			    client     	@4
			    supplier   	@2
			    vertices   	(list Points
				(1647, 2791)
				(1423, 2784))
			    line_style 	0)
			(object RoleView "$UNNAMED$2" @6
			    Parent_View 	@4
			    location   	(363, 931)
			    stereotype 	TRUE
			    line_color 	3342489
			    quidu      	"474EA0D2032B"
			    client     	@4
			    supplier   	@3
			    vertices   	(list Points
				(1647, 2791)
				(1871, 2797))
			    line_style 	0)))
		(object ClassView "Class" "Logical View::MDProcess::ConfluencePlugins::Search::SearchQueryData" @7
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    location   	(2166, 144)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	16714250
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@7
			location   	(1944, 112)
			nlines     	1
			max_width  	444
			justify    	0
			label      	"SearchQueryData")
		    stereotype 	(object ItemLabel
			Parent_View 	@7
			location   	(1944, 62)
			anchor     	10
			nlines     	1
			max_width  	444
			justify    	0
			label      	"<<Interface>>")
		    icon       	"Interface"
		    icon_style 	"Label"
		    line_color 	16714250
		    fill_color 	16777215
		    quidu      	"474C22A90245"
		    width      	462
		    height     	188
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::MDProcess::ConfluencePlugins::LuceneSearchImpl::DefaultLuceneQueryBuilder" @8
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(1422, 1854)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@8
			location   	(278, 1289)
			fill_color 	13434879
			nlines     	1
			max_width  	2288
			justify    	0
			label      	" DefaultLuceneQueryBuilder")
		    stereotype 	(object ItemLabel
			Parent_View 	@8
			location   	(278, 1239)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	2288
			justify    	0
			label      	"<<Servant>>")
		    icon_style 	"Label"
		    line_color 	7885055
		    fill_color 	12842435
		    quidu      	"474E89020196"
		    compartment 	(object Compartment
			Parent_View 	@8
			location   	(278, 1351)
			font       	(object Font
			    size       	10
			    face       	"Arial"
			    charSet    	204
			    bold       	FALSE
			    italics    	FALSE
			    underline  	FALSE
			    strike     	FALSE
			    color      	0
			    default_color 	TRUE)
			icon_style 	"Icon"
			fill_color 	16777215
			anchor     	2
			nlines     	21
			max_width  	2225
			justify    	1)
		    width      	2306
		    height     	1254
		    annotation 	8
		    autoResize 	TRUE)
		(object AssociationViewNew "$UNNAMED$3" @9
		    location   	(2164, 732)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"474EB0220326"
		    roleview_list 	(list RoleViews
			(object RoleView "query_data" @10
			    Parent_View 	@9
			    location   	(25, -15)
			    font       	(object Font
				size       	10
				face       	"Arial"
				charSet    	204
				bold       	FALSE
				italics    	FALSE
				underline  	FALSE
				strike     	FALSE
				color      	0
				default_color 	TRUE)
			    label      	(object SegLabel @11
				Parent_View 	@10
				location   	(2154, 664)
				font       	(object Font
				    size       	10
				    face       	"Arial"
				    charSet    	204
				    bold       	FALSE
				    italics    	FALSE
				    underline  	FALSE
				    strike     	FALSE
				    color      	0
				    default_color 	TRUE)
				anchor     	1
				anchor_loc 	1
				nlines     	1
				max_width  	421
				justify    	0
				label      	"-query_data"
				pctDist    	0.139959
				height     	11
				orientation 	0)
			    stereotype 	TRUE
			    line_color 	3342489
			    quidu      	"474EB023018A"
			    client     	@9
			    supplier   	@7
			    vertices   	(list Points
				(2164, 732)
				(2164, 238))
			    line_style 	3
			    origin_attachment 	(2164, 732)
			    terminal_attachment 	(2164, 238))
			(object RoleView "$UNNAMED$4" @12
			    Parent_View 	@9
			    location   	(25, -15)
			    stereotype 	TRUE
			    line_color 	3342489
			    quidu      	"474EB0230194"
			    client     	@9
			    supplier   	@8
			    vertices   	(list Points
				(2164, 732)
				(2164, 1226))
			    line_style 	3
			    origin_attachment 	(2164, 732)
			    terminal_attachment 	(2164, 1226))))
		(object ClassView "Class" "Logical View::MDProcess::ConfluencePlugins::SearchStrategies::LuceneQueryBuilder" @13
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    location   	(2586, 147)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	16714250
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@13
			location   	(2311, 115)
			nlines     	1
			max_width  	550
			justify    	0
			label      	"LuceneQueryBuilder")
		    stereotype 	(object ItemLabel
			Parent_View 	@13
			location   	(2311, 65)
			anchor     	10
			nlines     	1
			max_width  	550
			justify    	0
			label      	"<<Interface>>")
		    icon       	"Interface"
		    icon_style 	"Label"
		    line_color 	16714250
		    fill_color 	16777215
		    quidu      	"47627C660000"
		    width      	568
		    height     	188
		    annotation 	8
		    autoResize 	TRUE)
		(object RealizeView "" @14
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"47627CDD023E"
		    client     	@8
		    supplier   	@13
		    vertices   	(list Points
			(2555, 1227)
			(2555, 241))
		    line_style 	3
		    origin_attachment 	(2555, 1227)
		    terminal_attachment 	(2555, 241))
		(object Label @15
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LinkedItemGuid"
			    value      	"474EA09B02C8"))
		    location   	(1989, 2856)
		    font       	(object Font
			size       	8
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	255
			default_color 	FALSE)
		    nlines     	1
		    max_width  	114
		    justify    	1
		    label      	"private")
		(object ClassView "Class" "Logical View::MDProcess::ConfluencePlugins::SearchStrategiesImpl::AbstractSearchStrategy" @16
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    location   	(1017, 117)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	TRUE
			underline  	FALSE
			strike     	FALSE
			color      	705290
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@16
			location   	(692, 85)
			nlines     	1
			max_width  	650
			justify    	0
			label      	"AbstractSearchStrategy")
		    stereotype 	(object ItemLabel
			Parent_View 	@16
			location   	(692, 35)
			anchor     	10
			nlines     	1
			max_width  	650
			justify    	0
			label      	"<<Servant>>")
		    icon_style 	"Label"
		    line_color 	705290
		    fill_color 	16777215
		    quidu      	"478743B503BB"
		    width      	668
		    height     	188
		    annotation 	8
		    autoResize 	TRUE)
		(object InheritView "" @17
		    stereotype 	TRUE
		    line_color 	3342489
		    quidu      	"4787443E0198"
		    client     	@1
		    supplier   	@16
		    vertices   	(list Points
			(1025, 419)
			(1019, 211))
		    line_style 	0)
		(object ClassView "Class" "Logical View::external::JavaConfluence::ConfluenceClassPack::SearchBean" @18
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    location   	(3528, 894)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	658120
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@18
			location   	(3333, 866)
			fill_color 	13434879
			nlines     	1
			max_width  	390
			justify    	0
			label      	" SearchBean")
		    stereotype 	(object ItemLabel
			Parent_View 	@18
			location   	(3333, 816)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	390
			justify    	0
			label      	"<<SimpleClass>>")
		    icon_style 	"Label"
		    line_color 	14803425
		    fill_color 	14803425
		    quidu      	"4739B00101C7"
		    width      	408
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::MDProcess::ConfluencePlugins::LuceneSearchImpl::GarantSearchBean" @19
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(3282, 339)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@19
			location   	(2690, 251)
			fill_color 	13434879
			nlines     	1
			max_width  	1184
			justify    	0
			label      	" GarantSearchBean")
		    stereotype 	(object ItemLabel
			Parent_View 	@19
			location   	(2690, 201)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	1184
			justify    	0
			label      	"<<SimpleClass>>")
		    icon_style 	"Label"
		    fill_color 	12842465
		    quidu      	"4CA304CB012A"
		    compartment 	(object Compartment
			Parent_View 	@19
			location   	(2690, 313)
			font       	(object Font
			    size       	10
			    face       	"Arial"
			    charSet    	204
			    bold       	FALSE
			    italics    	FALSE
			    underline  	FALSE
			    strike     	FALSE
			    color      	0
			    default_color 	TRUE)
			icon_style 	"Icon"
			fill_color 	16777215
			anchor     	2
			nlines     	3
			max_width  	1182
			justify    	1)
		    width      	1202
		    height     	300
		    annotation 	8
		    autoResize 	TRUE)
		(object InheritView "" @20
		    stereotype 	TRUE
		    line_color 	3342489
		    quidu      	"4CA308610331"
		    client     	@19
		    supplier   	@18
		    vertices   	(list Points
			(3348, 489)
			(3488, 803))
		    line_style 	0)))
	(object ClassDiagram "Main"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ClassUID"
		    value      	"474E89020196")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsChanged"
		    value      	""))
	    quid       	"474EAC430359"
	    title      	"Main"
	    zoom       	100
	    max_height 	28350
	    max_width  	21600
	    origin_x   	0
	    origin_y   	0
	    items      	(list diagram_item_list
		(object ClassView "Class" "Logical View::MDProcess::ConfluencePlugins::LuceneSearchImpl::DefaultLuceneQueryBuilder::LuceneQueryBuilderConstants" @21
		    ShowCompartmentStereotypes 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(1371, 714)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@21
			location   	(181, 107)
			fill_color 	13434879
			nlines     	1
			max_width  	2380
			justify    	0
			label      	"LuceneQueryBuilderConstants")
		    stereotype 	(object ItemLabel
			Parent_View 	@21
			location   	(181, 57)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	2380
			justify    	0
			label      	"<<Constants>>")
		    icon_style 	"Label"
		    fill_color 	16119285
		    quidu      	"474EAD1F0213"
		    compartment 	(object Compartment
			Parent_View 	@21
			location   	(181, 222)
			font       	(object Font
			    size       	10
			    face       	"Arial"
			    charSet    	204
			    bold       	FALSE
			    italics    	FALSE
			    underline  	FALSE
			    strike     	FALSE
			    color      	0
			    default_color 	TRUE)
			icon_style 	"Icon"
			fill_color 	16777215
			anchor     	2
			nlines     	23
			max_width  	2403
			justify    	1)
		    width      	2398
		    height     	1338
		    annotation 	8
		    autoResize 	TRUE)
		(object Label @22
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LinkedItemGuid"
			    value      	"474EAD1F0213"))
		    location   	(177, 1344)
		    font       	(object Font
			size       	8
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	255
			default_color 	FALSE)
		    nlines     	1
		    max_width  	12
		    justify    	1
		    label      	"private")))))
