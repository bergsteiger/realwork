// ChatInterfaces 4A40991F003F Interfaces Category

INCLUDE 'ElementsRTTI.ms.dict'

FORWARD ME_4A40991F003F

FORWARD ME_4A409BC300FB

: ME_4A409BE202A3
 CONST UID '4A409BE202A3'
 CONST Name 'email'
 CONST Class class_Attribute
 %SUMMARY 'email пользователя' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_final
 CONST LinkType lt_ref
 : Parent ME_4A409BC300FB // UserInfo
 ;
 : Target WL 'ME_431841610361' '4423F94903C8.pas.ms.script' // String
 ;

ref; // ME_4A409BE202A3 email

: ME_4A409BFB0002
 CONST UID '4A409BFB0002'
 CONST Name 'login'
 CONST Class class_Attribute
 %SUMMARY 'регистрационное имя пользователя' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_final
 CONST LinkType lt_ref
 : Parent ME_4A409BC300FB // UserInfo
 ;
 : Target WL 'ME_431841610361' '4423F94903C8.pas.ms.script' // String
 ;

ref; // ME_4A409BFB0002 login

: ME_4A409C1D03A7
 CONST UID '4A409C1D03A7'
 CONST Name 'name'
 CONST Class class_Attribute
 %SUMMARY 'имя пользователя' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_final
 CONST LinkType lt_ref
 : Parent ME_4A409BC300FB // UserInfo
 ;
 : Target WL 'ME_431841610361' '4423F94903C8.pas.ms.script' // String
 ;

ref; // ME_4A409C1D03A7 name

: ME_4A409BC300FB
 CONST UID '4A409BC300FB'
 CONST Name 'UserInfo'
 CONST Class class_Class
 : Stereotype st_Struct ;
 CONST Kind kind_NormalClass
 %SUMMARY 'информация о пользователе' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_regular
 : Parent ME_4A40991F003F // ChatInterfaces
 ;
 : Attributes
   Seq: ( ME_4A409BE202A3 // email
 ME_4A409BFB0002 // login
 ME_4A409C1D03A7 // name
 )
 ; // Attributes
 CONST extprop:pas:TypeName 'TUserInfo'

ref; // ME_4A409BC300FB UserInfo

: ME_4A409D1F00AA
 CONST UID '4A409D1F00AA'
 CONST Name 'UnknownUser'
 CONST Class class_Class
 : Stereotype st_Exception ;
 CONST Kind kind_NormalClass
 %SUMMARY 'задан идентификатор неизвестного пользователя' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_regular
 : Parent ME_4A40991F003F // ChatInterfaces
 ;

ref; // ME_4A409D1F00AA UnknownUser

FORWARD ME_4A4099A302A3

: ME_4A4099B701A8
 CONST UID '4A4099B701A8'
 CONST Name 'make'
 CONST Class class_Operation
 : Stereotype st_factory::Operation ;
 %SUMMARY 'фабрика' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_abstract
 : Parent ME_4A4099A302A3 // ChatManager
 ;
 CONST TargetStereotype 'cached'
 CONST "const_type" 'read-write'

ref; // ME_4A4099B701A8 make

: ME_4A4099E902D0
 CONST UID '4A4099E902D0'
 CONST Name 'is_embed_chat_enabled'
 CONST Class class_Operation
 %SUMMARY 'возвращает true, если на сервере обеспечена поддержка чата' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_abstract
 : Parent ME_4A4099A302A3 // ChatManager
 ;
 : Target WL 'ME_3DBFFE100240' '3DBFDB23006E.pas.ms.script' // boolean
 ;

ref; // ME_4A4099E902D0 is_embed_chat_enabled

: ME_4A409AAF0399
 CONST UID '4A409AAF0399'
 CONST Name 'get_contacts_tree'
 CONST Class class_Operation
 %SUMMARY 'получить список пользователей, добавленных в контакты' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_abstract
 : Parent ME_4A4099A302A3 // ChatManager
 ;
 : Target WL 'ME_45EEB95901C5' '457450470167.pas.ms.script' // NodeBase
 ;

ref; // ME_4A409AAF0399 get_contacts_tree

: ME_4A409B63008E
 CONST Name 'uid'
 CONST Class class_Parameter
 : Stereotype st_in ;
 : Target WL 'ME_49DC72D80235' '456EA56002BF.pas.ms.script' // Uid
 ;

ref; // ME_4A409B63008E uid

: ME_4A409B2D01EC
 CONST UID '4A409B2D01EC'
 CONST Name 'get_user_info'
 CONST Class class_Operation
 %SUMMARY 'информация о пользователе с заданным идентификатором' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_abstract
 : Parent ME_4A4099A302A3 // ChatManager
 ;
 : Target ME_4A409BC300FB // UserInfo
 ;
 : CanRaise
   Seq: ( ME_4A409D1F00AA // UnknownUser
 )
 ; // CanRaise
 : Parameters
   Seq: ( ME_4A409B63008E // uid
 )
 ; // Parameters

ref; // ME_4A409B2D01EC get_user_info

: ME_4A409CD103C9
 CONST Name 'uid'
 CONST Class class_Parameter
 : Stereotype st_in ;
 : Target WL 'ME_49DC72D80235' '456EA56002BF.pas.ms.script' // Uid
 ;

ref; // ME_4A409CD103C9 uid

: ME_4A409CB202AF
 CONST UID '4A409CB202AF'
 CONST Name 'add_user'
 CONST Class class_Operation
 : Stereotype st_chg::Operation ;
 %SUMMARY 'добавить пользователя в список контактов' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_abstract
 : Parent ME_4A4099A302A3 // ChatManager
 ;
 : CanRaise
   Seq: ( ME_4A409D1F00AA // UnknownUser
 )
 ; // CanRaise
 : Parameters
   Seq: ( ME_4A409CD103C9 // uid
 )
 ; // Parameters

ref; // ME_4A409CB202AF add_user

: ME_4A409D1700E5
 CONST Name 'uid'
 CONST Class class_Parameter
 : Stereotype st_in ;
 : Target WL 'ME_49DC72D80235' '456EA56002BF.pas.ms.script' // Uid
 ;

ref; // ME_4A409D1700E5 uid

: ME_4A409CFB026A
 CONST UID '4A409CFB026A'
 CONST Name 'delete_user'
 CONST Class class_Operation
 : Stereotype st_chg::Operation ;
 %SUMMARY 'удалить пользователя из списка контактов' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_abstract
 : Parent ME_4A4099A302A3 // ChatManager
 ;
 : CanRaise
   Seq: ( ME_4A409D1F00AA // UnknownUser
 )
 ; // CanRaise
 : Parameters
   Seq: ( ME_4A409D1700E5 // uid
 )
 ; // Parameters

ref; // ME_4A409CFB026A delete_user

: ME_4A43639603D6
 CONST Name 'listener'
 CONST Class class_Parameter
 : Stereotype st_inout ;
 : Target WL 'ME_45EEDE9D01C4' '45EEA85502B4.pas.ms.script' // Listener
 ;

ref; // ME_4A43639603D6 listener

: ME_4A43633E02A4
 CONST UID '4A43633E02A4'
 CONST Name 'register_listener_for_notify'
 CONST Class class_Operation
 : Stereotype st_chg::Operation ;
 %SUMMARY 'зарегестрировать слушателя' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_abstract
 : Parent ME_4A4099A302A3 // ChatManager
 ;
 : Parameters
   Seq: ( ME_4A43639603D6 // listener
 )
 ; // Parameters

ref; // ME_4A43633E02A4 register_listener_for_notify

: ME_4A436A9803D8
 CONST Name 'message'
 CONST Class class_Parameter
 : Stereotype st_in ;

ref; // ME_4A436A9803D8 message

: ME_4A4369DE03C8
 CONST UID '4A4369DE03C8'
 CONST Name 'receive_message'
 CONST Class class_Operation
 : Stereotype st_chg::Operation ;
 %SUMMARY 'получить сообщение с сервера' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_abstract
 : Parent ME_4A4099A302A3 // ChatManager
 ;
 : Parameters
   Seq: ( ME_4A436A9803D8 // message
 )
 ; // Parameters
 CONST "dll export" false

ref; // ME_4A4369DE03C8 receive_message

: ME_4A4B16B400E6
 CONST Name 'uid'
 CONST Class class_Parameter
 : Stereotype st_in ;
 : Target WL 'ME_49DC72D80235' '456EA56002BF.pas.ms.script' // Uid
 ;

ref; // ME_4A4B16B400E6 uid

: ME_4A4B13F40252
 CONST UID '4A4B13F40252'
 CONST Name 'take_unreaded_messages'
 CONST Class class_Operation
 : Stereotype st_chg::Operation ;
 %SUMMARY 'выбрать все непрочитанные сообщения' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_abstract
 : Parent ME_4A4099A302A3 // ChatManager
 ;
 : Parameters
   Seq: ( ME_4A4B16B400E6 // uid
 )
 ; // Parameters
 CONST "dll export" false

ref; // ME_4A4B13F40252 take_unreaded_messages

: ME_4A4C657500D1
 CONST UID '4A4C657500D1'
 CONST Name 'logout'
 CONST Class class_Operation
 : Stereotype st_chg::Operation ;
 %SUMMARY 'вызывается при выходе из системы' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_abstract
 : Parent ME_4A4099A302A3 // ChatManager
 ;
 CONST "dll export" false

ref; // ME_4A4C657500D1 logout

: ME_4A4099A302A3
 CONST UID '4A4099A302A3'
 CONST GUID 'F9DEFC6A-0DF4-4DC4-B863-62E0A7D8E68A'
 CONST Name 'ChatManager'
 CONST Class class_Class
 : Stereotype st_Interface ;
 CONST Kind kind_NormalClass
 %SUMMARY 'управление чатом' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_regular
 : Parent ME_4A40991F003F // ChatInterfaces
 ;
 : Operations
   Seq: ( ME_4A4099B701A8 // make
 ME_4A4099E902D0 // is_embed_chat_enabled
 ME_4A409AAF0399 // get_contacts_tree
 ME_4A409B2D01EC // get_user_info
 ME_4A409CB202AF // add_user
 ME_4A409CFB026A // delete_user
 ME_4A43633E02A4 // register_listener_for_notify
 ME_4A4369DE03C8 // receive_message
 ME_4A4B13F40252 // take_unreaded_messages
 ME_4A4C657500D1 // logout
 )
 ; // Operations
 CONST "single impl" false
 CONST extprop:pas:TypeName 'IChatManager'
 CONST extprop:rc:SelfName 'ChatManager'
 CONST extprop:rc:isAcceptableForScripts true

ref; // ME_4A4099A302A3 ChatManager

FORWARD ME_4A409DE402DE

: ME_4A409E150108
 CONST UID '4A409E150108'
 CONST Name 'text'
 CONST Class class_Attribute
 %SUMMARY 'сообщение (предполагается, что в evd формате)' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_final
 CONST LinkType lt_ref
 : Parent ME_4A409DE402DE // Message
 ;
 : Target WL 'ME_4423FB5903D8' '4423F94903C8.pas.ms.script' // Stream
 ;

ref; // ME_4A409E150108 text

: ME_4A40A01A020D
 CONST UID '4A40A01A020D'
 CONST Name 'time'
 CONST Class class_Attribute
 %SUMMARY 'время создания сообщения' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_final
 CONST LinkType lt_agr
 : Parent ME_4A409DE402DE // Message
 ;
 : Target WL 'ME_456EA7D402DE' '456EA56002BF.pas.ms.script' // DateTime
 ;

ref; // ME_4A40A01A020D time

: ME_4A437417028D
 CONST UID '4A437417028D'
 CONST Name 'my'
 CONST Class class_Attribute
 %SUMMARY 'true, если сообщение послано текущим пользователем, иначе это сообщение для него' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_final
 CONST LinkType lt_agr
 : Parent ME_4A409DE402DE // Message
 ;
 : Target WL 'ME_3DBFFE100240' '3DBFDB23006E.pas.ms.script' // boolean
 ;

ref; // ME_4A437417028D my

: ME_4A409DE402DE
 CONST UID '4A409DE402DE'
 CONST Name 'Message'
 CONST Class class_Class
 : Stereotype st_Struct ;
 CONST Kind kind_NormalClass
 %SUMMARY 'данные сообщения' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_regular
 : Parent ME_4A40991F003F // ChatInterfaces
 ;
 : Attributes
   Seq: ( ME_4A409E150108 // text
 ME_4A40A01A020D // time
 ME_4A437417028D // my
 )
 ; // Attributes
 CONST extprop:pas:TypeName 'TMessage'

ref; // ME_4A409DE402DE Message

FORWARD ME_4A40A5670265

: ME_4A40A5800332
 CONST UID '4A40A5800332'
 CONST Class class_Attribute
 CONST Visibility PublicAccess
 CONST Abstraction at_regular
 CONST LinkType lt_agr
 : Parent ME_4A40A5670265 // Messages
 ;
 : Target ME_4A409DE402DE // Message
 ;

ref; // ME_4A40A5800332 

: ME_4A40A5670265
 CONST UID '4A40A5670265'
 CONST Name 'Messages'
 CONST Class class_Class
 : Stereotype st_Vector ;
 CONST Kind kind_NormalClass
 %SUMMARY 'список сообщений' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_regular
 : Parent ME_4A40991F003F // ChatInterfaces
 ;
 : Attributes
   Seq: ( ME_4A40A5800332 // 
 )
 ; // Attributes
 CONST "array type" 'dynamic'
 CONST extprop:pas:TypeName 'IMessages'

ref; // ME_4A40A5670265 Messages

FORWARD ME_4A409DC300BF

: ME_4A40A59901F4
 CONST UID '4A40A59901F4'
 CONST Name 'make'
 CONST Class class_Operation
 : Stereotype st_factory::Operation ;
 %SUMMARY 'фабрика' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_abstract
 : Parent ME_4A409DC300BF // MessagesManager
 ;
 CONST TargetStereotype 'cached'
 CONST "const_type" 'read-write'

ref; // ME_4A40A59901F4 make

: ME_4A40A5FE0093
 CONST Name 'uid'
 CONST Class class_Parameter
 : Stereotype st_in ;
 : Target WL 'ME_49DC72D80235' '456EA56002BF.pas.ms.script' // Uid
 ;

ref; // ME_4A40A5FE0093 uid

: ME_4A40A5D7025F
 CONST UID '4A40A5D7025F'
 CONST Name 'get_unreaded_messages'
 CONST Class class_Operation
 %SUMMARY 'получить непрочитанные сообщения от пользователя с заданным uid' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_abstract
 : Parent ME_4A409DC300BF // MessagesManager
 ;
 : Target ME_4A40A5670265 // Messages
 ;
 : CanRaise
   Seq: ( ME_4A409D1F00AA // UnknownUser
 )
 ; // CanRaise
 : Parameters
   Seq: ( ME_4A40A5FE0093 // uid
 )
 ; // Parameters

ref; // ME_4A40A5D7025F get_unreaded_messages

: ME_4A44BF2002EA
 CONST Name 'message'
 CONST Class class_Parameter
 : Stereotype st_inout ;
 : Target WL 'ME_4423FB5903D8' '4423F94903C8.pas.ms.script' // Stream
 ;

ref; // ME_4A44BF2002EA message

: ME_4A40A7580149
 CONST Name 'uid'
 CONST Class class_Parameter
 : Stereotype st_in ;
 : Target WL 'ME_49DC72D80235' '456EA56002BF.pas.ms.script' // Uid
 ;

ref; // ME_4A40A7580149 uid

: ME_4A40A73102AC
 CONST UID '4A40A73102AC'
 CONST Name 'send_message'
 CONST Class class_Operation
 %SUMMARY 'послать сообщение заданному пользователю' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_abstract
 : Parent ME_4A409DC300BF // MessagesManager
 ;
 : CanRaise
   Seq: ( ME_4A409D1F00AA // UnknownUser
 )
 ; // CanRaise
 : Parameters
   Seq: ( ME_4A44BF2002EA // message
 ME_4A40A7580149 // uid
 )
 ; // Parameters

ref; // ME_4A40A73102AC send_message

: ME_4A40A912036E
 CONST Name 'count'
 CONST Class class_Parameter
 : Stereotype st_in ;
 : Target WL 'ME_3DBFFDE101CA' '3DBFDB23006E.pas.ms.script' // unsigned long
 ;

ref; // ME_4A40A912036E count

: ME_4A40A91203A2
 CONST Name 'all_new'
 CONST Class class_Parameter
 : Stereotype st_in ;
 : Target WL 'ME_3DBFFE100240' '3DBFDB23006E.pas.ms.script' // boolean
 ;

ref; // ME_4A40A91203A2 all_new

: ME_4A40A913000B
 CONST Name 'uid'
 CONST Class class_Parameter
 : Stereotype st_in ;
 : Target WL 'ME_49DC72D80235' '456EA56002BF.pas.ms.script' // Uid
 ;

ref; // ME_4A40A913000B uid

: ME_4A40A84A02FE
 CONST UID '4A40A84A02FE'
 CONST Name 'get_history_for_user'
 CONST Class class_Operation
 %SUMMARY 'получить count последних сообщений переписки с пользователем uid. Если count = 0, получить полную историю переписки. Если all_new = true, будут получены все непрочитанные сообщения, даже если их количество превышает count.' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_abstract
 : Parent ME_4A409DC300BF // MessagesManager
 ;
 : Target ME_4A40A5670265 // Messages
 ;
 : CanRaise
   Seq: ( ME_4A409D1F00AA // UnknownUser
 )
 ; // CanRaise
 : Parameters
   Seq: ( ME_4A40A912036E // count
 ME_4A40A91203A2 // all_new
 ME_4A40A913000B // uid
 )
 ; // Parameters

ref; // ME_4A40A84A02FE get_history_for_user

: ME_4A40A9450393
 CONST Name 'uid'
 CONST Class class_Parameter
 : Stereotype st_in ;
 : Target WL 'ME_49DC72D80235' '456EA56002BF.pas.ms.script' // Uid
 ;

ref; // ME_4A40A9450393 uid

: ME_4A40A93400D7
 CONST UID '4A40A93400D7'
 CONST Name 'clean_history'
 CONST Class class_Operation
 : Stereotype st_chg::Operation ;
 %SUMMARY 'очистить историю сообщений с заданным пользователем' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_abstract
 : Parent ME_4A409DC300BF // MessagesManager
 ;
 : CanRaise
   Seq: ( ME_4A409D1F00AA // UnknownUser
 )
 ; // CanRaise
 : Parameters
   Seq: ( ME_4A40A9450393 // uid
 )
 ; // Parameters

ref; // ME_4A40A93400D7 clean_history

: ME_4A4B0CCC007A
 CONST UID '4A4B0CCC007A'
 CONST Name 'get_unreaded_messages'
 CONST Class class_Operation
 %SUMMARY 'получить непрочитанные сообщения с сервера' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_abstract
 : Parent ME_4A409DC300BF // MessagesManager
 ;
 CONST "dll export" false

ref; // ME_4A4B0CCC007A get_unreaded_messages

: ME_4A409DC300BF
 CONST UID '4A409DC300BF'
 CONST GUID '7D3435F1-68A4-4CBE-A547-240E45D9FAE4'
 CONST Name 'MessagesManager'
 CONST Class class_Class
 : Stereotype st_Interface ;
 CONST Kind kind_NormalClass
 %SUMMARY 'работа с сообщениями' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_regular
 : Parent ME_4A40991F003F // ChatInterfaces
 ;
 : Operations
   Seq: ( ME_4A40A59901F4 // make
 ME_4A40A5D7025F // get_unreaded_messages
 ME_4A40A73102AC // send_message
 ME_4A40A84A02FE // get_history_for_user
 ME_4A40A93400D7 // clean_history
 ME_4A4B0CCC007A // get_unreaded_messages
 )
 ; // Operations
 CONST "single impl" false
 CONST extprop:pas:TypeName 'IMessagesManager'
 CONST extprop:rc:SelfName 'MessagesManager'
 CONST extprop:rc:isAcceptableForScripts true

ref; // ME_4A409DC300BF MessagesManager

: ME_4A40991F003F
 CONST UID '4A40991F003F'
 CONST Name 'ChatInterfaces'
 CONST Class class_Category
 : Stereotype st_Interfaces ;
 %SUMMARY 'интерфейсы для поддержки чата' ;
 CONST Visibility PublicAccess
 CONST Abstraction at_regular
 : Parent WL 'ME_456EA3D2031C' '456EA3D2031C.pas.ms.script' // GblAdapterLib
 ;
 : Children
   Seq: ( ME_4A409BC300FB // UserInfo
 ME_4A409D1F00AA // UnknownUser
 ME_4A4099A302A3 // ChatManager
 ME_4A409DE402DE // Message
 ME_4A40A5670265 // Messages
 ME_4A409DC300BF // MessagesManager
 )
 ; // Children
 : Depends
   Seq: ( WL 'ME_3DBFDB23006E' '3DBFDB23006E.pas.ms.script' // Primitives
 WL 'ME_4423F94903C8' '4423F94903C8.pas.ms.script' // IO
 WL 'ME_456EA56002BF' '456EA56002BF.pas.ms.script' // BaseTypes
 WL 'ME_457450470167' '457450470167.pas.ms.script' // DynamicTree
 WL 'ME_45EEA85502B4' '45EEA85502B4.pas.ms.script' // Notify
 WL 'ME_45EEAA96039C' '45EEAA96039C.pas.ms.script' // Security
 )
 ; // Depends
 CONST "is namespace" true
 CONST cpp:Path 'garant6x\implementation\Garant\GblAdapterLib\ChatInterfaces\ChatInterfaces.cpp'
 CONST cpp:PathOnly '\garant6x\implementation\Garant\GblAdapterLib\ChatInterfaces'
 CONST h:Path 'garant6x\implementation\Garant\GblAdapterLib\ChatInterfaces\ChatInterfaces.h'
 CONST h:PathOnly '\garant6x\implementation\Garant\GblAdapterLib\ChatInterfaces'
 CONST intf.pas:Path 'garant6x\implementation\Garant\tie\Garant\GblAdapterLib\ChatInterfacesUnit.pas'
 CONST pas:Path 'garant6x\implementation\Garant\GblAdapterLib\ChatInterfacesUnit.pas'
 CONST extprop:pas:UnitName 'ChatInterfacesUnit'

ref; // ME_4A40991F003F ChatInterfaces
