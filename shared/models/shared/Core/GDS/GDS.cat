
(object Petal
    version    	50
    _written   	"Rose 2006.0.0.061205"
    charSet    	204)

(object Class_Category "GDS"
    is_unit    	TRUE
    is_loaded  	TRUE
    attributes 	(list Attribute_Set
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"AbstarctOperation"
	    value      	"regular")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"IsNative"
	    value      	"false")
	(object Attribute
	    tool       	"MDA Generator User Properties"
	    name       	"is namespace"
	    value      	"true")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"NESTED GENERATED FILES (h)"
	    value      	"w:/shared/Core/GDS/MemoryWatcher.h::450E987A0251,w:/shared/Core/GDS/ObjectCounter.h::450E98A5029F,w:/shared/Core/GDS/ObjectWatcher.h::450E98B700AB,w:/shared/Core/GDS/StackTracker.h::450E98E20232,w:/shared/Core/GDS/StopWatch.h::450E992C02FD")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"ApplyedGens"
	    value      	"C++ èíòåðôåéñû è ðåàëèçàöèÿ|Äîêóìåíòàöèÿ")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"NESTED GENERATED WikiPageID (wiki)"
	    value      	(value Text 
|Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Ìîäåëü ïðîåêòà "shared"/Core/GDS/MemoryWatcher|450E987A0251::450E987A0251;Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Ìîäåëü ïðîåêòà "shared"/Core/GDS/ObjectCounter|450E98A5029F::450E98A5029F;Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Ìîäåëü ïðîåêòà "shared"/Core/GDS/ObjectWatcher|450E98B700AB::450E98B700AB;Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Ìîäåëü ïðîåêòà "shared"/Core/GDS/StackTracker|450E98E20232::450E98E20232;Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Ìîäåëü ïðîåêòà "shared"/Core/GDS/StopWatch|450E992C02FD::450E992C02FD;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Ìîäåëü ïðîåêòà "shared"/Core/GDS/MemoryWatcher|450E987A0251::450E987A0251;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Ìîäåëü ïðîåêòà "shared"/Core/GDS/ObjectCounter|450E98A5029F::450E98A5029F;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Ìîäåëü ïðîåêòà "shared"/Core/GDS/ObjectWatcher|450E98B700AB::450E98B700AB;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Ìîäåëü ïðîåêòà "shared"/Core/GDS/StackTracker|450E98E20232::450E98E20232;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Ìîäåëü ïðîåêòà "shared"/Core/GDS/StopWatch|450E992C02FD::450E992C02FD
	    ))
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"WikiPageID (wiki)"
	    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Ìîäåëü ïðîåêòà "shared"/Core/GDS|450E8EA5001F
	    ))
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"SourceType (wiki)"
	    value      	"wiki")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"ElementCreationOrder"
	    value      	"16657410538"))
    quid       	"450E8EA5001F"
    documentation 	"Garant Debug Support - ïàêåò òèïîâ è ìåòîäîâ äëÿ ïîääåðæêè ïðîöåññà îòëàäêè"
    stereotype 	"Unit"
    visible_categories 	(list visibility_relationship_list
	(object Visibility_Relationship
	    quid       	"450E8FFC00BB"
	    supplier   	"Logical View::shared::Core::sys"
	    quidu      	"4500359F003E")
	(object Visibility_Relationship
	    quid       	"450E901B001F"
	    supplier   	"Logical View::shared::Core::fix"
	    quidu      	"45000B1A01F4"))
    exportControl 	"Public"
    global     	TRUE
    logical_models 	(list unit_reference_list
	(object Class "MemoryWatcher"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"final")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*450E987A0251_USER_INCLUDES*"
		    value      	(value Text 
|//#UC START# *450E987A0251_USER_INCLUDES*¤#include "shared/Core/sys/start_stop.h"¤#include "ace/Singleton.h"¤#include "ace/Synch.h"¤¤#if defined (_MSC_VER) && (_MSC_VER >= 1200) && defined (_DEBUG)¤#include <assert.h>¤#include <crtdbg.h>¤#include <malloc.h>¤#include <stdlib.h>¤#include <stdio.h>¤#include <string.h>¤¤#include <map>¤#else¤#include "ace/Basic_Types.h" // GARANT_GCC¤#endif¤//#UC END# *450E987A0251_USER_INCLUDES*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*450E987A0251_USER_DEFINITION*"
		    value      	(value Text 
|//#UC START# *450E987A0251_USER_DEFINITION*¤¤const unsigned long SIZED_ALLOC_COUNT_BORDER = 4098;¤¤#if defined (_MSC_VER) && (_MSC_VER >= 1200) && defined (_DEBUG)¤¤class MemoryWatcher {¤	friend int Core::init ();¤	typedef ACE_Singleton <MemoryWatcher, ACE_SYNCH_RECURSIVE_MUTEX> MemoryWatcherSingleton;¤¤public:¤	typedef unsigned long SizedAllocCountArray [SIZED_ALLOC_COUNT_BORDER + 2];¤¤public:¤	static const unsigned __int64 alloc_call_count () {¤		return MemoryWatcherSingleton::instance ()->m_alloc_call_count;¤	}¤¤	static const unsigned __int64 realloc_call_count () {¤		return MemoryWatcherSingleton::instance ()->m_realloc_call_count;¤	}¤¤	static const unsigned __int64 free_call_count () {¤		return MemoryWatcherSingleton::instance ()->m_free_call_count;¤	}¤¤	static const unsigned __int64 allocated_size () {¤		return MemoryWatcherSingleton::instance ()->m_allocated_size;¤	}¤¤	static const unsigned __int64 allocated_size_peak () {¤		return MemoryWatcherSingleton::instance ()->m_allocated_size_peak;¤	}¤¤	static const unsigned __int64 through_allocated_size () {¤		return MemoryWatcherSingleton::instance ()->m_through_allocated_size;¤	}¤¤	static const SizedAllocCountArray& sized_alloc_count () {¤		return MemoryWatcherSingleton::instance ()->m_sized_alloc_count;¤	}¤¤	static void save_state (unsigned int state_number) {¤		MemoryWatcherSingleton::instance ()->m_memory_states[state_number] = allocated_size ();¤	}¤¤	static void dump_diff_with_state (FILE* to_dump, unsigned int state_number) {¤		assert (MemoryWatcherSingleton::instance ()->m_memory_states.end () != MemoryWatcherSingleton::instance ()->m_memory_states.find (state_number));¤		unsigned __int64 cur = allocated_size ();¤		unsigned __int64 prev = MemoryWatcherSingleton::instance ()->m_memory_states[state_number];¤		if (cur > prev) {¤			assert (0xFFFFFFFF >= (cur-prev));¤			fprintf (to_dump, "Memory diff DEBUG : %d\n", cur-prev);¤		} else {¤			assert (0xFFFFFFFF >= (prev-cur));¤			fprintf (to_dump, "Memory diff DEBUG : -%d\n", prev-cur);¤		}¤	}¤¤private:¤	static int _cdecl crt_alloc_hook (int a_alloc_type, void* a_data, size_t a_size, int a_block_use, long a_request, const unsigned char* a_file_name, int a_line) {¤		try {¤			int l_result = (MemoryWatcherSingleton::instance ()->m_crt_alloc_hook != 0) ? (MemoryWatcherSingleton::instance ()->m_crt_alloc_hook (a_alloc_type, a_data, a_size, a_block_use, a_request, a_file_name, a_line)) : (1);¤			if ((l_result != 0) && (a_block_use != _CRT_BLOCK)) {¤				switch (a_alloc_type) {¤					case _HOOK_ALLOC: {¤						++MemoryWatcherSingleton::instance ()->m_alloc_call_count;¤						MemoryWatcherSingleton::instance ()->increment_allocated_size (a_size);¤					} break;¤					case _HOOK_REALLOC: {¤						++MemoryWatcherSingleton::instance ()->m_realloc_call_count;¤						MemoryWatcherSingleton::instance ()->decrement_allocated_size (_msize (a_data));¤						MemoryWatcherSingleton::instance ()->increment_allocated_size (a_size);¤					} break;¤					case _HOOK_FREE: {¤						++MemoryWatcherSingleton::instance ()->m_free_call_count;¤						MemoryWatcherSingleton::instance ()->decrement_allocated_size (_msize (a_data));¤					} break;¤					default: {¤						assert (false);¤					} break;¤				}¤			}¤			return l_result;¤		} catch (...) {¤			return 0; // disable warning like `not all control paths return a value`; this line never to be executed¤		}¤	}¤public:¤	MemoryWatcher () : ¤	  m_allocated_size (0)¤	  , m_allocated_size_peak (0)¤	  , m_alloc_call_count (0)¤	  , m_realloc_call_count (0)¤	  , m_free_call_count (0)¤	  , m_through_allocated_size (0) {¤		m_crt_alloc_hook = _CrtSetAllocHook (crt_alloc_hook);¤		memset(m_sized_alloc_count, 0, (SIZED_ALLOC_COUNT_BORDER + 2)*sizeof(unsigned long));¤	}¤¤	~MemoryWatcher () {¤		if (m_crt_alloc_hook != 0) {¤			_CrtSetAllocHook (m_crt_alloc_hook);¤		}¤¤		for (unsigned long i = 0; i < SIZED_ALLOC_COUNT_BORDER + 2; i++) {¤			if (m_sized_alloc_count[i]) {¤				unsigned long alloc_size = i;¤				if (i <= SIZED_ALLOC_COUNT_BORDER) {¤					fprintf (stderr, "%u size allocated count:\t%u\n", i, m_sized_alloc_count[i]);¤				} else {¤					fprintf (stderr, ">%u size allocated count:\t%u\n", SIZED_ALLOC_COUNT_BORDER, m_sized_alloc_count[i]);					¤				}¤			}¤		}¤	}¤private:¤	inline void increment_allocated_size (const unsigned __int64 a_size) {¤		m_allocated_size += a_size;¤		m_allocated_size_peak = __max (m_allocated_size_peak, m_allocated_size);¤¤		m_through_allocated_size += a_size;¤		if (a_size <= SIZED_ALLOC_COUNT_BORDER) {¤			m_sized_alloc_count[a_size]++;¤		} else {¤			m_sized_alloc_count[SIZED_ALLOC_COUNT_BORDER + 1]++;¤		}¤	}¤¤	inline void decrement_allocated_size (const unsigned __int64 a_size) {¤		m_allocated_size -= a_size;¤	}¤private:¤	unsigned __int64 m_alloc_call_count;¤	unsigned __int64 m_realloc_call_count;¤	unsigned __int64 m_free_call_count;¤	unsigned __int64 m_allocated_size;¤	unsigned __int64 m_allocated_size_peak;¤	unsigned __int64 m_through_allocated_size;¤	SizedAllocCountArray m_sized_alloc_count;¤¤	typedef std::map<unsigned int, unsigned __int64> MemoryStates;¤	MemoryStates m_memory_states;¤¤	_CRT_ALLOC_HOOK m_crt_alloc_hook;¤}; // class MemoryWatcher¤¤#else // defined (_MSC_VER) && (_MSC_VER >= 1200) && defined (_DEBUG)¤¤class MemoryWatcher {¤public:¤public:¤	static const ACE_UINT64 alloc_call_count () {¤		return 0;¤	}¤¤	static const ACE_UINT64 realloc_call_count () {¤		return 0;¤	}¤¤	static const ACE_UINT64 free_call_count () {¤		return 0;¤	}¤¤	static const ACE_UINT64 allocated_size () {¤		return 0;¤	}¤¤	static const ACE_UINT64 allocated_size_peak () {¤		return 0;¤	}¤¤	static const ACE_UINT64 through_allocated_size () {¤		return 0;¤	}¤};¤¤#endif //_DEBUG¤¤//#UC END# *450E987A0251_USER_DEFINITION*
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"ifdef"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"is namespace"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need impl-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need inline-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (h)"
		    value      	"w:/shared/Core/GDS/MemoryWatcher.h")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Ìîäåëü ïðîåêòà "shared"/Core/GDS/MemoryWatcher|450E987A0251
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (h)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"16657422809"))
	    quid       	"450E987A0251"
	    documentation 	"êëàññ ïðîôàéëèíãà èñïîëüçîâàíèÿ ïàìÿòè"
	    stereotype 	"UtilityPack"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657423162"))
		    quid       	"450EA855037A"
		    supplier   	"Logical View::shared::Core::fix::PragmaWarningDisable"
		    quidu      	"45011FA90157"))
	    language   	"MDA Generator")
	(object Class "ObjectCounter"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"final")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*450E98A5029F_USER_INCLUDES*"
		    value      	(value Text 
|//#UC START# *450E98A5029F_USER_INCLUDES*¤//#define NEED_OBJECT_COUNTER 1¤#if defined(_DEBUG) || defined (NEED_OBJECT_COUNTER)¤	#include <map>¤	#include <typeinfo>¤	#include <string>¤	#include <ostream>¤	#define HAS_OBJECT_COUNTER 1¤#else¤	#define HAS_OBJECT_COUNTER 0¤#endif¤//#UC END# *450E98A5029F_USER_INCLUDES*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*450E98A5029F_USER_DEFINITION*"
		    value      	(value Text 
|//#UC START# *450E98A5029F_USER_DEFINITION*¤#if defined(_DEBUG) || defined (NEED_OBJECT_COUNTER)¤¤struct ObjectCounterStat {¤	std::string object_type;¤	Core::AtomicOp<long> active_count;¤	Core::AtomicOp<long> total_created_count;¤¤	ObjectCounterStat () : active_count (0), total_created_count (0) {¤	}¤};¤¤typedef std::vector<ObjectCounterStat> ObjectCounterStatList;¤¤typedef Core::Box<ObjectCounterStatList> ObjectCounterStatList_box;¤¤typedef std::map<unsigned int, ObjectCounterStatList_box> ObjectStates;¤¤class CountHolderBase : virtual public Core::RefCountObjectBase {¤public: ¤	virtual const ObjectCounterStat& get_stat() const = 0;¤};¤¤typedef Core::Var<CountHolderBase> CountHolder_var;¤¤class CountHolderManager {¤	friend class CountHolder;¤	typedef std::vector<CountHolder_var> CountHolders;¤¤public:¤	typedef ACE_Singleton <CountHolderManager, ACE_SYNCH_RECURSIVE_MUTEX> CountHolderManagerSingleton;¤¤public:¤	static ObjectCounterStatList* get_current_statistic () {¤		ObjectCounterStatList_box ret = new ObjectCounterStatList (CountHolderManagerSingleton::instance ()->m_holders.size());¤		ObjectCounterStatList::iterator target_it = ret->begin();¤		for (CountHolders::const_iterator it = CountHolderManagerSingleton::instance ()->m_holders.begin(); it != CountHolderManagerSingleton::instance ()->m_holders.end(); it++, target_it++) {¤			(*target_it) = (*it)->get_stat();¤		}¤		return ret.forget ();¤	}¤¤	static void dump_csv_statistic (std::ostream& output, const std::string date) {¤		CountHolders for_csv (CountHolderManagerSingleton::instance ()->m_holders);¤¤		for (CountHolders::iterator it = for_csv.begin (); it != for_csv.end (); ++it) {¤			const ObjectCounterStat& stat = (*it)->get_stat ();¤			output << date << ";" ¤				<< stat.object_type.data () << ";" << stat.total_created_count.value () << ";" << stat.active_count.value () << "\n";¤		}¤¤		output << std::flush;¤	}¤¤	static void dump_current_statistic (FILE* to_dump, bool only_leaks = false) { // GARANT_ISOCPP¤		ObjectCounterStatList_box stats = get_current_statistic ();¤¤		bool has_leaks = false;¤¤		fprintf (to_dump, "ObjectCounter DEBUG  : dump current statistics\n");¤		fprintf (to_dump, "ObjectCounter DEBUG  : object types registred = %d\n", stats->size());¤		for (ObjectCounterStatList::iterator it = stats->begin(); it != stats->end(); it++) {¤			if (!only_leaks || it->active_count.value ()) {¤				¤				has_leaks |= (it->active_count.value () > 0);¤				fprintf (¤					to_dump¤					, "ObjectCounter DEBUG  : Typename = %s; total created = %ld; active = %ld\n"¤					, it->object_type.data()¤					, it->total_created_count.value ()¤					, it->active_count.value ()¤				);				¤			}¤		}¤¤		GDS_ASSERT_MSG (has_leaks == 0, ("ObjectCounter detects LEAKS!"));¤	}¤¤	static void dump (bool only_leaks = false) {¤		dump_current_statistic (stderr, only_leaks);¤	}¤¤	static void save_state (unsigned int state_number) {¤		CountHolderManagerSingleton::instance ()->m_object_states[state_number] = get_current_statistic ();¤	}¤¤	static void dump_diff_with_state (FILE* to_dump, unsigned int state_number) {¤		assert (CountHolderManagerSingleton::instance ()->m_object_states.end () != CountHolderManagerSingleton::instance ()->m_object_states.find (state_number));¤		ObjectCounterStatList_box saved_state = CountHolderManagerSingleton::instance ()->m_object_states[state_number];¤		ObjectCounterStatList_box cur_state = get_current_statistic ();¤¤		fprintf (to_dump, "ObjectCounter DEBUG  : dump current statistics\n");¤		//¤		ObjectCounterStatList::iterator cur_state_it;¤		unsigned int active_objects_count = 0;¤		for (cur_state_it = cur_state->begin(); cur_state_it != cur_state->end(); cur_state_it++) {¤			active_objects_count += cur_state_it->active_count.value ();¤		}¤		fprintf (to_dump, "ObjectCounter DEBUG  : active objects count = %d\n", active_objects_count);¤		//¤		ObjectCounterStatList::iterator saved_state_it;¤		for (cur_state_it = cur_state->begin(); cur_state_it != cur_state->end(); cur_state_it++) {¤			int total_created_count = 0;¤			int active_count = 0;¤			std::string type;¤			for (saved_state_it = saved_state->begin(); saved_state_it != saved_state->end(); saved_state_it++) {¤				if (cur_state_it->object_type == saved_state_it->object_type) {¤					break;¤				}¤			}¤			type = cur_state_it->object_type;¤			if (saved_state_it == saved_state->end ()) {¤				// new object of that type was created¤				total_created_count = cur_state_it->total_created_count.value ();¤				active_count = cur_state_it->active_count.value ();¤			} else {¤				total_created_count = static_cast<int>(cur_state_it->total_created_count.value ()) - static_cast<int>(saved_state_it->total_created_count.value ());¤				active_count = static_cast<int>(cur_state_it->active_count.value ()) - static_cast<int>(saved_state_it->active_count.value ());¤			}¤¤			if (0 != total_created_count || 0 != active_count) {¤				fprintf (¤					to_dump¤					, "Object diff DEBUG  : Typename = %s; total created = %ld (%ld in prev state); active = %ld (%ld)\n"¤					, type.c_str ()¤					, cur_state_it->total_created_count.value (), (saved_state_it != saved_state->end ()) ? saved_state_it->total_created_count.value (): 0¤					, cur_state_it->active_count.value (), (saved_state_it != saved_state->end ()) ? saved_state_it->active_count.value (): 0¤				);¤			}¤		}¤	}¤¤	~CountHolderManager () {¤		CountHolderManager::dump (true);¤	}	¤¤public:¤	CountHolders m_holders;¤	ObjectStates m_object_states;¤};¤¤template <class _OwnerType> ¤class ObjectCounter {¤public:¤	ObjectCounter () {		¤		instance()->inc_obj ();¤	}¤¤	ObjectCounter (const ObjectCounter&) {		¤		instance()->inc_obj ();¤	}¤¤	~ObjectCounter () {¤		instance()->dec_obj ();¤	}¤¤public:¤	class CountHolder : virtual public CountHolderBase  {¤	public:¤		CountHolder () {¤			_OwnerType* p = 0;¤			m_stat.object_type = typeid(p).name();¤			//fprintf (stderr, "ObjectCounter DEBUG  : \"%s\" - set up counter\n", m_stat.object_type.data());¤			//fflush (stderr);			¤		}¤¤		~CountHolder () {¤			if (m_stat.active_count.value ()) {¤				fprintf (stderr, "ObjectCounter WARNING: \"%s\" - leaks detected!!!\n", m_stat.object_type.data());¤			}¤			//fprintf (stderr, "ObjectCounter DEBUG  : \"%s\" - total created: %d; lost: %d\n", m_stat.object_type.data(), m_stat.total_created_count.value (), m_stat.active_count.value ());¤			fflush (stderr);¤		}¤	¤		void inc_obj () {¤			++m_stat.active_count;¤			++m_stat.total_created_count;¤		}¤¤		void dec_obj () {¤			if (!m_stat.active_count.value ()) {¤				fprintf (stderr, "ObjectCounter ERROR  : \"%s\" - memory damaged!!! (attempt to delete not created object)\n", m_stat.object_type.data());¤				assert (0);¤			}¤			--m_stat.active_count;¤¤			if (!m_stat.active_count.value ()) {¤				//fprintf (stderr, "ObjectCounter DEBUG  : \"%s\" - last object released\n", m_stat.object_type.data());¤			}¤			fflush (stderr);¤		}¤¤		const ObjectCounterStat& get_stat() const {¤			return m_stat;¤		}¤¤	private:¤		ObjectCounterStat m_stat;		¤	};¤¤	static CountHolder* s_holder;¤	typedef ACE_Recursive_Thread_Mutex Mutex;¤	typedef ACE_Guard<Mutex> Guard;¤	static Mutex s_holder_mutex;¤¤	static inline CountHolder* const instance () {¤		if (s_holder == 0) {¤			Guard guard (s_holder_mutex);¤			if (s_holder == 0) {¤				s_holder = new CountHolder ();¤				CountHolderManager::CountHolderManagerSingleton::instance ()->m_holders.push_back(s_holder);¤			}¤		}¤		return s_holder;¤	}¤¤	// [dolgop] îïåðàòîð ïðèñâàèâàíèÿ íóæåí èç-çà ñóïåðñêîé îïòèìèçàöèè â ¤	// stlport 5, êîòîðàÿ â çàâèñèìîñòè îò ïðèñóòñòâèÿ â êëàññå îïåðàòîðà =¤	// ïðîâîäèò îïòèìèçàöèþ ïðè ðàáîòå ñ êîíòåéíåðàìè, ÷òî¤	// ïðèâîäèò ê âûçîâó 1 êîíñòðóêòîðà è 2 äåñòðóêòîðîâ, îò÷åãî êàóíòåðó ñàìî-ñîáîé ¤	// áàøíþ ñíîñèò...¤	ObjectCounter& operator= (const ObjectCounter& from) {¤		return *this;¤	}¤¤};¤¤template <class _OwnerType> ¤typename ObjectCounter<_OwnerType>::CountHolder* ObjectCounter<_OwnerType>::s_holder = 0;¤¤template <class _OwnerType> ¤typename ObjectCounter<_OwnerType>::Mutex ObjectCounter<_OwnerType>::s_holder_mutex;¤¤#define SET_OBJECT_COUNTER(TYPE) Core::GDS::ObjectCounter<TYPE> __TYPE##_counter;¤¤#else // ! (defined(_DEBUG) || defined (NEED_OBJECT_COUNTER))¤¤#define SET_OBJECT_COUNTER(TYPE) ¤¤#endif¤//#UC END# *450E98A5029F_USER_DEFINITION*
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"ifdef"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"is namespace"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need impl-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need inline-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (h)"
		    value      	"w:/shared/Core/GDS/ObjectCounter.h")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Ìîäåëü ïðîåêòà "shared"/Core/GDS/ObjectCounter|450E98A5029F
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (h)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"16662011482"))
	    quid       	"450E98A5029F"
	    documentation 	"êëàññ äëÿ ïðîôàéëèíãà íå óäàëåííûõ îáúåêòîâ è ïîäñ÷åòà èõ êîë-âà (ñîçäàíî, îñâîáîæäåíî, ïðîâèñëî)"
	    stereotype 	"UtilityPack"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657424138"))
		    quid       	"450EA4AD02BF"
		    supplier   	"Logical View::shared::Core::fix::PragmaWarningDisable"
		    quidu      	"45011FA90157")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657424514"))
		    quid       	"450EA4EF0203"
		    supplier   	"Logical View::shared::Core::mng::Var"
		    quidu      	"4500152300FA")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657424897"))
		    quid       	"450EA4F20222"
		    supplier   	"Logical View::shared::Core::mng::Box"
		    quidu      	"45001507004E")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657425276"))
		    quid       	"450EA4FB03C8"
		    supplier   	"Logical View::shared::Core::sys::assert"
		    quidu      	"450E981C03D8")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657425655"))
		    quid       	"459CF8B702B4"
		    supplier   	"Logical View::shared::Core::sys::RefCountObjectBase"
		    quidu      	"45003674031C"))
	    language   	"MDA Generator")
	(object Class "ObjectWatcher"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"final")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*450E98B700AB_USER_INCLUDES*"
		    value      	(value Text 
|//#UC START# *450E98B700AB_USER_INCLUDES*¤#include <set>¤#include <string>¤¤/*¤Êëàññ ÿâëÿåòñÿ äîïîëíèòåëüíûì èíñòðóìåíòîì äëÿ àíàëèçà óòå÷êè îáúåêòîâ.¤¤Èñïîëüçîâàíèå:¤¤Ïðåäïîëîæåì ObjectCounter ïîêàçàë Âàì ÷òî èìåþòñÿ óòå÷êè îáúåêòîâ îïðåäåëåííîãî òèïà. Åñëè ýòîé èíôîðìàöèè íå äîñòàòî÷íî, è íóæíî ïîíÿòü êàêèå èìåííî îáúåêòû ïðîâèñëè - íóæíî âîñïîëüçîâàòüñÿ ObjectWatcher'îì. Äëÿ ýòîãî:¤¤1) ðåàëèçóåì íà èíòåðåñóþùåì íàñ êëàññå (êëàññàõ) ìåòîä void _dump (FILE* to_dump) const¤¤    Íàïðèìåð:¤¤  #ifdef _DEBUG¤¤  void NodeBase_i::_dump (FILE* to_dump) const {¤       NodeBase_i* const_this = const_cast<NodeBase_i*> (this);¤       const char* n = const_this->m_name ? const_this->m_name->get_buffer() : "NULL";¤       GTree::NodePointer p = const_this->get_server_pointer();¤       fprintf (to_dump, "NodeBase_i, caption = %s, pointer = %d", n, p);¤  }¤¤  #endif¤¤ 2) âñòàâëÿåì âî âñå êîíñòðóêòîðû äàííîãî êëàññà (êëàññîâ) ìàêðîñ ADD_OBJECT_WATCHER¤¤ 3) âñòàâëÿåì â äåñòðóêòîð äàííîãî êëàññà (êëàññîâ) ñëåäóþùèé ìàêðîñ REMOVE_OBJECT_WATCHER (åñëè äëÿ äàííîãî êëàññà íå îáúÿâëåí äåñòðóêòîð - åãî íåîáõîäèìî îáúÿâèòü). Äåñòðóêòîðû äîëæíû áûòü âèðòóàëüíûìè.¤¤    Íàïðèìåð:¤¤#include "shared/Core/GDS/ObjectWatcher.h"¤¤NodeBase_i::NodeBase_i (TreeBase* const owner_tree, const GTree::Node& snode) ¤     : RealNodeBase (owner_tree, snode)¤     , NodeBase (owner_tree)¤     , m_has_break ((snode.flags & GTree::VNF_NODE_GAP) == GTree::VNF_NODE_GAP)¤{¤     ADD_OBJECT_WATCHER¤}¤¤¤NodeBase_i::~NodeBase_i () {¤     REMOVE_OBJECT_WATCHER¤}¤¤¤¤Ïåðåä ñàìûì çàâåðøåíèåì ïðîãðàììû ObjectWatcher, âûâåäåò âñå íåîñâîáîæäåííûå îáúåêòû íà ïîòîê stderr (êîíñîëü îáîëî÷êè), ò.å. òóäà æå êóäà âûâîäèòñÿ ñòàòèñòèêà ObjectCountera.¤¤ObjectWatcher íóæíî èíèöèàëèçèðîâàòü â ïðèëîæåíèè, àíàëîãè÷íî ObjectCounteró, íî ñòðîãî ïîñëå PoolMemoryManager, ò.ê. ïàìÿòü îáúåêòîâ ìîæåò áûòü ðàñïðåäåëåííà èìåííî ÷åðåç Ïóë, è, åñîëè Ïóë óäàëèòñÿ ðàíüøå, òî äîñòóï ê äàííûì ïðïîâèñøåãî îáúåêòà áóäåò íå âîçìîæååí:¤¤#include "shared/Core/GDS/MemoryWatcher.h"¤#include "shared/Core/GDS/ObjectCounter.h"¤#include "shared/Core/mng/PoolMemoryManager.h"¤#include "shared/Core/GDS/ObjectWatcher.h"¤¤*/¤//#UC END# *450E98B700AB_USER_INCLUDES*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*450E98B700AB_USER_DEFINITION*"
		    value      	(value Text 
|//#UC START# *450E98B700AB_USER_DEFINITION*¤#ifdef _DEBUG¤¤class ObjectHolderBase {¤public:¤	bool operator < (const ObjectHolderBase& cp) const {¤		return this->get_data_ptr () < cp.get_data_ptr ();¤	}¤¤	virtual void dump_object (FILE* to_dump) const = 0;¤¤protected:¤	virtual const void* get_data_ptr () const = 0;¤};¤¤template <class _ObjType>¤class ObjectHolder : public ObjectHolderBase {¤public:¤	ObjectHolder (const _ObjType* object) : m_object (object) {¤	}¤¤	void dump_object (FILE* to_dump) const {¤		m_object->_dump (to_dump);¤	}¤¤	virtual const void* get_data_ptr () const {¤		return m_object;¤	}¤¤private:¤	const _ObjType* m_object;¤};¤¤struct SetItem {¤	ObjectHolderBase* oh_item;¤	¤	SetItem (ObjectHolderBase* item) : oh_item (item) {¤	}¤	¤	SetItem (const SetItem& cp) : oh_item (cp.oh_item) {¤		const_cast<SetItem*>(&cp)->oh_item = 0;¤	}¤	¤	bool operator < (const SetItem& cp) const {¤		return *oh_item < *cp.oh_item;¤	}¤	¤	~SetItem () {¤		if (oh_item) {¤			delete oh_item;¤		}¤	}¤¤	void dump_object (FILE* to_dump) const {¤		oh_item->dump_object (to_dump);¤	}¤};¤	¤¤class ObjectWatcher {¤	typedef std::set<SetItem> ObjHolders;¤¤public:¤	void dump (FILE* to_dump) {¤		Guard g (m_access_mutex);¤		¤		fprintf (to_dump, "ObjectWatcher DEBUG  : dump exist objects (count = %d)\n", m_holders.size());¤		unsigned i = 0;¤		for (ObjHolders::iterator it = m_holders.begin(); it != m_holders.end(); it++, i++) {¤			fprintf (to_dump, "ObjectWatcher DEBUG: object [%d] dump:", i);¤			it->dump_object (to_dump);¤			fprintf (to_dump, "\n");¤		}¤¤		assert (m_holders.size() == 0);¤	}¤¤	template <class _ObjType>¤	void add_object (const _ObjType* obj) {¤		Guard g (m_access_mutex);¤		SetItem si (new ObjectHolder <_ObjType> (obj));¤		m_holders.insert (si);¤	}¤	¤	template <class _ObjType>¤	void remove_object (const _ObjType* obj) {¤		Guard g (m_access_mutex);¤		SetItem si (new ObjectHolder <_ObjType> (obj));¤		m_holders.erase (si);¤	}¤¤	~ObjectWatcher () {¤		this->dump (stderr);¤	}	¤¤public:¤	typedef ACE_Recursive_Thread_Mutex Mutex;¤	typedef ACE_Guard<Mutex> Guard;¤	¤	Mutex m_access_mutex;¤	¤	ObjHolders m_holders;¤};¤¤typedef ACE_Singleton <ObjectWatcher, ACE_SYNCH_RECURSIVE_MUTEX> ObjectWatcherSingleton;¤¤#else // ! define _DEBUG¤#endif¤//#UC END# *450E98B700AB_USER_DEFINITION*
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"ifdef"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"is namespace"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need impl-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need inline-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (h)"
		    value      	"w:/shared/Core/GDS/ObjectWatcher.h")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Ìîäåëü ïðîåêòà "shared"/Core/GDS/ObjectWatcher|450E98B700AB
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (h)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"16657426200"))
	    quid       	"450E98B700AB"
	    documentation 	"êëàññ äëÿ ðàñïå÷àòêè íå óäàëåííûõ îáúåêòîâ"
	    stereotype 	"UtilityPack"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657426499"))
		    quid       	"450EA89603D8"
		    supplier   	"Logical View::shared::Core::fix::PragmaWarningDisable"
		    quidu      	"45011FA90157")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657426898"))
		    quid       	"450EA8EC009C"
		    supplier   	"Logical View::shared::Core::mng::Var"
		    quidu      	"4500152300FA"))
	    language   	"MDA Generator")
	(object Class "StackTracker"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"final")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*450E98E20232_USER_INCLUDES*"
		    value      	"//#UC START# *450E98E20232_USER_INCLUDES*¤#include <map>¤//#UC END# *450E98E20232_USER_INCLUDES*")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*450E98E20232_USER_DEFINITION*"
		    value      	(value Text 
|//#UC START# *450E98E20232_USER_DEFINITION*¤class StackTraker {¤public:¤	typedef unsigned PointID;¤	typedef std::map<PointID, unsigned> PiontMap;¤¤	StackTraker ( PointID id ) : m_id(id) {¤		(*PiontMapSingl::instance())[m_id]++;¤	};¤¤	~StackTraker () {¤		(*PiontMapSingl::instance())[m_id]--;¤	};¤¤	unsigned deep () {¤		return (*PiontMapSingl::instance())[m_id];¤	};¤private:¤	typedef Core::TypeSingleton<PiontMap> PiontMapSingl;¤	PointID m_id;¤};¤¤#ifdef _MSC_VER¤class StackMfcTrace : public StackTraker {¤public:¤	StackMfcTrace  ( PointID id ) : StackTraker(id) {¤		trace_buffer = 0;¤	};¤¤	char* trace () {¤		if (trace_buffer) delete trace_buffer;¤¤		unsigned d = deep();¤		trace_buffer = new char [d+1];¤		memset (trace_buffer, '\t', d);¤		trace_buffer[d] = 0;¤¤		return trace_buffer;¤	};¤¤protected:¤	char* trace_buffer;¤};¤#endif¤//#UC END# *450E98E20232_USER_DEFINITION*
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"ifdef"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"is namespace"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need impl-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need inline-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (h)"
		    value      	"w:/shared/Core/GDS/StackTracker.h")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Ìîäåëü ïðîåêòà "shared"/Core/GDS/StackTracker|450E98E20232
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (h)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"16657427437"))
	    quid       	"450E98E20232"
	    documentation 	"êëàññ ïîìîãàþùèé îïðåäåëÿòü ãëóáèíó âõîæäåíèÿ â ñòåê"
	    stereotype 	"UtilityPack"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657427750"))
		    quid       	"450EA9090138"
		    supplier   	"Logical View::shared::Core::mng::TypeSingleton"
		    quidu      	"4500152B01E4"))
	    language   	"MDA Generator")
	(object Class "StopWatch"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"final")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*450E992C02FD_USER_INCLUDES*"
		    value      	(value Text 
|//#UC START# *450E992C02FD_USER_INCLUDES*¤#include <limits>¤#include <map>¤#include <string>¤#include <vector>¤#include <algorithm>¤#include "ace/Singleton.h"¤#include "ace/High_Res_Timer.h"¤//#UC END# *450E992C02FD_USER_INCLUDES*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*450E992C02FD_USER_DEFINITION*"
		    value      	(value Text 
|//#UC START# *450E992C02FD_USER_DEFINITION*¤class HiResCounter {¤private:¤	ACE_High_Res_Timer t; // ctor will calibrate timer automatically¤	const ACE_hrtime_t t_per_1sec; // 1 second¤	const ACE_hrtime_t t_per_msec; // millisecond¤	const ACE_hrtime_t t_per_usec; // microsecond¤public:¤	inline ACE_hrtime_t get_count() {¤		ACE_hrtime_t ret;¤		this->t.stop_incr();¤		this->t.elapsed_time_incr(ret); // ret gets value in nanoseconds¤		this->t.start_incr();¤		return ret;¤	}¤	inline double get_seconds () {¤		ACE_hrtime_t ret = this->get_count ();¤		return double (ret) / 1000000000.0;¤	}¤	inline void tiks_to_time (ACE_hrtime_t tiks, unsigned int& s, unsigned int& ms, unsigned int& us) {¤		s = static_cast <unsigned int> (tiks/t_per_1sec);¤		unsigned dsec = static_cast <unsigned int>(tiks - (s * t_per_1sec));¤		ms = static_cast <unsigned int> (dsec/t_per_msec);¤		unsigned dmsec =  static_cast <unsigned int> (dsec - (ms * t_per_msec));¤		us = static_cast <unsigned int> (dmsec/t_per_usec);¤	}¤	HiResCounter (): t(), t_per_usec(1000UL), t_per_msec(1000000UL), t_per_1sec(1000000000UL) { // to emphasize default parameters for t ctor¤		this->t.start_incr();¤	}¤	~HiResCounter () { ¤		this->t.stop_incr();¤	}¤};¤¤typedef Core::TypeSingleton <HiResCounter> HiResCounterSingl;¤¤¤class StopWatchBase {¤protected:¤	HiResCounter hi_res_counter;¤public :	¤	virtual ~StopWatchBase () {¤	}¤¤	void flush (const char* mess) {¤		this->print_time (this->hi_res_counter.get_count() - m_start_count, mess);¤	}¤¤protected:¤	StopWatchBase (): hi_res_counter() {	¤		m_format_buf[0] = 0;¤	}¤¤	void finish (ACE_hrtime_t count) {¤		if (m_format_buf[0]) {¤			this->print_time (count, m_format_buf);¤		}¤	}¤¤	void print_time (ACE_hrtime_t count, const char* mess) {¤		unsigned sec;¤		unsigned msec;¤		unsigned usec;¤		HiResCounterSingl::instance()->tiks_to_time(count, sec, msec, usec);¤¤		LOG_D (("RT of \"%s\":\t%us, %ums, %uus"¤			, mess¤			, sec¤			, msec¤			, usec¤		));¤	}¤¤	void inline init_counter () {		¤		m_start_count = this->hi_res_counter.get_count();¤	}¤¤protected :¤	ACE_hrtime_t m_start_count;¤	char m_format_buf [4096];¤};¤¤class StopWatch : public StopWatchBase {¤public :¤	StopWatch (const char *format_str, ... ) {	¤		if (format_str) {¤			va_list argp;¤			va_start (argp, format_str);¤			vsprintf(m_format_buf, format_str, argp);¤			va_end (argp);¤		} ¤		this->init_counter();¤	}¤¤	virtual ~StopWatch () {¤		this->finish (this->hi_res_counter.get_count() - m_start_count);¤	}¤};¤¤class StopWatchEx : public StopWatchBase {¤public:¤	typedef std::string GroupId;¤¤public:	¤	StopWatchEx (const char* id) { // blind¤		m_group_id = id;¤		this->init_counter ();¤	}¤¤	StopWatchEx (const char* id, const char *format_str, ... ) {¤		if (format_str) {¤			va_list argp;¤			va_start (argp, format_str);¤			vsprintf(m_format_buf, format_str, argp);¤			va_end (argp);¤		} ¤		m_group_id = id;		¤		this->init_counter ();¤	}¤	~StopWatchEx () {		¤		ACE_hrtime_t count = this->hi_res_counter.get_count() - m_start_count;¤		StatMngSingl::instance()->more_call (m_group_id, count);¤		this->finish (count);¤	}¤¤protected:¤	struct StatData {¤		unsigned long call_count;¤		ACE_hrtime_t total_value;¤		ACE_hrtime_t max_value;¤		ACE_hrtime_t min_value;¤		¤		StatData () {¤			call_count = 0;¤			total_value = 0;¤			max_value = 0;¤			min_value = std::numeric_limits<ACE_hrtime_t>::max();¤		}¤		¤		inline void more_call (ACE_hrtime_t count) {¤			call_count++;¤			total_value += count;¤			if (count < min_value) {¤				min_value = count;¤			}¤			if (count > max_value) {¤				max_value = count;¤			}¤		}¤	};¤¤	struct StatDataTotalGreater¤		: std::binary_function<std::pair<GroupId, StatData>, std::pair<GroupId, StatData>, bool>¤	{¤		bool operator () (const std::pair<GroupId, StatData>& x, const std::pair<GroupId, StatData>& y) {¤			return x.second.total_value > y.second.total_value;¤		}¤	};¤¤	typedef std::map<GroupId, StatData> StatMap;¤¤	class StatMng {¤		StatMap m_map;¤	public:¤		inline void more_call (const GroupId& id, ACE_hrtime_t count) {¤			m_map[id].more_call(count);¤		}¤¤		~StatMng () {¤		#ifndef GDS_NLOG_DEBUG¤¤			unsigned sec;¤			unsigned msec;¤			unsigned usec;¤¤			LOG_D (("StopWatch Debug: TOTAL STATISTIC"));¤			LOG_D (("StopWatch Debug: TRT - total run time"));¤			LOG_D (("StopWatch Debug: ART - avarage run time"));¤¤			typedef std::vector<std::pair<GroupId, StatData> > StatDataVec;¤			StatDataVec sorted_stat (m_map.begin (), m_map.end ());¤			¤			std::sort (sorted_stat.begin (), sorted_stat.end (), StatDataTotalGreater ());¤			for (StatDataVec::iterator it = sorted_stat.begin (); it != sorted_stat.end (); ++it) {¤				HiResCounterSingl::instance()->tiks_to_time(it->second.total_value, sec, msec, usec);¤				¤				LOG_D (("StopWatch Debug: group \"%s\": calls = %d", it->first.data(), it->second.call_count));¤				LOG_D (("\tTRT:\t%us, %ums, %uus (tiks: %Q)", sec, msec, usec, it->second.total_value));¤		¤				HiResCounterSingl::instance()->tiks_to_time(it->second.total_value/it->second.call_count, sec, msec, usec);¤¤				LOG_D (("\tART:\t%us, %ums, %uus"¤					, sec¤					, msec¤					, usec¤				));¤¤				HiResCounterSingl::instance()->tiks_to_time(it->second.max_value, sec, msec, usec);¤¤				LOG_D (("\tMAX:\t%us, %ums, %uus"¤					, sec¤					, msec¤					, usec¤				));¤¤				HiResCounterSingl::instance()->tiks_to_time(it->second.min_value, sec, msec, usec);¤¤				LOG_D (("\tMIN:\t%us, %ums, %uus"¤					, sec¤					, msec¤					, usec¤				));¤			}¤			LOG_D (("*************** END ***************"));¤			LOG_D (("")); // push output¤¤		#endif // GDS_NLOG_DEBUG¤		}	¤¤	};¤	typedef ACE_Singleton <StatMng, ACE_Recursive_Thread_Mutex> StatMngSingl;¤¤protected:¤	GroupId m_group_id;¤};¤//#UC END# *450E992C02FD_USER_DEFINITION*
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"ifdef"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"is namespace"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need impl-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need inline-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (h)"
		    value      	"w:/shared/Core/GDS/StopWatch.h")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Ìîäåëü ïðîåêòà "shared"/Core/GDS/StopWatch|450E992C02FD
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (h)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"16657428291"))
	    quid       	"450E992C02FD"
	    documentation 	"êëàññ ñåêóíäîìåðà (ñ òî÷íîñòüþ äî ìèêðî ñåê), äëÿ ïðîôàéëèíãà âðåìåíè âûïîëíåíèÿ ó÷àñòêîâ êîäà"
	    stereotype 	"UtilityPack"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657428604"))
		    quid       	"450EA9170177"
		    supplier   	"Logical View::shared::Core::fix::PragmaWarningDisable"
		    quidu      	"45011FA90157")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657428984"))
		    quid       	"450EA94F037A"
		    supplier   	"Logical View::shared::Core::sys::Logs"
		    quidu      	"450E97E40167")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657429349"))
		    quid       	"450EB0CD001F"
		    supplier   	"Logical View::shared::Core::mng::TypeSingleton"
		    quidu      	"4500152B01E4"))
	    language   	"MDA Generator"))
    logical_presentations 	(list unit_reference_list
	(object ClassDiagram "Main"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ColorizeFor"
		    value      	"44FEAD4A0272")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsChanged"
		    value      	""))
	    quid       	"450E984E03C8"
	    title      	"Main"
	    documentation 	"êàòàëîã äëÿ êëàññîâ è ôóíêöèé ïîääåðæêè ïðîöåññà îòëàäêè"
	    zoom       	100
	    max_height 	28350
	    max_width  	21600
	    origin_x   	0
	    origin_y   	0
	    items      	(list diagram_item_list
		(object ClassView "Class" "Logical View::shared::Core::GDS::MemoryWatcher" @1
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"1521")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"1338")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"348")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(1494, 897)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@1
			location   	(1329, 869)
			fill_color 	13434879
			nlines     	1
			max_width  	330
			justify    	0
			label      	" MemoryWatcher")
		    stereotype 	(object ItemLabel
			Parent_View 	@1
			location   	(1329, 819)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	330
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    fill_color 	14145535
		    quidu      	"450E987A0251"
		    width      	348
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::GDS::ObjectCounter" @2
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"2076")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"882")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"346")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(2076, 882)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@2
			location   	(1912, 854)
			fill_color 	13434879
			nlines     	1
			max_width  	328
			justify    	0
			label      	" ObjectCounter")
		    stereotype 	(object ItemLabel
			Parent_View 	@2
			location   	(1912, 804)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	325
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    fill_color 	14145535
		    quidu      	"450E98A5029F"
		    width      	346
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::GDS::ObjectWatcher" @3
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"1548")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"1656")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"346")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(1506, 1158)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@3
			location   	(1342, 1130)
			fill_color 	13434879
			nlines     	1
			max_width  	328
			justify    	0
			label      	" ObjectWatcher")
		    stereotype 	(object ItemLabel
			Parent_View 	@3
			location   	(1342, 1080)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	325
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    fill_color 	14145535
		    quidu      	"450E98B700AB"
		    width      	346
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::GDS::StackTracker" @4
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"417")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"609")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"346")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(417, 609)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@4
			location   	(253, 581)
			fill_color 	13434879
			nlines     	1
			max_width  	328
			justify    	0
			label      	" StackTracker")
		    stereotype 	(object ItemLabel
			Parent_View 	@4
			location   	(253, 531)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	325
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    fill_color 	14145535
		    quidu      	"450E98E20232"
		    width      	346
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::GDS::StopWatch" @5
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"780")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"606")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"346")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(780, 606)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@5
			location   	(616, 578)
			fill_color 	13434879
			nlines     	1
			max_width  	328
			justify    	0
			label      	" StopWatch")
		    stereotype 	(object ItemLabel
			Parent_View 	@5
			location   	(616, 528)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	325
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    fill_color 	14145535
		    quidu      	"450E992C02FD"
		    width      	346
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::fix::PragmaWarningDisable" @6
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"1533")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"615")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"476")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"188"))
		    location   	(1533, 615)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	658175
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@6
			location   	(1284, 587)
			nlines     	1
			max_width  	498
			justify    	0
			label      	" PragmaWarningDisable")
		    stereotype 	(object ItemLabel
			Parent_View 	@6
			location   	(1284, 537)
			anchor     	10
			nlines     	1
			max_width  	498
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    line_color 	658175
		    fill_color 	16777215
		    quidu      	"45011FA90157"
		    width      	516
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @7
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"1902,795;1727,709"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450EA4AD02BF"
		    client     	@2
		    supplier   	@6
		    vertices   	(list Points
			(1902, 795)
			(1719, 705))
		    line_style 	0)
		(object ClassView "Class" "Logical View::shared::Core::mng::Var" @8
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"2625")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"873")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"346")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"188"))
		    location   	(2625, 873)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	658175
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@8
			location   	(2475, 845)
			nlines     	1
			max_width  	300
			justify    	0
			label      	" Var")
		    stereotype 	(object ItemLabel
			Parent_View 	@8
			location   	(2475, 795)
			anchor     	10
			nlines     	1
			max_width  	297
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    line_color 	658175
		    fill_color 	16777215
		    quidu      	"4500152300FA"
		    width      	318
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::mng::Box" @9
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"2610")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"555")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"346")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"188"))
		    location   	(2610, 555)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	658175
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@9
			location   	(2460, 527)
			nlines     	1
			max_width  	300
			justify    	0
			label      	" Box")
		    stereotype 	(object ItemLabel
			Parent_View 	@9
			location   	(2460, 477)
			anchor     	10
			nlines     	1
			max_width  	297
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    line_color 	658175
		    fill_color 	16777215
		    quidu      	"45001507004E"
		    width      	318
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::sys::assert" @10
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"2073")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"243")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"346")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"188"))
		    location   	(2073, 243)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	658175
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@10
			location   	(1923, 215)
			nlines     	1
			max_width  	300
			justify    	0
			label      	" assert")
		    stereotype 	(object ItemLabel
			Parent_View 	@10
			location   	(1923, 165)
			anchor     	10
			nlines     	1
			max_width  	297
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    line_color 	658175
		    fill_color 	16777215
		    quidu      	"450E981C03D8"
		    width      	318
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @11
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"2249,878;2451,875"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450EA4EF0203"
		    client     	@2
		    supplier   	@8
		    vertices   	(list Points
			(2249, 878)
			(2465, 875))
		    line_style 	0)
		(object UsesView "" @12
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"2220,791;2452,649"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450EA4F20222"
		    client     	@2
		    supplier   	@9
		    vertices   	(list Points
			(2220, 791)
			(2460, 645))
		    line_style 	0)
		(object UsesView "" @13
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"2075,791;2073,337"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450EA4FB03C8"
		    client     	@2
		    supplier   	@10
		    vertices   	(list Points
			(2075, 791)
			(2073, 333))
		    line_style 	0)
		(object ClassView "Class" "Logical View::shared::Core::mng::TypeSingleton" @14
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"405")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"273")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"346")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"188"))
		    location   	(405, 273)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	658175
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@14
			location   	(221, 245)
			nlines     	1
			max_width  	368
			justify    	0
			label      	" TypeSingleton")
		    stereotype 	(object ItemLabel
			Parent_View 	@14
			location   	(221, 195)
			anchor     	10
			nlines     	1
			max_width  	368
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    line_color 	658175
		    fill_color 	16777215
		    quidu      	"4500152B01E4"
		    width      	386
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @15
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"413,518;408,367"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450EA9090138"
		    client     	@4
		    supplier   	@14
		    vertices   	(list Points
			(413, 518)
			(408, 363))
		    line_style 	0)
		(object ClassView "Class" "Logical View::shared::Core::sys::Logs" @16
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"768")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"273")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"346")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"188"))
		    location   	(768, 273)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	658175
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@16
			location   	(618, 245)
			nlines     	1
			max_width  	300
			justify    	0
			label      	" Logs")
		    stereotype 	(object ItemLabel
			Parent_View 	@16
			location   	(618, 195)
			anchor     	10
			nlines     	1
			max_width  	297
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    line_color 	658175
		    fill_color 	16777215
		    quidu      	"450E97E40167"
		    width      	318
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @17
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"953,582;1295,582"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450EA9170177"
		    client     	@5
		    supplier   	@6
		    vertices   	(list Points
			(953, 582)
			(1275, 582))
		    line_style 	3
		    origin_attachment 	(953, 582)
		    terminal_attachment 	(1275, 582))
		(object UsesView "" @18
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"776,515;771,367"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450EA94F037A"
		    client     	@5
		    supplier   	@16
		    vertices   	(list Points
			(776, 515)
			(771, 363))
		    line_style 	0)
		(object UsesView "" @19
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"679,515;510,367"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450EB0CD001F"
		    client     	@5
		    supplier   	@14
		    vertices   	(list Points
			(679, 515)
			(506, 363))
		    line_style 	0)
		(object ClassView "Class" "Logical View::shared::Core::sys::RefCountObjectBase" @20
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"2616")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"249")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"440")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"188"))
		    location   	(2616, 249)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	TRUE
			underline  	FALSE
			strike     	FALSE
			color      	705320
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@20
			location   	(2389, 221)
			nlines     	1
			max_width  	454
			justify    	0
			label      	" RefCountObjectBase")
		    stereotype 	(object ItemLabel
			Parent_View 	@20
			location   	(2389, 171)
			anchor     	10
			nlines     	1
			max_width  	454
			justify    	0
			label      	"<<SimpleClass>>")
		    icon_style 	"Label"
		    line_color 	705320
		    fill_color 	16777215
		    quidu      	"45003674031C"
		    width      	472
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @21
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"2151,791;2534,343"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"459CF8B702B4"
		    client     	@2
		    supplier   	@20
		    vertices   	(list Points
			(2151, 791)
			(2537, 339))
		    line_style 	0)
		(object UsesView "" @22
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"1347,1330;1169,1330;1169,640;1295,640"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450EA855037A"
		    client     	@1
		    supplier   	@6
		    vertices   	(list Points
			(1491, 807)
			(1491, 705))
		    line_style 	3
		    origin_attachment 	(1491, 807)
		    terminal_attachment 	(1491, 705))
		(object UsesView "" @23
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"1375,1647;1084,1647;1084,619;1295,619"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450EA89603D8"
		    client     	@3
		    supplier   	@6
		    vertices   	(list Points
			(1333, 1161)
			(1085, 1161)
			(1085, 615)
			(1275, 615))
		    line_style 	3
		    origin_attachment 	(1333, 1161)
		    terminal_attachment 	(1275, 615))
		(object UsesView "" @24
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"1721,1690;2633,1690;2633,967"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450EA8EC009C"
		    client     	@3
		    supplier   	@8
		    vertices   	(list Points
			(1679, 1159)
			(2632, 1159)
			(2632, 963))
		    line_style 	3
		    origin_attachment 	(1679, 1159)
		    terminal_attachment 	(2632, 963))))))
