
(object Petal
    version    	50
    _written   	"Rose 2006.0.0.061205"
    charSet    	204)

(object Class_Category "mng"
    is_unit    	TRUE
    is_loaded  	TRUE
    attributes 	(list Attribute_Set
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"AbstarctOperation"
	    value      	"regular")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"IsNative"
	    value      	"false")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"NESTED GENERATED FILES (h)"
	    value      	"w:/shared/Core/mng/Aptr.h::450029C102BF,w:/shared/Core/mng/Box.h::45001507004E,w:/shared/Core/mng/CacheMap.h::4500154A03C8,w:/shared/Core/mng/IObject_tie.h::450036090128,w:/shared/Core/mng/LogMsgSmartBackend.h::4500362202BF,w:/shared/Core/mng/PoolMemoryManager.h::450015550261,w:/shared/Core/mng/PoolObjectManager.h::45001560033C,w:/shared/Core/mng/PtrGuard.h::4500151200DA,w:/shared/Core/mng/TypeDestructors.h::4500153C0138,w:/shared/Core/mng/TypeSingleton.h::4500152B01E4,w:/shared/Core/mng/Var.h::4500152300FA")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"NESTED GENERATED FILES (cpp)"
	    value      	"w:/shared/Core/mng/IObject_tie.cpp::450036090128,w:/shared/Core/mng/LogMsgSmartBackend.cpp::4500362202BF")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"ApplyedGens"
	    value      	"C++ интерфейсы и реализация|Документация")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"NESTED GENERATED WikiPageID (wiki)"
	    value      	(value Text 
|Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/Aptr|450029C102BF::450029C102BF;Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/Box|45001507004E::45001507004E;Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/CacheMap|4500154A03C8::4500154A03C8;Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/IObject_tie/IndexOutOfBounds_tie|461500C9003E::450036090128;Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/IObject_tie|450036090128::450036090128;Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/LogMsgSmartBackend|4500362202BF::4500362202BF;Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/PoolMemoryManager|450015550261::450015550261;Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/PoolObjectManager|45001560033C::45001560033C;Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/PtrGuard|4500151200DA::4500151200DA;Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/TypeDestructors|4500153C0138::4500153C0138;Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/TypeSingleton|4500152B01E4::4500152B01E4;Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/Var|4500152300FA::4500152300FA;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/Aptr|450029C102BF::450029C102BF;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/Box|45001507004E::45001507004E;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/CacheMap|4500154A03C8::4500154A03C8;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/IObject_tie/IndexOutOfBounds_tie|461500C9003E::450036090128;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/IObject_tie|450036090128::450036090128;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/LogMsgSmartBackend|4500362202BF::4500362202BF;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/PoolMemoryManager|450015550261::450015550261;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/PoolObjectManager|45001560033C::45001560033C;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/PtrGuard|4500151200DA::4500151200DA;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/TypeDestructors|4500153C0138::4500153C0138;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/TypeSingleton|4500152B01E4::4500152B01E4;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/Var|4500152300FA::4500152300FA
	    ))
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"WikiPageID (wiki)"
	    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng|45000C4702BF
	    ))
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"SourceType (wiki)"
	    value      	"wiki")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"GlobalLocally"
	    value      	"false")
	(object Attribute
	    tool       	"MDA Generator"
	    name       	"ElementCreationOrder"
	    value      	"16657318506"))
    quid       	"45000C4702BF"
    documentation 	"различные менеджеры данных"
    stereotype 	"Unit"
    visible_categories 	(list visibility_relationship_list
	(object Visibility_Relationship
	    quid       	"450043F1002E"
	    supplier   	"Logical View::shared::Core::sys"
	    quidu      	"4500359F003E")
	(object Visibility_Relationship
	    quid       	"450044A302AF"
	    supplier   	"Logical View::shared::Core::fix"
	    quidu      	"45000B1A01F4")
	(object Visibility_Relationship
	    quid       	"4500452F005D"
	    supplier   	"Logical View::shared::Core::data"
	    quidu      	"44FEB666013A"))
    exportControl 	"Public"
    global     	TRUE
    logical_models 	(list unit_reference_list
	(object Class "Box"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"final")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*45001507004E_USER_INCLUDES*"
		    value      	(value Text 
|//#UC START# *45001507004E_USER_INCLUDES*¤#include "loki/TypeManip.h"¤#include "loki/static_check.h"¤¤¤/* //////////////////// EXAMPLE ////////////////////////////¤¤  /EX1: Use as simple auto-destructor¤¤  func_destructor (MyData* d) {¤	// use Box if MyData not inherited from IObject and pass throu functions or managed by any containers¤	MyData* d = new MyData (...);¤	Core::Box<MyData> data (d); // take control, free after use¤	¤	// or use Aptr if MyData dont pass throu function or dont managed by any containers¤	// or use Var if MyData is a interface or servant¤	¤	...¤  }¤¤*/¤¤//#UC END# *45001507004E_USER_INCLUDES*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*45001507004E_USER_DEFINITION*"
		    value      	(value Text 
|//#UC START# *45001507004E_USER_DEFINITION*¤class IBoxBase {¤public:¤	virtual IObject* get_raw_node() const = 0;¤};¤¤template <class _Type, class _Destructor = DeleteDestructor<_Type>, bool allow_use_on_refcounted = false >¤class Box: public IBoxBase {¤public:¤	class DataInUse : public Exception {¤		virtual const char* uid () const /*throw ()*/ {¤			return "Core::Box::DataInUse";¤		}¤	};¤¤public:¤	typedef _Type value_type;¤¤	static inline Box<_Type,_Destructor,allow_use_on_refcounted> narrow (const IBoxBase& box) {¤		return Box<_Type,_Destructor,allow_use_on_refcounted> (dynamic_cast<Node*> (box.get_raw_node()));¤	}¤¤	static inline _Type* _duplicate (const Box& box) {¤		box->addref();¤		return box.m_node->ptr;¤	}¤¤private:¤	Box (const PtrGuard<_Type>& copy) {¤		assert (0);¤	}¤¤	Box<_Type>& operator = (const PtrGuard<_Type>& copy) {¤		assert (0);¤	}¤¤public:	¤	///////////////////////////¤	// construction	¤	///////////////////////////¤¤	Box () : m_node(new Node(0)) {¤	}¤¤	// take control¤	Box (_Type* data) : m_node (new Node(data)) {¤	}¤¤	// copy¤	Box (const _Type& data) : m_node (new Node(new _Type(data))) {¤	} ¤¤	// take control¤	Box (const Box<_Type,_Destructor,allow_use_on_refcounted>& copy) {¤		m_node = copy.m_node;¤		this->addref();¤	}¤¤	// take control (capture)¤	Box<_Type,_Destructor,allow_use_on_refcounted>& operator = (const Box<_Type,_Destructor,allow_use_on_refcounted>& copy) {¤		if (m_node == copy.m_node) {¤			return *this;¤		}¤		this->release ();		¤		m_node = copy.m_node;¤		this->addref();¤		return *this;¤	}¤¤	// take control (capture)¤	Box<_Type,_Destructor,allow_use_on_refcounted>& operator = (_Type* data) {¤		if (m_node && (m_node->ptr == data)) {¤			return *this;¤		}¤		this->release ();¤		m_node = new Node (data);¤ 		return *this;¤	}¤¤	 // copy (capture)	¤	Box<_Type,_Destructor,allow_use_on_refcounted>& operator = (const _Type& data) {¤		this->release ();¤		m_node = new Node(new _Type (data));¤		//this->addref();¤ 		return *this;¤	}¤¤	// take control (override)¤	void replace (_Type* data) { ¤		if (m_node) {¤			if (m_node->ptr == data) {¤				return;¤			}¤			m_node->delete_data();		¤			m_node->ptr = data;¤		} else {¤			m_node = new Node (data);¤		}¤	}¤¤	// copy (override)¤	void replace (const _Type& data) {¤		if (m_node) {¤			if (m_node->ptr == &data) {¤				return;¤			}¤			¤			m_node->delete_data();¤			m_node->ptr = new _Type(data);¤		} else {¤			m_node = new Node (new _Type(data));¤		}¤	}¤¤	// lost control if ref_count = 1¤	_Type* forget () {¤		_Type* ret = 0;¤		if (m_node) {¤			if (m_node->ref_count() == 1) {¤				ret = m_node->ptr;¤				m_node->ptr = 0;¤				delete m_node;				¤				m_node = 0;¤			} else {¤				throw DataInUse();¤			}¤		} ¤		¤		return ret;	¤	}¤	¤	void reset () {¤		this->release ();¤		m_node = new Node(0);¤	}¤¤	virtual ~Box () {¤		this->release ();¤#ifdef _DEBUG¤		LOKI_STATIC_CHECK ((Loki::SuperSubclass<IObject,_Type>::value != true||allow_use_on_refcounted), BOX_CANNOT_BE_INSTANTITED_BY_REFCOUNTED_OBJECT);¤#endif¤	}¤¤	///////////////////////////¤	// access by pointer	¤	///////////////////////////¤¤	inline _Type* operator -> () {¤		assert (m_node && m_node->ptr);¤		return m_node->ptr;¤	}¤¤	inline _Type const* operator -> () const {¤		assert (m_node && m_node->ptr);¤		return m_node->ptr;¤	}¤¤	inline _Type* ptr () {¤		return m_node ? m_node->ptr : 0;¤	}¤¤	inline _Type const* ptr () const {¤		return m_node ? m_node->ptr : 0;¤	}¤	¤	///////////////////////////¤	// acess by reference¤	///////////////////////////¤¤	inline _Type& operator * () {¤		if (m_node == 0) {¤			m_node = new Node (0);¤		}¤		if (!m_node->ptr) {¤			m_node->ptr = new _Type;¤		}¤		return *m_node->ptr;¤	}¤¤	inline _Type const& operator * () const {¤		assert (m_node && m_node->ptr);¤		return *m_node->ptr;¤	}¤¤	/////////////////////////¤	// transfering opertaor¤	/////////////////////////¤¤	inline _Type* in () {¤		return m_node ? m_node->ptr : 0;¤	}¤¤	inline _Type const* in () const {¤		return m_node ? m_node->ptr : 0;¤	}¤¤	inline _Type*& out () {¤		this->reset ();¤		return m_node->ptr;¤	}¤¤	inline _Type*& inout () {¤		if (m_node == 0) {¤			m_node = new Node (0);¤		}¤		return m_node->ptr;¤	}¤¤	/////////////////////////¤	// logic opertaor¤	/////////////////////////¤¤	inline bool is_nil () const {¤		return m_node ? (m_node->ptr == 0) : true;¤	}¤¤	inline const bool operator ! () const {¤		return m_node->ptr == 0;¤	}¤¤	inline bool operator == (const Box<_Type,_Destructor,allow_use_on_refcounted>& c) const {¤		if (m_node == 0) {¤			m_node = new Node (0);¤		}¤		return m_node->ptr && c.m_node->ptr ? *m_node->ptr == *c.m_node->ptr : m_node->ptr == c.m_node->ptr;¤	}¤¤	///////////////////////////¤	// ref counting¤	///////////////////////////¤	¤	inline unsigned long ref_count () const {¤		if (m_node) {¤			return m_node->ref_count();¤		} else {¤			return 0;¤		}¤	}¤¤	inline unsigned long addref () { ¤		if (m_node) {¤			return m_node->addref();¤		} else {¤			return 0;¤		}¤	}¤¤	inline unsigned long release () {¤		unsigned long ret = 0;¤		if (m_node) {¤			ret = m_node->release();¤			if (!ret) {¤				m_node = 0;¤			}¤		}¤		return ret;¤	}¤¤¤protected:¤	struct Node : public RefCountObjectBase {¤		_Type* ptr;¤¤	public:¤		Node (_Type* p) {¤			ptr = p;¤		} ¤		¤		~Node () {¤			this->delete_data();¤		}¤¤		inline void delete_data () {¤			if (ptr) {¤				_Destructor::destroy (ptr);¤				ptr = 0;¤			}¤		}¤	};¤¤protected:¤	Box (Node* copy) {¤		m_node = copy;¤		this->addref();¤	}¤¤	virtual IObject* get_raw_node() const {¤		return m_node;¤	}¤¤private:¤	mutable Node* m_node;¤};¤¤//#UC END# *45001507004E_USER_DEFINITION*
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"ifdef"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"is namespace"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need impl-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need inline-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (h)"
		    value      	"w:/shared/Core/mng/Box.h")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/Box|45001507004E
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (h)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"16662048915"))
	    quid       	"45001507004E"
	    documentation 	"менеджер с собственным счетчиком ссылок, для типов не обладающих оным"
	    stereotype 	"UtilityPack"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657331427"))
		    quid       	"450016370271"
		    supplier   	"Logical View::shared::Core::mng::TypeDestructors"
		    quidu      	"4500153C0138")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657331841"))
		    quid       	"4500164C0213"
		    supplier   	"Logical View::shared::Core::mng::PtrGuard"
		    quidu      	"4500151200DA")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657332222"))
		    quid       	"450045D5004E"
		    supplier   	"Logical View::shared::Core::sys::Exception"
		    quidu      	"450035A90222")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657332583"))
		    quid       	"450045DC0177"
		    supplier   	"Logical View::shared::Core::sys::IObject"
		    quidu      	"450035F1005D"))
	    language   	"MDA Generator")
	(object Class "PtrGuard"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"final")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*4500151200DA_USER_INCLUDES*"
		    value      	"//#UC START# *4500151200DA_USER_INCLUDES*¤//#UC END# *4500151200DA_USER_INCLUDES*")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*4500151200DA_USER_DEFINITION*"
		    value      	(value Text 
|//#UC START# *4500151200DA_USER_DEFINITION*¤template <class _Type>¤class PtrGuard {¤private:¤	PtrGuard () : m_ptr(0) {¤	}¤¤public:	¤	///////////////////////////¤	// construction	¤	///////////////////////////¤¤	PtrGuard (_Type* data) : m_ptr (data) {¤	}¤¤	PtrGuard (const PtrGuard<_Type>& copy) {¤		m_ptr = copy.m_ptr;¤	}¤			¤	///////////////////////////¤	// cast operator¤	///////////////////////////¤¤	inline operator _Type const* () const {¤		return m_ptr;¤	}¤¤	inline operator _Type* () {¤		return m_ptr;¤	}¤¤	///////////////////////////¤	// access by pointer	¤	///////////////////////////¤¤	inline _Type* operator -> () {¤		assert (m_ptr);¤		return m_ptr;¤	}¤¤	inline _Type const* operator -> () const {¤		assert (m_ptr);¤		return m_ptr;¤	}¤¤private:¤	_Type* m_ptr;¤};¤¤//#UC END# *4500151200DA_USER_DEFINITION*
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"ifdef"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"is namespace"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need impl-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need inline-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (h)"
		    value      	"w:/shared/Core/mng/PtrGuard.h")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/PtrGuard|4500151200DA
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (h)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"16662006287"))
	    quid       	"4500151200DA"
	    documentation 	"вспомогательный класс-обертка над указателем, для предотвращение попадания кешированных (без взведденыого addref) результатов функций в менеджеры типа Var, Aptr или Box"
	    stereotype 	"UtilityPack"
	    language   	"MDA Generator")
	(object Class "Var"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"final")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*4500152300FA_USER_INCLUDES*"
		    value      	(value Text 
|//#UC START# *4500152300FA_USER_INCLUDES*¤/*! EXAMPLE¤¤  EX1: Use as simple auto-destructor¤¤  func_destructor (MyData* d) {¤	// or use Var if MyData is a interface or servant¤	MyData* d = new MyData (...);¤	Core::Var<MyData> data (d); // take control, free after use¤	¤	// or use Box if MyData not inherited from IObject and pass throu functions or managed by any containers¤	// or use Aptr if MyData dont pass throu function or dont managed by any containers¤	¤	...¤  }¤¤*/ ¤//#UC END# *4500152300FA_USER_INCLUDES*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*4500152300FA_USER_DEFINITION*"
		    value      	(value Text 
|//#UC START# *4500152300FA_USER_DEFINITION*¤template <class _Type>¤class Var {¤public:¤	class DataInUse : public Exception {¤		virtual const char* uid () const /*throw ()*/ {¤			return "Core::Var::DataInUse";¤		}¤	};¤¤	typedef _Type value_type;¤	typedef _Type element_type; //for boost smart_ptr compatible¤private:¤	Var (const PtrGuard<_Type>& copy) {¤		assert (0);¤	}¤¤	Var<_Type>& operator = (const PtrGuard<_Type>& copy) {¤		assert (0);¤	}¤¤public:	¤	///////////////////////////¤	// construction	¤	///////////////////////////¤¤	Var () : m_ptr(0) {¤	}¤¤	Var (_Type* data) : m_ptr (data) {¤	}¤¤	Var (const Var<_Type>& copy) {¤		m_ptr = copy.m_ptr;¤		this->addref();¤	}¤		¤	Var<_Type>& operator = (const Var<_Type>& copy) {¤		if (m_ptr == copy.m_ptr) {¤			return *this;¤		}¤		this->release ();¤		m_ptr = copy.m_ptr;¤		this->addref();¤		return *this;¤	}¤¤	Var<_Type>& operator = (_Type* data) {¤		this->release ();¤		m_ptr = data;¤ 		return *this;¤	}¤	¤	virtual ~Var () {¤		this->release ();¤	}¤¤	///////////////////////////¤	// access by pointer	¤	///////////////////////////¤¤	inline _Type* operator -> () {¤		assert (m_ptr);¤		return m_ptr;¤	}¤¤	inline _Type const* operator -> () const {¤		assert (m_ptr);¤		return m_ptr;¤	}¤¤	inline _Type* ptr () {¤		return m_ptr;¤	}¤¤	inline _Type const* ptr () const {¤		return m_ptr;¤	}¤	¤	///////////////////////////¤	// acess by reference¤	///////////////////////////¤¤	inline _Type& operator * () {¤		assert (m_ptr);¤		return *m_ptr;¤	}¤¤	inline _Type const& operator * () const {¤		assert (m_ptr);¤		return *m_ptr;¤	}¤¤	/////////////////////////¤	// transfering opertaor¤	/////////////////////////¤¤	inline _Type* _retn () {¤		// TAO semantic, reduce refcounting¤		_Type* val = m_ptr;¤		m_ptr = 0;¤		return val;¤	}¤¤	inline _Type const* _retn () const {¤		this->addref();¤		return m_ptr;¤	}¤¤	// safe _retn¤	inline _Type* _sretn () {¤		this->addref();¤		return m_ptr;¤	}¤¤	inline _Type const* _sretn () const {¤		this->addref();¤		return m_ptr;¤	}¤	¤	inline _Type* in () {¤		return m_ptr;¤	}¤¤	inline _Type const* in () const {¤		return m_ptr;¤	}¤¤	inline _Type*& out () {¤		this->release ();		¤		m_ptr = 0;¤		return m_ptr;¤	}¤¤	inline _Type*& inout () {¤		return m_ptr;¤	}¤¤	/////////////////////////¤	// logic opertaor¤	/////////////////////////¤¤	inline bool is_nil () const {¤		return m_ptr == 0;¤	}¤¤	inline const bool operator ! () const {¤		return m_ptr == 0;¤	}¤¤	///////////////////////////¤	// ref counting¤	///////////////////////////¤	¤	inline unsigned long ref_count () const {¤		if (m_ptr) {¤			return m_ptr->ref_count();¤		} else {¤			return 0;¤		}¤	}¤¤	inline unsigned long addref () const { ¤		if (m_ptr) {¤			return m_ptr->addref();¤		} else {¤			return 0;¤		}¤	}¤¤	inline unsigned long release () {¤		unsigned long ret = 0;¤		if (m_ptr) {¤			ret = m_ptr->release();¤			if (!ret) {¤				m_ptr = 0;¤			}¤		}¤		return ret;¤	}¤¤	_Type* forget () {¤		_Type* ret = 0;¤		if (m_ptr) {¤			if (m_ptr->ref_count() == 1) {¤				ret = m_ptr;¤				m_ptr = 0;¤			} else {¤				throw DataInUse();¤			}¤		} ¤		¤		return ret;	¤	}¤¤private:¤	_Type* m_ptr;¤¤private:¤	inline bool operator < (const Var<_Type>& c) const;¤	inline bool operator > (const Var<_Type>& c) const;¤	inline bool operator == (const Var<_Type>& c) const;¤	//needed by ArbitaryLess¤	//inline bool operator != (const Var<_Type>& c) const;¤};¤¤typedef Var<IObject> IObject_var;¤typedef Var<const IObject> IObject_cvar;¤¤//#UC END# *4500152300FA_USER_DEFINITION*
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"ifdef"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"is namespace"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need impl-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need inline-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (h)"
		    value      	"w:/shared/Core/mng/Var.h")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/Var|4500152300FA
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (h)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"16662052105"))
	    quid       	"4500152300FA"
	    documentation 	"менеджер интерфейсов"
	    stereotype 	"UtilityPack"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657334267"))
		    quid       	"4500164F036B"
		    supplier   	"Logical View::shared::Core::mng::PtrGuard"
		    quidu      	"4500151200DA")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657334643"))
		    quid       	"4500441E0280"
		    supplier   	"Logical View::shared::Core::sys::IObject"
		    quidu      	"450035F1005D")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657335008"))
		    quid       	"45004420002E"
		    supplier   	"Logical View::shared::Core::sys::Exception"
		    quidu      	"450035A90222"))
	    language   	"MDA Generator")
	(object Class "TypeSingleton"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"final")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*4500152B01E4_USER_INCLUDES*"
		    value      	(value Text 
|//#UC START# *4500152B01E4_USER_INCLUDES*¤/*! cool for static member declaration without CPP definition¤    useage:¤¤   class X {...};¤¤   class Y {¤     typedef TypeSingleton<X> XSingl;¤¤     some_function () {			¤       XSingl::instance().some_member();¤     }¤   };¤*/¤//#UC END# *4500152B01E4_USER_INCLUDES*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*4500152B01E4_USER_DEFINITION*"
		    value      	(value Text 
|//#UC START# *4500152B01E4_USER_DEFINITION*¤template <class _Type>¤class TypeSingleton {¤public:¤	static _Type* const instance() {¤		return &s_type_instance;¤	}¤private:¤	static _Type s_type_instance;¤};¤¤template <class _Type>¤_Type TypeSingleton<_Type>::s_type_instance;¤¤//#UC END# *4500152B01E4_USER_DEFINITION*
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"ifdef"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"is namespace"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need impl-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need inline-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (h)"
		    value      	"w:/shared/Core/mng/TypeSingleton.h")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/TypeSingleton|4500152B01E4
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (h)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"16662055164"))
	    quid       	"4500152B01E4"
	    documentation 	"синглетон позволяющий определить статическую переменную, без необходимости ее инициализации в cpp-файле"
	    stereotype 	"UtilityPack"
	    language   	"MDA Generator")
	(object Class "TypeDestructors"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"final")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*4500153C0138_USER_INCLUDES*"
		    value      	"//#UC START# *4500153C0138_USER_INCLUDES*¤//#UC END# *4500153C0138_USER_INCLUDES*")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*4500153C0138_USER_DEFINITION*"
		    value      	(value Text 
|//#UC START# *4500153C0138_USER_DEFINITION*¤¤// зачем шаблонные классы? достаточно шаблонных функций "destroy".¤// преимущества - простота использования:¤// Var<X, ArrayDeleteDestructor> вместо Var<X, ArrayDeleteDestructor<X> > ¤¤template <class T>¤struct DeleteDestructor {¤	static inline void destroy (T* t) {¤		delete t;¤	}¤};¤¤template <class T>¤struct ArrayDeleteDestructor {¤	static inline void destroy (T* t) {¤		delete [] t;¤	}¤};¤¤struct FreeDestructor {¤	static inline void destroy (void* ptr) {¤		/*std::*/free (ptr); // If ptr is NULL, no action occurs.¤	}¤};¤¤//#UC END# *4500153C0138_USER_DEFINITION*
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"ifdef"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"is namespace"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need impl-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need inline-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (h)"
		    value      	"w:/shared/Core/mng/TypeDestructors.h")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/TypeDestructors|4500153C0138
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (h)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"16662005822"))
	    quid       	"4500153C0138"
	    documentation 	"стандартные деструкторы для менеджеров типа Aptr и Box"
	    stereotype 	"UtilityPack"
	    language   	"MDA Generator")
	(object Class "CacheMap"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"final")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*4500154A03C8_USER_INCLUDES*"
		    value      	"//#UC START# *4500154A03C8_USER_INCLUDES*¤#include <map>¤#include <deque>¤//#UC END# *4500154A03C8_USER_INCLUDES*")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*4500154A03C8_USER_DEFINITION*"
		    value      	(value Text 
|//#UC START# *4500154A03C8_USER_DEFINITION*¤¤template <class _Key, class _Data, class _Loader>¤class CacheMap {¤public:¤	typedef std::map<_Key, _Data> Cache;¤¤	CacheMap () : m_cached_it (m_map.end ()) {¤	}¤¤	const _Data& get_value (const _Key& key) const {¤		GUARD (m_mutex);¤¤		if (m_cached_it == m_map.end () || m_cached_it->first != key) {¤			m_cached_it = m_map.find (key);¤			if (m_cached_it == m_map.end ()) {¤				m_cached_it = m_map.insert (typename Cache::value_type (key, _Loader::load_value (key))).first;¤			}¤		}¤		assert (m_cached_it->first == key);¤		return m_cached_it->second;¤	}¤¤	void invalidate (const _Key& key) {¤		GUARD (m_mutex);¤¤		if (m_cached_it != m_map.end () && m_cached_it->first == key) {¤			m_cached_it = m_map.end ();¤		}¤		m_map.erase (key);¤	}¤¤private:¤	mutable Core::Mutex m_mutex;¤¤	mutable Cache m_map;¤	mutable typename Cache::iterator m_cached_it;¤};¤//#UC END# *4500154A03C8_USER_DEFINITION*
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"ifdef"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"is namespace"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need impl-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need inline-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (h)"
		    value      	"w:/shared/Core/mng/CacheMap.h")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/CacheMap|4500154A03C8
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (h)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"16657336715"))
	    quid       	"4500154A03C8"
	    documentation 	"менеджер кеша для членов данных"
	    stereotype 	"UtilityPack"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657337025"))
		    quid       	"450045B30196"
		    supplier   	"Logical View::shared::Core::sys::synch"
		    quidu      	"45003429008C"))
	    language   	"MDA Generator")
	(object Class "PoolMemoryManager"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"final")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*450015550261_USER_INCLUDES*"
		    value      	(value Text 
|//#UC START# *450015550261_USER_INCLUDES*¤¤#include <assert.h>¤#include <memory>¤#include <vector>¤¤/*!¤	PoolMemoryManager - темплейтный менеджер памяти для работы с большими массивами маленьких объектов. ¤	Убирает дефрагментацию памяти. Аналогично boost::object_pool, но по предварительным ¤	тестам быстрее и экономичнее.¤¤Example of usage:¤	#include "shared/Core/mng/PoolMemoryManager.h"¤¤	int main (...) {¤		...¤	}¤	...¤¤	class MyClass {¤		...¤	public:		¤		void* operator new (size_t cs);¤		void operator delete (void* p);¤	};¤¤	typedef PoolMemoryManager<MyClass> MyClassPool;¤	¤	void* MyClass::operator new (size_t cs) {¤		return MyClassPool::instance()->malloc(cs);¤	}¤	void MyClass::operator delete (void* p) {¤		MyClassPool::instance()->free(p);¤	}¤	...¤*/¤¤//#UC END# *450015550261_USER_INCLUDES*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*450015550261_USER_DEFINITION*"
		    value      	(value Text 
|//#UC START# *450015550261_USER_DEFINITION*¤struct DestroyableMemoryPool {¤	virtual void destroy () = 0;¤};¤¤class PoolMemoryOwner {	¤	typedef std::vector<DestroyableMemoryPool*> PoolMemories;¤¤public:¤	void add_memories (DestroyableMemoryPool* object) {¤		this->memories.push_back (object);¤	}¤¤	~PoolMemoryOwner () {¤		for (PoolMemories::iterator it = memories.begin (); it != memories.end (); ++it) {¤			(*it)->destroy ();¤		}¤	}¤¤private:¤	PoolMemories memories;¤};¤¤typedef ACE_Singleton <PoolMemoryOwner, ACE_SYNCH_RECURSIVE_MUTEX> PoolMemoryOwnerSingleton;¤¤#define DEFAULT_PAGE_K_SIZE 4¤¤template <class TYPE_, unsigned long page_k_size=0> /* page_k_size=0 - use DEFAULT_PAGE_K_SIZE */¤class PoolMemoryManager: public DestroyableMemoryPool {¤public:¤	typedef ACE_Unmanaged_Singleton <¤				PoolMemoryManager<TYPE_, page_k_size>¤				, ACE_SYNCH_RECURSIVE_MUTEX¤			> PoolMemoryManagerSingleton;¤¤	virtual void destroy () {¤		PoolMemoryManagerSingleton::close ();¤	}¤¤private:¤	class PagedMem {¤		typedef std::vector <TYPE_*> Pages;¤		enum { NOT_FOUND = 0xFFFFFFFF };¤	public:¤		PagedMem (unsigned long page_size): m_page_size(page_size) {¤		}¤		void init (unsigned long page_size) {¤			m_page_size = page_size;¤		}¤¤		virtual ~PagedMem () {¤			for (typename Pages::iterator it = m_pages.begin(); it != m_pages.end(); it++) { // GARANT_TYPENAME¤				::free (*it);¤			}¤		}¤¤		inline void* operator [] (unsigned long index) {¤			return m_pages[index/m_page_size] + index%m_page_size;¤		}¤¤		inline unsigned long index_i (const void* p) const {¤			for (typename Pages::const_iterator it = m_pages.begin(); it != m_pages.end(); it++) { // GARANT_TYPENAME¤				if (p >= *it && p < *it + m_page_size) {¤					return std::distance (m_pages.begin(), it) * m_page_size + ((TYPE_*)p - *it);¤				}¤			}¤			return NOT_FOUND;¤		}¤¤		inline unsigned long index (const void* p) const {¤			unsigned long i = index_i (p);¤			if (i == NOT_FOUND) {¤				throw;¤			}¤			return i;¤		}¤¤		void resize (unsigned long size) {¤			unsigned long page_num = size/m_page_size + (size%m_page_size ? 1 : 0);¤			if (page_num > m_pages.size()) {¤				for (unsigned i = m_pages.size(); i < page_num; i++) {¤					m_pages.push_back ((TYPE_*)::malloc (m_page_size*sizeof(TYPE_)));¤				}¤			} else if (page_num < m_pages.size()) {¤				for (unsigned i = page_num; i < m_pages.size(); i++) {¤					::free(m_pages.back());¤					m_pages.pop_back();¤				}¤			}¤		}¤		void remove_page_by_point (void* p) {¤			for (typename Pages::const_iterator it = m_pages.begin(); it != m_pages.end(); it++) { // GARANT_TYPENAME¤				if (p >= *it && p < *it + m_page_size) {¤					::free (*it);¤					m_pages.erase(it);¤					return;¤				}¤			}¤			throw;¤		}¤¤		inline bool is_from (void* p) {¤			return index_i (p) == NOT_FOUND ? false : true;¤		}¤		 ¤	private:¤		unsigned long m_page_size;¤		Pages m_pages;¤	};¤¤	class BitMap {¤	public:¤		BitMap (unsigned long size = 0): m_map(size), m_current(0), m_last_free(0), m_free_count(0) {¤		}¤		inline void unmark (unsigned long ind) {¤			m_map.reset(ind);			¤			m_free_count++;¤			m_last_free = ind;¤		}¤		inline void mark (unsigned long ind) {¤			m_free_count--;¤			m_map.set(ind);¤		}¤		void resize (unsigned long size) {¤			m_free_count += (size - m_map.size());¤			m_map.resize(size);¤		}¤		unsigned long find_unmark_chain(unsigned long count) {¤			unsigned long need_place = count;¤			unsigned long prev_cur = m_current;¤			while (need_place && m_current < m_map.size()) {¤				if (!m_map[m_current++]) {¤					--need_place;¤				} else {¤					need_place = count;¤				}¤			}¤			if (!need_place) {¤				return m_current - count;¤			}¤¤			if (m_free_count) {¤				if (count == 1 && !m_map[m_last_free]) {¤					m_current = m_last_free + 1;¤					return m_last_free;¤				}¤¤				need_place = count;¤				m_current = 0;¤				while (need_place && m_current < prev_cur) {¤					if (!m_map[m_current++]) {¤						--need_place;¤					} else {¤						need_place = count;¤					}¤				}¤				if (!need_place) {¤					return m_current - count;¤				}¤			}¤			¤			return m_map.size();		¤		}¤	private:¤		DynamicBitSet m_map;¤		unsigned long m_current;¤		unsigned long m_free_count;¤		unsigned long m_last_free;¤	};¤public:  ¤	PoolMemoryManager (unsigned long step_size = 0) : m_step_size(step_size), m_size(0), m_buf(step_size) {¤		if (!m_step_size) {¤			m_step_size = (page_k_size*1024)/sizeof(TYPE_);¤			if (!m_step_size) {¤				m_step_size = (DEFAULT_PAGE_K_SIZE*1024)/sizeof(TYPE_);¤			}¤			m_buf.init (m_step_size);¤		}¤¤		PoolMemoryOwnerSingleton::instance ()->add_memories (this);¤	}¤¤	void* malloc (size_t cs) {¤#if 1¤		unsigned long count = cs/sizeof(TYPE_);¤		// only for single object allocation¤		assert (count == 1);¤¤		unsigned long ind = m_marks.find_unmark_chain(count);¤		if (ind >= m_size) {¤		   this->resize (count);                              ¤		}¤		m_marks.mark(ind);¤		return m_buf[ind];¤#else¤		return ::malloc (cs);¤#endif¤	}¤	void free (void* p) {¤#if 1¤		unsigned long ind = m_buf.index(p);¤		m_marks.unmark(ind);¤#else¤		::free (p);¤#endif¤	}¤¤	bool is_from (void* p) {¤		return m_buf.is_from (p);¤	}¤¤protected:¤	void resize (unsigned long min_count) {¤		m_size += m_step_size * (1 + min_count/m_step_size);¤¤		m_marks.resize(m_size);¤        m_buf.resize(m_size);¤	}¤¤private:¤	BitMap m_marks;¤	PagedMem m_buf;¤	unsigned long m_size;¤	unsigned long m_step_size;¤};¤¤//#UC END# *450015550261_USER_DEFINITION*
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"ifdef"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"is namespace"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need impl-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need inline-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (h)"
		    value      	"w:/shared/Core/mng/PoolMemoryManager.h")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/PoolMemoryManager|450015550261
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (h)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"16657337561"))
	    quid       	"450015550261"
	    documentation 	"менеджер пула памяти (для сокращения дефрагментации памяти и кол-во циклов new/delete)"
	    stereotype 	"UtilityPack"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657337878"))
		    quid       	"4500454000BB"
		    supplier   	"Logical View::shared::Core::data::DynamicBitSet"
		    quidu      	"44FFFD5902BF")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657338240"))
		    quid       	"4500456D036B"
		    supplier   	"Logical View::shared::Core::mng::Var"
		    quidu      	"4500152300FA"))
	    language   	"MDA Generator")
	(object Class "PoolObjectManager"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"final")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*45001560033C_USER_INCLUDES*"
		    value      	(value Text 
|//#UC START# *45001560033C_USER_INCLUDES*¤#include "ace/Singleton.h"¤¤#include "shared/Core/sys/assert.h"¤¤#include <vector>¤//#UC END# *45001560033C_USER_INCLUDES*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*45001560033C_USER_DEFINITION*"
		    value      	(value Text 
|//#UC START# *45001560033C_USER_DEFINITION*¤struct DestroyableObjectPool {¤	virtual void destroy () = 0;¤};¤¤class PoolObjectOwner {	¤	typedef std::vector<DestroyableObjectPool*> PoolObjects;¤¤public:¤	void add_object (DestroyableObjectPool* object) {¤		this->objects.push_back (object);¤	}¤¤	~PoolObjectOwner () {¤		for (PoolObjects::iterator it = objects.begin (); it != objects.end (); ++it) {¤			(*it)->destroy ();¤		}¤	}¤¤private:¤	PoolObjects objects;¤};¤typedef ACE_Singleton <PoolObjectOwner, ACE_SYNCH_RECURSIVE_MUTEX> PoolObjectOwnerSingleton;¤¤// по-хорошему в политику надо занести и метод create для парности,¤// однако сейчас для обоих политик вызывается просто new.¤// А втаскивать new TYPE_ () в политику не так просто, так как политика не является другом TYPE_,¤// а для многих TYPE_ конструктор закрытый. Приходится в политике дёргать метод специально заведённый для¤// этого на пуле, выглядит, мягко говоря, похабненько.¤¤template <typename TYPE_>¤struct NewDeletePolicy {¤	static void init (TYPE_* obj) {¤		GDS_ASSERT (obj);¤		new (obj) TYPE_ ();¤	}¤¤	static void done (TYPE_* obj) {¤		GDS_ASSERT (obj);¤		obj->~TYPE_ ();¤	}¤¤	static void destroy (TYPE_* obj) {¤		GDS_ASSERT (obj);¤		operator delete (obj);¤	}¤};¤¤template <typename TYPE_>¤struct InitDonePolicy {¤	static void init (TYPE_* obj) {¤		GDS_ASSERT (obj);¤		obj->init ();¤	}¤¤	static void done (TYPE_* obj) {¤		GDS_ASSERT (obj);¤		obj->done ();¤	}¤¤	static void destroy (TYPE_* obj) {¤		GDS_ASSERT (obj);¤		delete obj;¤	}¤};¤¤template<typename T>¤struct PoolObjectTraits {¤	typedef Core::InitDonePolicy<T> CreationDestructionPolicy;¤};¤¤template <typename TYPE_>¤class PoolObjectManager : public DestroyableObjectPool {¤public:¤	typedef ACE_Unmanaged_Singleton <¤				PoolObjectManager<TYPE_>¤				, ACE_SYNCH_RECURSIVE_MUTEX¤			> PoolObjectManagerSingleton;¤¤	virtual void destroy () {¤		PoolObjectManagerSingleton::close ();¤	}¤¤public:¤	PoolObjectManager () {¤		PoolObjectOwnerSingleton::instance ()->add_object (this);¤	}¤¤	virtual ~PoolObjectManager () {¤		ObjectSet tmp = m_all_obj;¤		m_all_obj.clear();¤¤		for (typename ObjectSet::iterator it = tmp.begin(); it != tmp.end(); it++) {¤			if (it->free) {¤				PoolObjectTraits<TYPE_>::CreationDestructionPolicy::destroy (it->data);¤			}¤		}¤	}¤¤	inline TYPE_* new_obj () {¤		register TYPE_* ret;¤			for (typename ObjectSet::iterator it = m_all_obj.begin(); it != m_all_obj.end(); it++) {¤				if (it->free) {¤					it->free = false;¤					PoolObjectTraits<TYPE_>::CreationDestructionPolicy::init (it->data);¤					return it->data;¤				}¤			}¤			ret = new TYPE_ ();¤			m_all_obj.push_back(Data (ret));¤		¤		return ret;¤	}¤¤	void release_obj (TYPE_* obj) const { // without "obj" validate¤		for (typename ObjectSet::iterator it = m_all_obj.begin(); it != m_all_obj.end(); it++) {¤			if (it->data == obj) {¤				PoolObjectTraits<TYPE_>::CreationDestructionPolicy::done (it->data);¤				it->free = true;¤				return;¤			}¤		}¤		GDS_ASSERT (false && "object created by hands");¤		delete obj;¤	}¤	¤private:¤	struct Data {¤		TYPE_* data;¤		bool free;¤¤		explicit Data (TYPE_* d) : data (d), free (false) {¤		}¤	};¤¤	typedef std::vector<Data> ObjectSet;¤	mutable ObjectSet m_all_obj;¤};¤//#UC END# *45001560033C_USER_DEFINITION*
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"ifdef"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"is namespace"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need impl-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need inline-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (h)"
		    value      	"w:/shared/Core/mng/PoolObjectManager.h")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/PoolObjectManager|45001560033C
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (h)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"16662010121"))
	    quid       	"45001560033C"
	    documentation 	"Менеджер пула объектов (для сокращения дефрагментации памяти и кол-во циклов new/delete и конструктор/деструктор). Данная реализация эффективна только для небольшого количества объектов в пуле."
	    stereotype 	"UtilityPack"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657339155"))
		    quid       	"450044CD00BB"
		    supplier   	"Logical View::shared::Core::sys::IObject"
		    quidu      	"450035F1005D")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657339519"))
		    quid       	"45011DB60128"
		    supplier   	"Logical View::shared::Core::mng::Var"
		    quidu      	"4500152300FA"))
	    language   	"MDA Generator")
	(object Class "Aptr"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"final")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need impl-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*450029C102BF_USER_INCLUDES*"
		    value      	(value Text 
|//#UC START# *450029C102BF_USER_INCLUDES*¤#include "loki/TypeManip.h"¤#include "loki/static_check.h" ¤/* //////////////////// EXAMPLE ////////////////////////////¤¤  /EX1: Use as simple auto-destructor¤¤  func_destructor (MyData* d) {¤	// use Aptr if MyData not inherited from IObject and dont pass throu function or dont managed by any containers¤	MyData* d = new MyData (...);¤	Core::Aptr<MyData> data (d); // take control, free after use¤	¤	// or use Box if MyData not inherited from IObject and pass throu functions or managed by any containers¤	// or use Var if MyData is a interface or servant¤	¤	...¤  }¤¤*/ ¤¤//#UC END# *450029C102BF_USER_INCLUDES*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*450029C102BF_USER_DEFINITION*"
		    value      	(value Text 
|//#UC START# *450029C102BF_USER_DEFINITION*¤template <class _Type, class _Destructor = DeleteDestructor<_Type> >¤class Aptr {¤private:¤	Aptr (const PtrGuard<_Type>& copy) {¤		assert (0);¤	}¤¤	Aptr<_Type>& operator = (const PtrGuard<_Type>& copy) {¤		assert (0);¤	}¤¤public:¤	typedef _Type value_type;¤¤	///////////////////////////¤	// construction	¤	///////////////////////////¤¤	Aptr () : m_ptr(0) {¤	}¤¤	// take control¤	Aptr (_Type* data) : m_ptr (data) {¤	}¤¤	// copy (capture)¤	Aptr (const _Type& data) : m_ptr (new _Type (data)) {		¤	} ¤¤	// take control (capture)¤	Aptr<_Type,_Destructor>& operator = (_Type* data) {¤		if (m_ptr == data) {¤			return *this;¤		}¤		this->release ();¤		m_ptr = data;¤	¤ 		return *this;¤	}¤¤	// copy (capture)¤	Aptr<_Type,_Destructor>& operator = (const _Type& data) {¤		this->release();¤		m_ptr = new _Type (data);¤ 		return *this;¤	}¤¤public:¤	// take control¤	Aptr (const Aptr<_Type,_Destructor>& copy); // GARANT_PRIVATE is obsolete in this context¤¤	// take control (capture)¤	Aptr<_Type,_Destructor>& operator = (const Aptr<_Type,_Destructor>& copy); // GARANT_PRIVATE is obsolete in this context¤¤public:¤	virtual ~Aptr () {¤		this->release ();¤#ifdef _DEBUG¤		LOKI_STATIC_CHECK ((Loki::SuperSubclass<IObject,_Type>::value != true), APTR_CANNOT_BE_INSTANTITED_BY_REFCOUNTED_OBJECT);¤#endif¤	}¤¤	///////////////////////////¤	// access by pointer	¤	///////////////////////////¤¤	inline _Type* const operator -> () {¤		GDS_ASSERT (m_ptr);¤		return m_ptr;¤	}¤¤	inline _Type const* const operator -> () const {¤		GDS_ASSERT (m_ptr);¤		return m_ptr;¤	}¤¤	inline _Type* const ptr () {¤		return m_ptr;¤	}¤¤	inline _Type const* const ptr () const {¤		return m_ptr;¤	}¤	¤	///////////////////////////¤	// acess by reference¤	///////////////////////////¤¤	inline _Type& operator * () {¤		if (!m_ptr) {¤			m_ptr = new _Type;¤		}¤		return *m_ptr;¤	}¤¤	inline const _Type& operator * () const {¤		GDS_ASSERT (m_ptr);¤		return *m_ptr;¤	}¤	¤	/////////////////////////¤	// transfering opertaor¤	/////////////////////////¤¤	inline _Type* _retn () {¤		_Type* val = m_ptr;¤		m_ptr = 0;¤		return val;¤	}¤¤	inline const _Type* _retn () const {¤		_Type* val = m_ptr;¤		m_ptr = 0;¤		return val;¤	}¤¤	inline _Type* in () { //????¤		return m_ptr;¤	}¤¤	inline const _Type* in () const {¤		return m_ptr;¤	}¤¤	inline _Type*& out () {¤		this->release ();		¤		m_ptr = 0;¤		return m_ptr;¤	}¤¤	inline _Type*& inout () {¤		return m_ptr;¤	}¤¤	_Type* forget () {¤		_Type* ret = m_ptr;¤		m_ptr = 0;		¤		return ret;	¤	}¤¤	/////////////////////////¤	// logic opertaor¤	/////////////////////////¤¤	inline bool is_nil () const {¤		return m_ptr == 0;¤	}¤¤	inline const bool operator ! () const {¤		return m_ptr == 0;¤	}¤¤	inline bool operator < (const Aptr<_Type,_Destructor>& c) const { // GCC_MAYBE_COMPILE_ERROR (builtin GCC operator)¤		return /*m_ptr && c.m_ptr ? *m_ptr < *c.m_ptr : */m_ptr < c.m_ptr;¤	}¤¤	inline bool operator > (const Aptr<_Type,_Destructor>& c) const {¤		return m_ptr && c.m_ptr ? *m_ptr > *c.m_ptr : m_ptr > c.m_ptr;¤	}¤¤	inline bool operator == (const Aptr<_Type,_Destructor>& c) const {¤		return m_ptr && c.m_ptr ? *m_ptr == *c.m_ptr : m_ptr == c.m_ptr;¤	}¤¤	inline bool operator != (const Aptr<_Type,_Destructor>& c) const {¤		return m_ptr && c.m_ptr ? *m_ptr != *c.m_ptr : m_ptr != c.m_ptr;¤	}¤¤	inline unsigned long release () {¤		if (m_ptr) {¤			_Destructor::destroy (m_ptr);			¤			m_ptr = 0;			¤		}¤		return 0;¤	}¤¤private:¤	_Type* m_ptr;¤};¤¤//#UC END# *450029C102BF_USER_DEFINITION*
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"ifdef"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"is namespace"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need inline-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (h)"
		    value      	"w:/shared/Core/mng/Aptr.h")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/Aptr|450029C102BF
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (h)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"16657340072"))
	    quid       	"450029C102BF"
	    documentation 	"менеджер указателей - автопоинтер (автоматическое удаление)"
	    stereotype 	"UtilityPack"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657340376"))
		    quid       	"4500163F00BB"
		    supplier   	"Logical View::shared::Core::mng::TypeDestructors"
		    quidu      	"4500153C0138")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657340753"))
		    quid       	"4500335802CE"
		    supplier   	"Logical View::shared::Core::mng::PtrGuard"
		    quidu      	"4500151200DA")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657341129"))
		    quid       	"4500468C00EA"
		    supplier   	"Logical View::shared::Core::sys::IObject"
		    quidu      	"450035F1005D")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657341495"))
		    quid       	"450EA3250000"
		    supplier   	"Logical View::shared::Core::sys::assert"
		    quidu      	"450E981C03D8"))
	    language   	"MDA Generator")
	(object Class "IObject_tie"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"final")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need impl-file"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"cpp:*450036090128_CUSTOM_INCLUDES*"
		    value      	"//#UC START# *450036090128_CUSTOM_INCLUDES*¤//#UC END# *450036090128_CUSTOM_INCLUDES*")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"cpp:*450036090128*"
		    value      	"//#UC START# *450036090128*¤const ComIID IObject_tie::s_com_iid = {0x00000000, 0x0000, 0x0000, {0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x46}};¤¤IObject_tie::IidRegistrator IObject_tie::s_iid_registrator;¤//#UC END# *450036090128*")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*450036090128_USER_INCLUDES*"
		    value      	(value Text 
|//#UC START# *450036090128_USER_INCLUDES*¤#include "ace/Singleton.h"¤¤#include <map>¤//#UC END# *450036090128_USER_INCLUDES*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*450036090128_USER_DEFINITION*"
		    value      	(value Text 
|//#UC START# *450036090128_USER_DEFINITION*¤#pragma pack (push, 1)¤struct ComIID {¤	unsigned long  data1;¤	unsigned short data2;¤	unsigned short data3;¤	unsigned char  data4 [8];¤	//¤	bool operator == (const ComIID& iid2) const {¤		return (memcmp (this, &iid2, sizeof (ComIID)) == 0);¤	}¤	bool operator != (const ComIID& iid2) const {¤		return (memcmp (this, &iid2, sizeof (ComIID)) != 0);¤	}¤	bool operator < (const ComIID& iid2) const {¤		return (memcmp (this, &iid2, sizeof (ComIID)) < 0);¤	}¤};¤#pragma pack (pop)¤¤typedef void* (*CastFunc)(IObject* object);¤¤class IidMapManager {¤public:¤	void add_guid (const ComIID& guid, CastFunc cast_f) {¤		GDS_ASSERT (m_guid_to_func.find (guid) == m_guid_to_func.end ());¤		m_guid_to_func[guid] = cast_f;¤	}¤¤	unsigned long tie_query_interface (¤		const ComIID& iid¤		, IObject* from_object¤		, void*& to_object¤	) {¤		GuidToFunc::iterator it = m_guid_to_func.find (iid);¤		to_object = it != m_guid_to_func.end () ? it->second (from_object) : 0;¤¤		if (to_object) {¤			return 0x00000000UL;¤		} else {¤			return 0x80004002UL;¤		}¤	}¤¤private:¤	typedef std::map<ComIID, CastFunc> GuidToFunc;¤	GuidToFunc m_guid_to_func;¤};¤¤typedef ACE_Singleton <IidMapManager, ACE_SYNCH_RECURSIVE_MUTEX> IidMapManagerSgl;¤¤template <class _MyTie>¤class IidMapRegistrator {¤public:¤	IidMapRegistrator<_MyTie> () {¤		IidMapManagerSgl::instance()->add_guid (_MyTie::s_com_iid, _MyTie::cast);¤	}¤};¤¤class TIEBase {¤protected:	¤	virtual unsigned long __stdcall query_interface (¤		const ComIID& iid¤		, void*& object¤	) = 0;¤¤public:¤	virtual unsigned long __stdcall addref () const = 0;¤¤	virtual unsigned long __stdcall release () const = 0;¤¤protected:¤	class TIEBaseVar {¤		const TIEBase* m_tie_owner;¤	¤	public:¤		TIEBaseVar () : m_tie_owner (0) {¤		}¤		¤		~TIEBaseVar () {¤			this->release ();¤		}¤		¤		void release () {¤			if (m_tie_owner) {¤				m_tie_owner->release();¤			}¤			m_tie_owner = 0;¤		}¤¤		void operator = (const TIEBase* tb) {¤			m_tie_owner = tb;¤		}¤	};¤¤	TIEBase () : m_counter (1) {¤	}¤¤	mutable ACE_Atomic_Op <ACE_Thread_Mutex, long> m_counter;¤¤	TIEBaseVar m_tie_owner;¤};¤¤//базовый интерфейс для TIE-интерфейсов¤class IIObject_tie: public TIEBase {¤public:¤	virtual IObject* get_impl () const = 0;¤};¤¤class IObject_tie : public IIObject_tie {¤	SET_OBJECT_COUNTER (IObject_tie)¤protected:	¤	virtual unsigned long __stdcall query_interface (¤		const ComIID& iid¤		, void*& object¤	) {¤		if (iid == s_com_iid) {¤			this->addref();¤			object = this;¤			return 0x00000000UL;¤		} else {¤			return IidMapManagerSgl::instance()->tie_query_interface (iid, m_impl, object);¤		}¤	}¤¤	virtual unsigned long __stdcall addref () const {¤		return ++m_counter;¤	}¤¤public:¤	virtual unsigned long __stdcall release () const {¤		long const counter = --m_counter;¤¤		if (counter == 0) {			¤			MyPool::instance()->release_obj(const_cast<IObject_tie* const>(this));¤		}¤		return counter;¤	}¤	¤	virtual IObject* get_impl () const {¤		return m_impl;¤	}¤	// For ObjectPool's objects initialisation and destruction ¤public:¤	void init () {¤		m_counter = 1;¤	}¤¤	void done () {¤		m_impl->release();¤		m_impl = NULL;¤¤		m_tie_owner.release ();¤	}¤¤private:¤	IObject_tie () : m_impl(NULL) {¤	}¤¤	typedef PoolObjectManager<IObject_tie>::PoolObjectManagerSingleton MyPool;¤	typedef ::Core::PoolObjectManager<IObject_tie> Pool;¤	friend class ::Core::PoolObjectManager<IObject_tie>;¤¤	typedef ::Core::IidMapRegistrator<IObject_tie> IidRegistrator;¤	static IidRegistrator s_iid_registrator;¤¤public:¤	static const ComIID s_com_iid;¤¤	static void* cast (IObject* obj) {¤		IObject* ret = dynamic_cast<IObject*>(obj);¤		if (ret) {¤			ret->addref();¤		}¤		IIObject_tie* _ret = NULL;¤		IObject_tie::make_tie (ret, _ret);¤		return _ret;¤	}¤¤	inline static void make_cpp (const IIObject_tie* obj, IObject*& _ret, bool interface_addref = false) {¤		if (!obj) {¤			_ret = 0;¤		} else {¤			_ret = obj->get_impl ();¤			if (interface_addref) {¤				_ret->addref();¤			}¤		}¤	}¤¤	static void make_tie (const IObject* obj, IIObject_tie*& _ret, bool interface_addref = false) {¤		if (!obj) {¤			_ret = NULL;¤		} else {¤			if (_ret) {¤				_ret->release();¤			}¤			IObject_tie* ret = MyPool::instance()->new_obj();¤			ret->m_impl = const_cast<IObject*>(obj);¤			if (interface_addref) {¤				ret->m_impl->addref();¤			}¤			_ret = ret;¤		}¤	}¤¤	IObject* m_impl;¤};¤¤//#UC END# *450036090128_USER_DEFINITION*
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"ifdef"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"is namespace"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need inline-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (cpp)"
		    value      	"w:/shared/Core/mng/IObject_tie.cpp")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (h)"
		    value      	"w:/shared/Core/mng/IObject_tie.h")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"NESTED GENERATED WikiPageID (wiki)"
		    value      	(value Text 
|Shared (c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/IObject_tie/IndexOutOfBounds_tie|461500C9003E::461500C9003E;Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/IObject_tie/IndexOutOfBounds_tie|461500C9003E::461500C9003E
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/IObject_tie|450036090128
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (h)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (cpp)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"16657342063"))
	    quid       	"450036090128"
	    documentation 	"TIE-врапер для экспорта С++ интерфейсов в Дельфи"
	    stereotype 	"UtilityPack"
	    used_nodes 	(list uses_relationship_list
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657342916"))
		    quid       	"45004114009C"
		    supplier   	"Logical View::shared::Core::sys::IObject"
		    quidu      	"450035F1005D")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657343295"))
		    quid       	"4500414F0232"
		    supplier   	"Logical View::shared::Core::mng::PoolObjectManager"
		    quidu      	"45001560033C")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657343670"))
		    quid       	"450EA0BF02CE"
		    supplier   	"Logical View::shared::Core::fix::mpcxc"
		    quidu      	"45011F4F00FA")
		(object Uses_Relationship
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657344044"))
		    quid       	"450EA6C40251"
		    supplier   	"Logical View::shared::Core::GDS::ObjectCounter"
		    quidu      	"450E98A5029F"))
	    language   	"MDA Generator"
	    nestedClasses 	(list nestedClasses
		(object Class "IndexOutOfBounds_tie"
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"AbstarctOperation"
			    value      	"regular")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"IsNative"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator User Properties"
			    name       	"force usage"
			    value      	"true")
			(object Attribute
			    tool       	"MDA Generator User Properties"
			    name       	"stored message"
			    value      	"false")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"OS_GUID"
			    value      	"4DDEBC97-3F88-4811-9423-8BDEE07A9C21")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"WikiPageID (wiki)"
			    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/IObject_tie/IndexOutOfBounds_tie|461500C9003E
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"cpp:*461500C9003E_WHAT_IMPL*"
			    value      	(value Text 
|//#UC START# *461500C9003E_WHAT_IMPL*¤	return "IndexOutOfBounds_tie (Системное для Дельфи исключение о выходи за границы массива)";¤	//#UC END# *461500C9003E_WHAT_IMPL*
			    ))
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"SourceType (wiki)"
			    value      	"wiki")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ElementCreationOrder"
			    value      	"16657342368"))
		    quid       	"461500C9003E"
		    documentation 	"Системное для Дельфи исключение о выходи за границы массива"
		    stereotype 	"Exception")))
	(object Class "LogMsgSmartBackend"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need impl-file"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"AbstarctOperation"
		    value      	"final")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsNative"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"cpp:*4500362202BF_CUSTOM_INCLUDES*"
		    value      	(value Text 
|//#UC START# *4500362202BF_CUSTOM_INCLUDES*¤#include "ace/Argv_Type_Converter.h"¤#include "ace/Arg_Shifter.h"¤#include "ace/Date_Time.h"¤#include "ace/Log_Msg.h"¤#include "ace/OS.h"¤#include "bzlib.h"¤//#UC END# *4500362202BF_CUSTOM_INCLUDES*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"cpp:*4500362202BF*"
		    value      	(value Text 
|//#UC START# *4500362202BF*¤namespace {¤	const size_t c_internal_copy_size = 32*1024; // 32 Kb¤¤	const ACE_TCHAR c_backup_dir_parameter [] = ACE_TEXT ("-SBEBackupDir");¤¤	const ACE_TCHAR c_log_file_parameter [] = ACE_TEXT ("-SBELogFile");¤¤	const ACE_TCHAR c_max_log_file_size_parameter [] = ACE_TEXT ("-SBEMaxLogFileSize");¤	const ACE_TCHAR c_max_log_free_size_parameter [] = ACE_TEXT ("-SBEMaxLogFreeSize");¤¤	const long c_min_log_file_size = 64*1024; // 64 Kb¤	const long c_min_log_free_size = 32*1024; // 32 Kb;¤} // namespace¤¤namespace {¤	class StaticHelper {¤	public:¤		inline static int mkdir (¤			const ACE_TCHAR* path¤		) {¤			int result (0);¤¤			if (¤				(¤					path != 0¤				) && (¤					path [0] != ACE_TEXT ('\0')¤				) && (¤					(¤						path [0] != ACE_TEXT ('.')¤					) || (¤						path [1] != ACE_TEXT ('\0')¤					)¤#if (defined (ACE_WIN32))¤				) && (¤					(¤						path [1] != ACE_TEXT ('\0')¤					) && (¤						(¤							path [1] != ACE_TEXT (':')¤						) || (¤							path [2] != ACE_TEXT ('\0')¤						)¤					)¤#endif // (defined (ACE_WIN32))¤				)¤			) {¤				if (ACE_OS::access (path, F_OK) == -1) {¤					if (ACE_OS::last_error () == ENOENT) {¤						const ACE_TString dirname (ACE::dirname (path));¤				¤						if ((result = StaticHelper::mkdir (dirname.c_str ())) != -1) {¤							result = ACE_OS::mkdir (path);¤						}¤					} else {¤						result = -1;¤					}¤				}¤			}¤¤			return result;¤		}¤¤		inline static ACE_HANDLE open (¤			const ACE_TCHAR* filename¤			, int mode¤			, bool use_temp = true¤		) {¤			const ACE_TString dirname (ACE::dirname (filename));¤¤			ACE_HANDLE result ((StaticHelper::mkdir (dirname.c_str ()), ACE_OS::open (filename, mode)));¤¤			if ((result == ACE_INVALID_HANDLE) && (use_temp)) {¤				const ACE_TString basename (ACE::basename (filename));¤¤				ACE_TCHAR temp_file_name_dir [MAXPATHLEN+ 1];¤¤				if (ACE::get_temp_dir (temp_file_name_dir, MAXPATHLEN) == -1) {¤					ACE_OS::strcpy (temp_file_name_dir, ACE_TEXT ("."));¤					ACE_OS::strcat (temp_file_name_dir, ACE_DIRECTORY_SEPARATOR_STR);¤				}¤¤				ACE_TString filename (temp_file_name_dir);¤				filename += basename;¤¤				result = StaticHelper::open (filename.c_str (), mode, false);¤			}¤¤			return result;¤		}¤	public:¤		inline static void copy_all_data (const ACE_TCHAR* backup_name, const ACE_TCHAR* backup_dir) {¤			class Handle {¤			public:¤				Handle (const ACE_TCHAR* name, int mode) {¤					m_value = ACE_OS::open (name, mode);¤				}¤¤				~Handle () {¤					ACE_OS::close (m_value);¤				}¤			public:¤				ACE_HANDLE value () {¤					return m_value;¤				}¤			private:¤				ACE_HANDLE m_value;¤			}; // class Handle¤¤			const ACE_TCHAR file_name_format [] = ACE_TEXT ("%s%s%04d-%02d-%02d-%02d-%02d-%02d.log");¤¤			ACE_Auto_Basic_Array_Ptr <ACE_TCHAR> file_name_auto_ptr (¤				new ACE_TCHAR [¤					ACE_OS::strlen (file_name_format)¤					- 2 // length of `%s`¤					+ ACE_OS::strlen (backup_dir)¤					- 2 // length of `%s`¤					+ ACE_OS::strlen (ACE_DIRECTORY_SEPARATOR_STR)¤					- 4 // length of `%04d`¤					+ 4 // length of expanded `%04d`¤					- 4 // length of `%02d`¤					+ 2 // length of expanded `%02d`¤					- 4 // length of `%02d`¤					+ 2 // length of expanded `%02d`¤					- 4 // length of `%02d`¤					+ 2 // length of expanded `%02d`¤					- 4 // length of `%02d`¤					+ 2 // length of expanded `%02d`¤					- 4 // length of `%02d`¤					+ 2 // length of expanded `%02d`¤					+ 1 // length of `\x00`¤				]¤			);¤¤			ACE_TCHAR* file_name (file_name_auto_ptr.get ());¤			ACE_Date_Time current_date_time;¤¤			ACE_OS::sprintf (¤				file_name¤				, file_name_format¤				, backup_dir¤				, ACE_DIRECTORY_SEPARATOR_STR¤				, current_date_time.year ()¤				, current_date_time.month ()¤				, current_date_time.day ()¤				, current_date_time.hour ()¤				, current_date_time.minute ()¤				, current_date_time.second ()¤			);¤¤			{¤				StaticHelper::copy_data_by_handle (¤					Handle (file_name, (O_CREAT| O_TRUNC| O_WRONLY)).value ()¤					, Handle (backup_name, O_RDONLY).value ()¤				);¤			}¤¤			ACE_OS::unlink (backup_name);¤		}¤¤		inline static void trim_odd_data (ACE_HANDLE handle, off_t off) {¤			class PositionHolder {¤			public:¤				PositionHolder (ACE_HANDLE handle): m_handle (handle), m_off (0) {¤					m_off = ACE_OS::lseek (m_handle, m_off, SEEK_CUR);¤				}¤¤				~PositionHolder () {¤					m_off = ACE_OS::lseek (m_handle, m_off, SEEK_SET);¤				}¤			private:¤				ACE_HANDLE m_handle;¤				off_t m_off;¤			}; // class PositionHolder¤¤			if ((off != 0) && (ACE_OS::lseek (handle, off, SEEK_SET) != -1L)) {¤				ACE_Auto_Basic_Array_Ptr <char> buffer (new char [c_internal_copy_size]);¤¤				char* portion = buffer.get ();¤				off_t portion_off = 0;¤¤				bool align_to_newline = true;¤¤				while (true) {¤					size_t portion_size = c_internal_copy_size;¤¤					ssize_t result = ACE_OS::read (handle, portion, portion_size);¤¤					if (result <= 0) {¤						break;¤					}¤¤					portion_size = static_cast <size_t> (result);¤¤					size_t newline_offset = 0;¤¤					if (align_to_newline) {¤						for (size_t i = 0; i < portion_size; ++i) {¤							if (portion [i] == '\n') {¤								newline_offset = i+1;¤								break;¤							}¤						}¤¤						align_to_newline = false;¤					}¤¤					PositionHolder position_holder (handle);¤¤					portion_size -= newline_offset;¤¤					ACE_OS::lseek (handle, portion_off, SEEK_SET);¤					ACE_OS::write (handle, &portion [newline_offset], portion_size);¤¤					portion_off += static_cast <off_t> (portion_size);¤				}¤¤				ACE_OS::ftruncate ((ACE_OS::lseek (handle, portion_off, SEEK_SET), handle), portion_off);¤			}¤		}¤	private:¤		inline static void copy_data_by_handle (ACE_HANDLE dst_handle, ACE_HANDLE src_handle) {¤			class BZFile {¤			public:¤				BZFile (ACE_HANDLE handle): m_file (handle) {¤					m_value = BZ2_bzWriteOpen (&m_error, m_file.value (), 5, 0, 0);¤				}¤¤				~BZFile () {¤					BZ2_bzWriteClose (&m_error, m_value, 0, 0, 0);¤				}¤			public:¤				BZFILE* value () {¤					return m_value;¤				}¤			public:¤				int* error () {¤					return &m_error;¤				}¤			private:¤				class File {¤				public:¤					File (ACE_HANDLE handle) {¤						m_value = ACE_OS::fdopen (ACE_OS::dup (handle), ACE_TEXT ("wb"));¤					}¤¤					~File () {¤						ACE_OS::fclose (m_value);¤					}¤				public:¤					FILE* value () {¤						return m_value;¤					}¤				private:¤					FILE* m_value;¤				} m_file; // class File¤			private:¤				int m_error;¤				BZFILE* m_value;¤			}; // class BZFile¤¤			ACE_Auto_Basic_Array_Ptr <char> buffer (new char [c_internal_copy_size]);¤¤			char* portion = buffer.get ();¤¤			BZFile bzfile (dst_handle);¤¤			while (true) {¤				size_t portion_size = c_internal_copy_size;¤¤				ssize_t result = ACE_OS::read (src_handle, portion, portion_size);¤¤				if (result <= 0) {¤					break;¤				}¤¤				portion_size = static_cast <size_t> (result);¤¤				BZ2_bzWrite (bzfile.error (), bzfile.value (), portion, static_cast <int> (portion_size));¤			}¤		}¤	}; // class StaticHelper¤} // namespace¤¤LogMsgSmartBackend::LogMsgSmartBackend (int& argc, char** argv)¤	: m_log_msg_backend () // uninitialized¤	, m_stored_flags ()    // uninitialized¤	, m_mutex ()¤	, m_mutex4backup ()¤	, m_backup_dir ()¤	, m_log_file ()¤	, m_is_manual_mode (true)¤	, m_max_log_file_size (-1)¤	, m_max_log_free_size (-1)¤	, m_handle (ACE_INVALID_HANDLE)¤	, m_file (0) {¤	this->init (argc, argv);¤}¤¤LogMsgSmartBackend::~LogMsgSmartBackend () {¤	this->fini ();¤}¤¤int LogMsgSmartBackend::open (const ACE_TCHAR* logger_key) {¤	if (¤		ACE_BIT_ENABLED (m_stored_flags, ACE_Log_Msg::CUSTOM)¤		&& (m_log_msg_backend != 0)¤		&& (m_log_msg_backend->open (logger_key) == -1)¤	) {¤		return -1;¤	}¤¤	return this->open_i ();¤}¤¤int LogMsgSmartBackend::reset () {¤	int result = this->reset_i ();¤¤	if (¤		ACE_BIT_ENABLED (m_stored_flags, ACE_Log_Msg::CUSTOM)¤		&& (m_log_msg_backend != 0)¤		&& (m_log_msg_backend->reset () == -1)¤	) {¤		result = -1;¤	}¤¤	return result;¤}¤¤int LogMsgSmartBackend::close () {¤	int result = this->close_i ();¤¤	if (¤		ACE_BIT_ENABLED (m_stored_flags, ACE_Log_Msg::CUSTOM)¤		&& (m_log_msg_backend != 0)¤		&& (m_log_msg_backend->close () == -1)¤	) {¤		return -1;¤	}¤¤	return result;¤}¤¤int LogMsgSmartBackend::log (ACE_Log_Record& log_record) {¤	int result = this->log_i (log_record);¤¤	if (¤		ACE_BIT_ENABLED (m_stored_flags, ACE_Log_Msg::CUSTOM)¤		&& (m_log_msg_backend != 0)¤		&& (m_log_msg_backend->log (log_record) == -1)¤	) {¤		return -1;¤	}¤¤	return result;¤}¤¤void LogMsgSmartBackend::reset_to_truncate_mode () {¤	m_is_manual_mode = false;¤¤	this->do_truncate ();¤}¤¤void LogMsgSmartBackend::do_backup () {¤	const ACE_TCHAR* log_file (m_log_file.c_str ());¤¤	ACE_Auto_Basic_Array_Ptr <ACE_TCHAR> backup_log_file_auto_ptr;¤	{¤		ACE_GUARD (ACE_SYNCH_RECURSIVE_MUTEX, _GUARD, m_mutex);¤¤		if (m_is_manual_mode) {¤			if ((m_handle != ACE_INVALID_HANDLE) && (m_backup_dir.length () != 0)) {¤				const ACE_TCHAR file_name_format [] = ACE_TEXT ("%s4backup");¤¤				ACE_Auto_Basic_Array_Ptr <ACE_TCHAR> file_name_auto_ptr (¤					new ACE_TCHAR [¤						ACE_OS::strlen (file_name_format)¤						- 2 // length of `%s`¤						+ ACE_OS::strlen (log_file)¤						+ 1 // length of `\x00`¤					]¤				);¤¤				ACE_TCHAR* file_name (file_name_auto_ptr.get ());¤				ACE_OS::sprintf (file_name, file_name_format, log_file);¤¤				ACE_GUARD (ACE_SYNCH_RECURSIVE_MUTEX, _GUARD4BACKUP, m_mutex4backup);¤¤				this->close_i ();¤				{¤					this->close_h ();¤					{¤						ACE_OS::rename (log_file, file_name);¤					}¤					this->open_h ();¤				}¤				this->open_i ();¤¤				backup_log_file_auto_ptr = file_name_auto_ptr;¤			}¤		}¤	}¤¤	ACE_TCHAR* backup_log_file (backup_log_file_auto_ptr.get ());¤¤	if (backup_log_file != 0) {¤		const ACE_TCHAR* backup_dir (m_backup_dir.c_str ());¤¤		ACE_GUARD (ACE_SYNCH_RECURSIVE_MUTEX, _GUARD4BACKUP, m_mutex4backup);¤¤		StaticHelper::copy_all_data (backup_log_file, (StaticHelper::mkdir (backup_dir), backup_dir));¤	}¤}¤¤void LogMsgSmartBackend::do_truncate () {¤	ACE_GUARD (ACE_SYNCH_RECURSIVE_MUTEX, _GUARD, m_mutex);¤¤	if (!m_is_manual_mode) {¤		if ((m_handle != ACE_INVALID_HANDLE) && (m_file != 0) && (m_max_log_file_size != -1)) {¤			long log_file_size = ACE_OS::ftell (m_file);¤¤			if ((log_file_size != -1) && (log_file_size >= m_max_log_file_size)) {¤				this->close_i ();¤					StaticHelper::trim_odd_data (m_handle, this->head_position ());¤				this->open_i ();¤			}¤		}¤	}¤}¤¤void LogMsgSmartBackend::init (int& argc, char** argv) {¤	ACE_Argv_Type_Converter command_line (argc, argv);¤	ACE_Arg_Shifter arg_shifter (command_line.get_argc (), command_line.get_TCHAR_argv ());¤¤	while (arg_shifter.is_anything_left ()) {¤		const ACE_TCHAR* current_arg = 0;¤¤		if ((current_arg = arg_shifter.get_the_parameter (c_log_file_parameter))) {¤			m_log_file = current_arg;¤¤			arg_shifter.consume_arg ();¤        } else if ((current_arg = arg_shifter.get_the_parameter (c_backup_dir_parameter))) {¤			m_backup_dir = current_arg;¤¤			arg_shifter.consume_arg ();¤        } else if ((current_arg = arg_shifter.get_the_parameter (c_max_log_file_size_parameter))) {¤			m_max_log_file_size = ACE_OS::strtol (current_arg, 0, 10);¤¤			if (m_max_log_file_size < c_min_log_file_size) {¤				m_max_log_file_size = c_min_log_file_size;¤			}¤¤			arg_shifter.consume_arg ();¤        } else if ((current_arg = arg_shifter.get_the_parameter (c_max_log_free_size_parameter))) {¤			m_max_log_free_size = ACE_OS::strtol (current_arg, 0, 10);¤¤			if (m_max_log_free_size < c_min_log_free_size) {¤				m_max_log_free_size = c_min_log_free_size;¤			}¤¤			arg_shifter.consume_arg ();¤        } else {¤			arg_shifter.ignore_arg (); // skip unknown options¤		}¤	}¤¤	if (m_log_file != "") {¤		if (m_backup_dir == "") {¤			m_backup_dir = ACE::dirname (m_log_file.c_str ());¤		}¤¤		this->open_h ();¤		this->open_i ();¤¤		this->set_hook ();¤	}¤}¤¤void LogMsgSmartBackend::fini () {¤	if (m_log_file != "") {¤		this->clr_hook ();¤¤		this->close_i ();¤		this->close_h ();¤	}¤}¤¤void LogMsgSmartBackend::open_h () {¤	if (m_log_file != "") {¤		m_handle = StaticHelper::open (m_log_file.c_str (), (O_CREAT | O_APPEND| O_RDWR));¤	}¤}¤¤void LogMsgSmartBackend::close_h () {¤	if (m_handle != ACE_INVALID_HANDLE) {¤		(ACE_OS::close (m_handle), m_handle = ACE_INVALID_HANDLE);¤	}¤}¤¤void LogMsgSmartBackend::set_hook () {¤	m_stored_flags = ACE_LOG_MSG->flags ();¤¤	(ACE_LOG_MSG->clr_flags (ACE_Log_Msg::CUSTOM), m_log_msg_backend = ACE_LOG_MSG->msg_backend (this));¤	(ACE_LOG_MSG->set_flags (ACE_Log_Msg::CUSTOM), ACE_LOG_MSG->clr_flags (ACE_Log_Msg::STDERR | ACE_Log_Msg::LOGGER));¤}¤¤void LogMsgSmartBackend::clr_hook () {¤	(ACE_LOG_MSG->clr_flags (ACE_Log_Msg::CUSTOM), ACE_LOG_MSG->msg_backend (m_log_msg_backend));¤	(ACE_LOG_MSG->set_flags (m_stored_flags), ACE_LOG_MSG->clr_flags (~m_stored_flags));¤}¤¤long LogMsgSmartBackend::head_position () {¤	if ((m_max_log_free_size == -1) || (m_max_log_free_size > m_max_log_file_size/2)) {¤		return m_max_log_file_size/2;¤	}¤¤	return m_max_log_free_size;¤}¤¤int LogMsgSmartBackend::open_i () {¤	ACE_GUARD_RETURN (ACE_SYNCH_RECURSIVE_MUTEX, _GUARD, m_mutex, -1);¤¤	if (¤		(¤			m_handle != ACE_INVALID_HANDLE¤		) && (¤			(m_file = ACE_OS::fdopen (ACE_OS::dup (m_handle), ACE_TEXT ("a+"))) == 0¤		)¤	) {¤		return -1;¤	}¤¤	if (m_file != 0) {¤#if (defined (ACE_WIN32))¤		_setmode (_fileno (m_file), _O_TEXT); // for Windows only ('\n' == `0x0D``0x0A`)¤#endif // (defined (ACE_WIN32))¤	}¤¤	return 0;¤}¤¤int LogMsgSmartBackend::reset_i () {¤	return this->close_i ();¤}¤¤int LogMsgSmartBackend::close_i () {¤	ACE_GUARD_RETURN (ACE_SYNCH_RECURSIVE_MUTEX, _GUARD, m_mutex, -1);¤¤	if (m_file != 0) {¤		(ACE_OS::fclose (m_file), m_file = 0);¤	}¤¤	return 0;¤}¤¤int LogMsgSmartBackend::log_i (ACE_Log_Record& log_record) {¤	ACE_GUARD_RETURN (ACE_SYNCH_RECURSIVE_MUTEX, _GUARD, m_mutex, -1);¤¤	if (m_file != 0) {¤		if ((ACE_OS::fprintf (m_file, "%s", log_record.msg_data ()) < 0) || (ACE_OS::fflush (m_file) == -1)) {¤			return -1;¤		}¤¤		this->do_truncate ();¤	}¤¤	return 0;¤}¤¤¤LogMsgSmartBackendCatcher::LogMsgSmartBackendCatcher (ACE_Log_Msg_Backend* log_msg_backend): m_log_msg_backend (0) {¤	m_stored_flags = ACE_LOG_MSG->flags ();¤¤	if (log_msg_backend != 0) {¤		(ACE_LOG_MSG->clr_flags (ACE_Log_Msg::CUSTOM), m_log_msg_backend = ACE_LOG_MSG->msg_backend (log_msg_backend));¤		(ACE_LOG_MSG->set_flags (ACE_Log_Msg::CUSTOM), ACE_LOG_MSG->clr_flags (ACE_Log_Msg::STDERR | ACE_Log_Msg::LOGGER));¤	}¤}¤¤LogMsgSmartBackendCatcher::~LogMsgSmartBackendCatcher () {¤	(ACE_LOG_MSG->clr_flags (ACE_Log_Msg::CUSTOM), ACE_LOG_MSG->msg_backend (m_log_msg_backend));¤	(ACE_LOG_MSG->set_flags (m_stored_flags), ACE_LOG_MSG->clr_flags (~m_stored_flags));¤}¤//#UC END# *4500362202BF*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*4500362202BF_USER_INCLUDES*"
		    value      	(value Text 
|//#UC START# *4500362202BF_USER_INCLUDES*¤#include "ace/Log_Msg_Backend.h"¤#include "ace/Log_Record.h"¤#include "ace/SString.h"¤#include "ace/Synch.h"¤#include "ace/Vector_T.h"¤//#UC END# *4500362202BF_USER_INCLUDES*
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"h:*4500362202BF_USER_DEFINITION*"
		    value      	(value Text 
|//#UC START# *4500362202BF_USER_DEFINITION*¤class LogMsgSmartBackend: virtual public ACE_Log_Msg_Backend {¤public:¤	LogMsgSmartBackend (int& argc, char** argv);¤	virtual ~LogMsgSmartBackend ();¤public:¤	virtual int open (const ACE_TCHAR* logger_key);¤	virtual int reset ();¤	virtual int close ();¤¤	virtual int log (ACE_Log_Record& log_record);¤public:¤	void reset_to_truncate_mode ();¤public:¤	void do_backup ();¤	void do_truncate ();¤private:¤	void init (int& argc, char** argv);¤	void fini ();¤	void open_h ();¤	void close_h ();¤¤	void set_hook ();¤	void clr_hook ();¤private:¤	long head_position ();¤private:¤	int open_i ();¤	int reset_i ();¤	int close_i ();¤¤	int log_i (ACE_Log_Record& log_record);¤private:¤	ACE_Log_Msg_Backend* m_log_msg_backend;¤	u_long m_stored_flags;¤private:¤	ACE_SYNCH_RECURSIVE_MUTEX m_mutex;¤	ACE_SYNCH_RECURSIVE_MUTEX m_mutex4backup;¤¤	ACE_TString m_backup_dir;¤	ACE_TString m_log_file;¤¤	bool m_is_manual_mode;¤¤	long m_max_log_file_size;¤	long m_max_log_free_size;¤private:¤	ACE_HANDLE m_handle;¤	FILE* m_file;¤}; // class LogMsgSmartBackend¤¤¤class LogMsgSmartBackendCatcher {¤public:¤	LogMsgSmartBackendCatcher (ACE_Log_Msg_Backend* log_msg_backend);¤	virtual ~LogMsgSmartBackendCatcher ();¤private:¤	ACE_Log_Msg_Backend* m_log_msg_backend;¤	u_long m_stored_flags;¤}; // class LogMsgSmartBackendTraslator¤//#UC END# *4500362202BF_USER_DEFINITION*
		    ))
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"ifdef"
		    value      	"")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"is namespace"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need UC"
		    value      	"true")
		(object Attribute
		    tool       	"MDA Generator User Properties"
		    name       	"need inline-file"
		    value      	"false")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (cpp)"
		    value      	"w:/shared/Core/mng/LogMsgSmartBackend.cpp")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SELF GENERATED FILE (h)"
		    value      	"w:/shared/Core/mng/LogMsgSmartBackend.h")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"WikiPageID (wiki)"
		    value      	(value Text 
|Shared (java and c++),key:SHR,guid:44FEAD4A0272/Home/Модель проекта "shared"/Core/mng/LogMsgSmartBackend|4500362202BF
		    ))
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (wiki)"
		    value      	"wiki")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (h)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"SourceType (cpp)"
		    value      	"file")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ElementCreationOrder"
		    value      	"16657344619"))
	    quid       	"4500362202BF"
	    documentation 	
|бекенд для АСЕ-логера, позволяет управлять максимальным размеров выходного лог-файла или "сбрасывать" весь текущий лог в отдельный файл (имя: "<год>-<месяц>-<число>-<час>-<минута>-<секунда>.log")
	    
	    stereotype 	"UtilityPack"
	    language   	"MDA Generator"))
    logical_presentations 	(list unit_reference_list
	(object ClassDiagram "Main"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ColorizeFor"
		    value      	"44FEAD4A0272")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsChanged"
		    value      	""))
	    quid       	"45000C5303B9"
	    title      	"Main"
	    zoom       	100
	    max_height 	28350
	    max_width  	21600
	    origin_x   	0
	    origin_y   	612
	    items      	(list diagram_item_list
		(object ClassView "Class" "Logical View::shared::Core::mng::Box" @1
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"489")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"1968")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"348")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(300, 2007)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@1
			location   	(135, 1973)
			fill_color 	13434879
			nlines     	1
			max_width  	330
			justify    	0
			label      	"• Box")
		    stereotype 	(object ItemLabel
			Parent_View 	@1
			location   	(135, 1928)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	327
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    fill_color 	14145535
		    quidu      	"45001507004E"
		    width      	348
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::mng::PtrGuard" @2
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"957")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"513")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"346")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(768, 552)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@2
			location   	(604, 518)
			fill_color 	13434879
			nlines     	1
			max_width  	328
			justify    	0
			label      	"• PtrGuard")
		    stereotype 	(object ItemLabel
			Parent_View 	@2
			location   	(604, 473)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	325
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    fill_color 	14145535
		    quidu      	"4500151200DA"
		    width      	346
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::mng::Var" @3
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"1683")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"507")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"348")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(1494, 546)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@3
			location   	(1329, 512)
			fill_color 	13434879
			nlines     	1
			max_width  	330
			justify    	0
			label      	"• Var")
		    stereotype 	(object ItemLabel
			Parent_View 	@3
			location   	(1329, 467)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	327
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    fill_color 	14145535
		    quidu      	"4500152300FA"
		    width      	348
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::mng::TypeSingleton" @4
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"222")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"1038")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"346")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(2820, 360)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@4
			location   	(2656, 326)
			fill_color 	13434879
			nlines     	1
			max_width  	328
			justify    	0
			label      	"• TypeSingleton")
		    stereotype 	(object ItemLabel
			Parent_View 	@4
			location   	(2656, 281)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	325
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    fill_color 	14145535
		    quidu      	"4500152B01E4"
		    width      	346
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::mng::TypeDestructors" @5
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"1074")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"1665")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"358")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(885, 1704)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@5
			location   	(715, 1670)
			fill_color 	13434879
			nlines     	1
			max_width  	340
			justify    	0
			label      	"• TypeDestructors")
		    stereotype 	(object ItemLabel
			Parent_View 	@5
			location   	(715, 1625)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	340
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    fill_color 	14145535
		    quidu      	"4500153C0138"
		    width      	358
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::mng::PoolMemoryManager" @6
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"1683")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"1059")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"442")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(1494, 1098)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@6
			location   	(1282, 1064)
			fill_color 	13434879
			nlines     	1
			max_width  	424
			justify    	0
			label      	"• PoolMemoryManager")
		    stereotype 	(object ItemLabel
			Parent_View 	@6
			location   	(1282, 1019)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	424
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    fill_color 	14145535
		    quidu      	"450015550261"
		    width      	442
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::mng::PoolObjectManager" @7
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"2220")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"1059")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"404")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(2031, 1098)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@7
			location   	(1838, 1064)
			fill_color 	13434879
			nlines     	1
			max_width  	386
			justify    	0
			label      	"• PoolObjectManager")
		    stereotype 	(object ItemLabel
			Parent_View 	@7
			location   	(1838, 1019)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	386
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    fill_color 	14145535
		    quidu      	"45001560033C"
		    width      	404
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @8
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"1508,507;1130,511"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"4500164F036B"
		    client     	@3
		    supplier   	@2
		    vertices   	(list Points
			(1319, 546)
			(941, 550))
		    line_style 	0)
		(object ClassView "Class" "Logical View::shared::Core::mng::Aptr" @9
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"1647")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"1980")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"348")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(1458, 2019)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@9
			location   	(1293, 1985)
			fill_color 	13434879
			nlines     	1
			max_width  	330
			justify    	0
			label      	"• Aptr")
		    stereotype 	(object ItemLabel
			Parent_View 	@9
			location   	(1293, 1940)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	327
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    fill_color 	14145535
		    quidu      	"450029C102BF"
		    width      	348
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::sys::Exception" @10
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"1674")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"217")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"346")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(1485, 255)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	658175
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@10
			location   	(1335, 221)
			nlines     	1
			max_width  	300
			justify    	0
			label      	"• Exception")
		    stereotype 	(object ItemLabel
			Parent_View 	@10
			location   	(1335, 176)
			anchor     	10
			nlines     	1
			max_width  	297
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    line_color 	658175
		    fill_color 	16777215
		    quidu      	"450035A90222"
		    width      	318
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::sys::IObject" @11
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"2232")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"124")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"366")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(2043, 162)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	TRUE
			underline  	FALSE
			strike     	FALSE
			color      	705320
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@11
			location   	(1877, 128)
			nlines     	1
			max_width  	332
			justify    	0
			label      	"• IObject")
		    stereotype 	(object ItemLabel
			Parent_View 	@11
			location   	(1877, 83)
			anchor     	10
			nlines     	1
			max_width  	332
			justify    	0
			label      	"<<SimpleClass>>")
		    icon_style 	"Label"
		    line_color 	705320
		    fill_color 	16777215
		    quidu      	"450035F1005D"
		    width      	350
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @12
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"1812,416;2100,214"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"4500441E0280"
		    client     	@3
		    supplier   	@11
		    vertices   	(list Points
			(1623, 455)
			(1913, 252))
		    line_style 	0)
		(object UsesView "" @13
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"1679,416;1676,307"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"45004420002E"
		    client     	@3
		    supplier   	@10
		    vertices   	(list Points
			(1490, 455)
			(1487, 345))
		    line_style 	0)
		(object ClassView "Class" "Logical View::shared::Core::data::DynamicBitSet" @14
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"1457")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"775")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"366")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(1269, 813)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	705320
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@14
			location   	(1094, 779)
			nlines     	1
			max_width  	350
			justify    	0
			label      	"• DynamicBitSet")
		    stereotype 	(object ItemLabel
			Parent_View 	@14
			location   	(1094, 734)
			anchor     	10
			nlines     	1
			max_width  	350
			justify    	0
			label      	"<<SimpleClass>>")
		    icon_style 	"Label"
		    line_color 	705320
		    fill_color 	16777215
		    quidu      	"44FFFD5902BF"
		    width      	368
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @15
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"1611,968;1528,865"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"4500454000BB"
		    client     	@6
		    supplier   	@14
		    vertices   	(list Points
			(1422, 1007)
			(1340, 903))
		    line_style 	0)
		(object UsesView "" @16
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"1683,968;1683,597"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"4500456D036B"
		    client     	@6
		    supplier   	@3
		    vertices   	(list Points
			(1494, 1007)
			(1494, 636))
		    line_style 	0)
		(object ClassView "Class" "Logical View::shared::Core::sys::synch" @17
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"217")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"155")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"346")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(2823, 954)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	658175
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@17
			location   	(2673, 920)
			nlines     	1
			max_width  	300
			justify    	0
			label      	"• synch")
		    stereotype 	(object ItemLabel
			Parent_View 	@17
			location   	(2673, 875)
			anchor     	10
			nlines     	1
			max_width  	297
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    line_color 	658175
		    fill_color 	16777215
		    quidu      	"45003429008C"
		    width      	318
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::mng::IObject_tie" @18
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"2232")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"1550")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"318")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"182"))
		    location   	(2043, 1590)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@18
			location   	(1893, 1555)
			fill_color 	13434879
			nlines     	1
			max_width  	300
			justify    	0
			label      	"• IObject_tie")
		    stereotype 	(object ItemLabel
			Parent_View 	@18
			location   	(1893, 1510)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	297
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    line_color 	7885055
		    fill_color 	14145535
		    quidu      	"450036090128"
		    width      	318
		    height     	182
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @19
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"2220,968;2230,214"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450044CD00BB"
		    client     	@7
		    supplier   	@11
		    vertices   	(list Points
			(2031, 1007)
			(2041, 252))
		    line_style 	0)
		(object UsesView "" @20
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"2168,969;2168,532;1857,532"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"45011DB60128"
		    client     	@7
		    supplier   	@3
		    vertices   	(list Points
			(1979, 1008)
			(1979, 569)
			(1668, 569))
		    line_style 	3
		    origin_attachment 	(1979, 1008)
		    terminal_attachment 	(1668, 569))
		(object ClassView "Class" "Logical View::shared::Core::fix::mpcxc" @21
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"2418")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"651")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"334")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(2229, 690)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	658175
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@21
			location   	(2079, 656)
			nlines     	1
			max_width  	300
			justify    	0
			label      	"• mpcxc")
		    stereotype 	(object ItemLabel
			Parent_View 	@21
			location   	(2079, 611)
			anchor     	10
			nlines     	1
			max_width  	297
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    line_color 	658175
		    fill_color 	16777215
		    quidu      	"45011F4F00FA"
		    width      	318
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::sys::assert" @22
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"2077")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"1767")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"346")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(1596, 1686)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	658175
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@22
			location   	(1446, 1652)
			nlines     	1
			max_width  	300
			justify    	0
			label      	"• assert")
		    stereotype 	(object ItemLabel
			Parent_View 	@22
			location   	(1446, 1607)
			anchor     	10
			nlines     	1
			max_width  	297
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    line_color 	658175
		    fill_color 	16777215
		    quidu      	"450E981C03D8"
		    width      	318
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::GDS::ObjectCounter" @23
		    ShowCompartmentStereotypes 	TRUE
		    SuppressAttribute 	TRUE
		    SuppressOperation 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"2573")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"1829")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"346")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(1647, 1353)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	658175
			default_color 	FALSE)
		    label      	(object ItemLabel
			Parent_View 	@23
			location   	(1475, 1319)
			nlines     	1
			max_width  	344
			justify    	0
			label      	"• ObjectCounter")
		    stereotype 	(object ItemLabel
			Parent_View 	@23
			location   	(1475, 1274)
			anchor     	10
			nlines     	1
			max_width  	344
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    line_color 	658175
		    fill_color 	16777215
		    quidu      	"450E98A5029F"
		    width      	362
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object ClassView "Class" "Logical View::shared::Core::mng::LogMsgSmartBackend" @24
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"438")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"2529")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"476")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(2868, 654)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@24
			location   	(2639, 620)
			fill_color 	13434879
			nlines     	1
			max_width  	458
			justify    	0
			label      	"• LogMsgSmartBackend")
		    stereotype 	(object ItemLabel
			Parent_View 	@24
			location   	(2639, 575)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	458
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    fill_color 	14145535
		    quidu      	"4500362202BF"
		    width      	476
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @25
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"660,1877;896,1755"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450016370271"
		    client     	@1
		    supplier   	@5
		    vertices   	(list Points
			(471, 1916)
			(707, 1794))
		    line_style 	0)
		(object UsesView "" @26
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"518,1877;927,603"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"4500164C0213"
		    client     	@1
		    supplier   	@2
		    vertices   	(list Points
			(329, 1916)
			(738, 642))
		    line_style 	0)
		(object UsesView "" @27
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"497,1878;497,184;1515,184"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450045D5004E"
		    client     	@1
		    supplier   	@10
		    vertices   	(list Points
			(308, 1917)
			(308, 222)
			(1326, 222))
		    line_style 	3
		    origin_attachment 	(308, 1917)
		    terminal_attachment 	(1326, 222))
		(object UsesView "" @28
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"444,1878;444,95;2057,95"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450045DC0177"
		    client     	@1
		    supplier   	@11
		    vertices   	(list Points
			(255, 1917)
			(255, 134)
			(1868, 134))
		    line_style 	3
		    origin_attachment 	(255, 1917)
		    terminal_attachment 	(1868, 134))
		(object ClassView "Class" "Logical View::shared::Core::mng::CacheMap" @29
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewXPosition"
			    value      	"225")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewYPosition"
			    value      	"456")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewWidth"
			    value      	"346")
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"ItemViewHeight"
			    value      	"180"))
		    location   	(2832, 1254)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@29
			location   	(2668, 1220)
			fill_color 	13434879
			nlines     	1
			max_width  	328
			justify    	0
			label      	"• CacheMap")
		    stereotype 	(object ItemLabel
			Parent_View 	@29
			location   	(2668, 1175)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	325
			justify    	0
			label      	"<<UtilityPack>>")
		    icon_style 	"Label"
		    fill_color 	14145535
		    quidu      	"4500154A03C8"
		    width      	346
		    height     	180
		    annotation 	8
		    autoResize 	TRUE)
		(object UsesView "" @30
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"222,365;219,245"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450045B30196"
		    client     	@29
		    supplier   	@17
		    vertices   	(list Points
			(2828, 1163)
			(2825, 1044))
		    line_style 	0)
		(object UsesView "" @31
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"2391,1575;2637,1575;2637,148;2407,148"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"45004114009C"
		    client     	@18
		    supplier   	@11
		    vertices   	(list Points
			(2202, 1614)
			(2447, 1614)
			(2447, 200)
			(2218, 200))
		    line_style 	3
		    origin_attachment 	(2202, 1614)
		    terminal_attachment 	(2218, 200))
		(object UsesView "" @32
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"2229,1458;2221,1149"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"4500414F0232"
		    client     	@18
		    supplier   	@7
		    vertices   	(list Points
			(2040, 1498)
			(2032, 1188))
		    line_style 	0)
		(object UsesView "" @33
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"2391,1498;2513,1498;2513,741"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450EA0BF02CE"
		    client     	@18
		    supplier   	@21
		    vertices   	(list Points
			(2202, 1536)
			(2324, 1536)
			(2324, 780))
		    line_style 	3
		    origin_attachment 	(2202, 1536)
		    terminal_attachment 	(2324, 780))
		(object UsesView "" @34
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"2344,1641;2462,1738"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450EA6C40251"
		    client     	@18
		    supplier   	@23
		    vertices   	(list Points
			(1891, 1498)
			(1799, 1443))
		    line_style 	0)
		(object UsesView "" @35
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"1482,1889;1240,1755"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"4500163F00BB"
		    client     	@9
		    supplier   	@5
		    vertices   	(list Points
			(1293, 1928)
			(1051, 1794))
		    line_style 	0)
		(object UsesView "" @36
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"1603,1889;999,603"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"4500335802CE"
		    client     	@9
		    supplier   	@2
		    vertices   	(list Points
			(1414, 1928)
			(810, 642))
		    line_style 	0)
		(object UsesView "" @37
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"1821,1984;2840,1984;2840,148;2407,148"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"4500468C00EA"
		    client     	@9
		    supplier   	@11
		    vertices   	(list Points
			(1632, 2023)
			(2538, 2023)
			(2538, 134)
			(2218, 134))
		    line_style 	3
		    origin_attachment 	(1632, 2023)
		    terminal_attachment 	(2218, 134))
		(object UsesView "" @38
		    attributes 	(list Attribute_Set
			(object Attribute
			    tool       	"MDA Generator"
			    name       	"LineVertices"
			    value      	"1821,1892;1917,1844"))
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    stereotype 	TRUE
		    line_color 	3947680
		    quidu      	"450EA3250000"
		    client     	@9
		    supplier   	@22
		    vertices   	(list Points
			(1494, 1928)
			(1557, 1776))
		    line_style 	0)))
	(object ClassDiagram "Main"
	    attributes 	(list Attribute_Set
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"ClassUID"
		    value      	"450036090128")
		(object Attribute
		    tool       	"MDA Generator"
		    name       	"IsChanged"
		    value      	""))
	    quid       	"4756B9F80095"
	    title      	"Main"
	    zoom       	100
	    max_height 	28350
	    max_width  	21600
	    origin_x   	0
	    origin_y   	0
	    items      	(list diagram_item_list
		(object ClassView "Class" "Logical View::shared::Core::mng::IObject_tie::IndexOutOfBounds_tie" @39
		    ShowCompartmentStereotypes 	TRUE
		    IncludeAttribute 	TRUE
		    IncludeOperation 	TRUE
		    ShowOperationSignature 	TRUE
		    location   	(930, 516)
		    font       	(object Font
			size       	10
			face       	"Arial"
			charSet    	204
			bold       	FALSE
			italics    	FALSE
			underline  	FALSE
			strike     	FALSE
			color      	0
			default_color 	TRUE)
		    label      	(object ItemLabel
			Parent_View 	@39
			location   	(686, 457)
			fill_color 	13434879
			nlines     	1
			max_width  	488
			justify    	0
			label      	"• IndexOutOfBounds_tie")
		    stereotype 	(object ItemLabel
			Parent_View 	@39
			location   	(686, 412)
			fill_color 	13434879
			anchor     	10
			nlines     	1
			max_width  	488
			justify    	0
			label      	"<<Exception>>")
		    icon_style 	"Label"
		    fill_color 	9869055
		    quidu      	"461500C9003E"
		    width      	506
		    height     	230
		    annotation 	8
		    autoResize 	TRUE)))))
